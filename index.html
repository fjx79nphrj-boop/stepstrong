<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#0f1117">
<title>Steadfast</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html, body, #root { min-height: 100vh; background: #0f1117; }
body { overscroll-behavior: none; }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.24.7/babel.min.js"></script>
</head>
<body>
<div id="root"></div>
<script>
var b=Uint8Array.from(atob("Y29uc3QgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZU1lbW8gfSA9IFJlYWN0OwoKCi8qIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAogICBTVEVBREZBU1Qg4oCUIFN0ZXBwYXJlbnQgUmVsYXRpb25zaGlwIFRyYWNrZXIKICAgTG9jYWwtZmlyc3QgUFdBIOKAoiBObyBiYWNrZW5kIOKAoiBJbmRleGVkREIKICAg4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQICovCgovLyDilIDilIAgRm9udHM6IHN5c3RlbSBmb250cyBvbmx5IChubyBleHRlcm5hbCByZXF1ZXN0cykg4pSA4pSACgovLyDilIDilIAgSW5kZXhlZERCIOKUgOKUgApjb25zdCBEQiA9ICJzdGVhZGZhc3RfdjEiOwpjb25zdCBWRVIgPSAxOwpjb25zdCBTID0geyBlbnRyaWVzOiAiZW50cmllcyIsIHByb2ZpbGU6ICJwcm9maWxlIiwgc25hcHNob3RzOiAic25hcHNob3RzIiB9OwoKZnVuY3Rpb24gaWRiKCkgewogIHJldHVybiBuZXcgUHJvbWlzZSgob2ssIGZhaWwpID0+IHsKICAgIGNvbnN0IHIgPSBpbmRleGVkREIub3BlbihEQiwgVkVSKTsKICAgIHIub251cGdyYWRlbmVlZGVkID0gKGUpID0+IHsKICAgICAgY29uc3QgZCA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgaWYgKCFkLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoUy5lbnRyaWVzKSkgewogICAgICAgIGNvbnN0IHMgPSBkLmNyZWF0ZU9iamVjdFN0b3JlKFMuZW50cmllcywgeyBrZXlQYXRoOiAiaWQiIH0pOwogICAgICAgIHMuY3JlYXRlSW5kZXgoImRhdGUiLCAiZGF0ZSIpOwogICAgICB9CiAgICAgIGlmICghZC5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKFMucHJvZmlsZSkpCiAgICAgICAgZC5jcmVhdGVPYmplY3RTdG9yZShTLnByb2ZpbGUsIHsga2V5UGF0aDogImtleSIgfSk7CiAgICAgIGlmICghZC5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKFMuc25hcHNob3RzKSkKICAgICAgICBkLmNyZWF0ZU9iamVjdFN0b3JlKFMuc25hcHNob3RzLCB7IGtleVBhdGg6ICJpZCIgfSk7CiAgICB9OwogICAgci5vbnN1Y2Nlc3MgPSAoKSA9PiBvayhyLnJlc3VsdCk7CiAgICByLm9uZXJyb3IgPSAoKSA9PiBmYWlsKHIuZXJyb3IpOwogIH0pOwp9CmFzeW5jIGZ1bmN0aW9uIHB1dChzLCBkKSB7IGNvbnN0IGRiID0gYXdhaXQgaWRiKCk7IHJldHVybiBuZXcgUHJvbWlzZSgob2ssIGYpID0+IHsgY29uc3QgdCA9IGRiLnRyYW5zYWN0aW9uKHMsICJyZWFkd3JpdGUiKTsgdC5vYmplY3RTdG9yZShzKS5wdXQoZCk7IHQub25jb21wbGV0ZSA9ICgpID0+IG9rKCk7IHQub25lcnJvciA9ICgpID0+IGYodC5lcnJvcik7IH0pOyB9CmFzeW5jIGZ1bmN0aW9uIGdldEFsbChzKSB7IGNvbnN0IGRiID0gYXdhaXQgaWRiKCk7IHJldHVybiBuZXcgUHJvbWlzZSgob2ssIGYpID0+IHsgY29uc3QgciA9IGRiLnRyYW5zYWN0aW9uKHMsICJyZWFkb25seSIpLm9iamVjdFN0b3JlKHMpLmdldEFsbCgpOyByLm9uc3VjY2VzcyA9ICgpID0+IG9rKHIucmVzdWx0KTsgci5vbmVycm9yID0gKCkgPT4gZihyLmVycm9yKTsgfSk7IH0KYXN5bmMgZnVuY3Rpb24gZ2V0KHMsIGspIHsgY29uc3QgZGIgPSBhd2FpdCBpZGIoKTsgcmV0dXJuIG5ldyBQcm9taXNlKChvaywgZikgPT4geyBjb25zdCByID0gZGIudHJhbnNhY3Rpb24ocywgInJlYWRvbmx5Iikub2JqZWN0U3RvcmUocykuZ2V0KGspOyByLm9uc3VjY2VzcyA9ICgpID0+IG9rKHIucmVzdWx0KTsgci5vbmVycm9yID0gKCkgPT4gZihyLmVycm9yKTsgfSk7IH0KYXN5bmMgZnVuY3Rpb24gZGVsKHMsIGspIHsgY29uc3QgZGIgPSBhd2FpdCBpZGIoKTsgcmV0dXJuIG5ldyBQcm9taXNlKChvaywgZikgPT4geyBjb25zdCB0ID0gZGIudHJhbnNhY3Rpb24ocywgInJlYWR3cml0ZSIpOyB0Lm9iamVjdFN0b3JlKHMpLmRlbGV0ZShrKTsgdC5vbmNvbXBsZXRlID0gKCkgPT4gb2soKTsgdC5vbmVycm9yID0gKCkgPT4gZih0LmVycm9yKTsgfSk7IH0KCi8vIOKUgOKUgCBDb25zdGFudHMg4pSA4pSACmNvbnN0IEFDVElPTlMgPSBbCiAgeyBpZDogInNlcnZpY2UiLCBsYWJlbDogIlF1aWV0IGFjdCBvZiBzZXJ2aWNlIiwgaWNvbjogIvCfq6ciLCBjOiAiIzdFQjhBMiIgfSwKICB7IGlkOiAiYWN0aXZpdHkiLCBsYWJlbDogIlNoYXJlZCBhY3Rpdml0eSIsIGljb246ICLwn46vIiwgYzogIiM4QkFFRDQiIH0sCiAgeyBpZDogImNvbnZlcnNhdGlvbiIsIGxhYmVsOiAiRGlyZWN0IGNvbnZlcnNhdGlvbiIsIGljb246ICLwn5KsIiwgYzogIiNDNEE2RDgiIH0sCiAgeyBpZDogImdpZnQiLCBsYWJlbDogIkdpZnQgb3IgdHJlYXQiLCBpY29uOiAi8J+OgSIsIGM6ICIjRDRBNTc0IiB9LAogIHsgaWQ6ICJwcmVzZW5jZSIsIGxhYmVsOiAiQmVpbmcgcHJlc2VudCIsIGljb246ICLwn6qRIiwgYzogIiNBOEM1QTAiIH0sCiAgeyBpZDogInNwYWNlIiwgbGFiZWw6ICJHYXZlIHNwYWNlIiwgaWNvbjogIvCfjL8iLCBjOiAiIzlEQjhDNyIgfSwKICB7IGlkOiAiYm91bmRhcnkiLCBsYWJlbDogIkJvdW5kYXJ5LXNldHRpbmciLCBpY29uOiAi8J+boe+4jyIsIGM6ICIjQzlBMEEwIiB9LApdOwoKY29uc3QgUkVTUE9OU0VTID0gWwogIHsgaWQ6ICJwb3NpdGl2ZSIsIGxhYmVsOiAiUG9zaXRpdmUgZW5nYWdlbWVudCIsIGljb246ICLinKgiLCBjOiAiIzdFQjhBMiIsIHNjb3JlOiA0IH0sCiAgeyBpZDogIm5ldXRyYWwiLCBsYWJlbDogIk5ldXRyYWwgYWNrbm93bGVkZ21lbnQiLCBpY29uOiAi4p6WIiwgYzogIiM5REI4QzciLCBzY29yZTogMyB9LAogIHsgaWQ6ICJ3aXRoZHJhd2FsIiwgbGFiZWw6ICJQYXNzaXZlIHdpdGhkcmF3YWwiLCBpY29uOiAi8J+aqiIsIGM6ICIjQzlBMEEwIiwgc2NvcmU6IDIgfSwKICB7IGlkOiAicmVqZWN0aW9uIiwgbGFiZWw6ICJBY3RpdmUgcmVqZWN0aW9uIiwgaWNvbjogIvCflLQiLCBjOiAiI0Q0Nzk2QiIsIHNjb3JlOiAxIH0sCiAgeyBpZDogImVzY2FsYXRpb24iLCBsYWJlbDogIkVzY2FsYXRpb24iLCBpY29uOiAi4pqhIiwgYzogIiNCODVDNEYiLCBzY29yZTogMCB9LApdOwoKY29uc3QgQ09OVEVYVFMgPSBbCiAgIk1vcm5pbmciLCAiQWZ0ZXJub29uIiwgIkV2ZW5pbmciLCAiTmlnaHQiLAogICJBZnRlciBjdXN0b2R5IHRyYW5zaXRpb24iLCAiQWZ0ZXIgYmlvLXBhcmVudCBjb250YWN0IiwKICAiQWZ0ZXIgZGlzY2lwbGluZSBtb21lbnQiLCAiRHVyaW5nIHNoYXJlZCBhY3Rpdml0eSIsCiAgIkF0IG1lYWx0aW1lIiwgIkF0IGJlZHRpbWUiLCAiV2Vla2VuZCIsICJTY2hvb2wgZGF5IiwKICAiSG9saWRheSAvIHNwZWNpYWwgb2NjYXNpb24iLCAiQWZ0ZXIgYXJndW1lbnQgd2l0aCBwYXJ0bmVyIiwKXTsKCmNvbnN0IENBUkRTID0gWwogIHsKICAgIHRyaWdnZXJzOiBbInJlamVjdGlvbiIsICJlc2NhbGF0aW9uIl0sCiAgICB0aXRsZTogIlRoZSBMb3lhbHR5IEJpbmQiLAogICAgYm9keTogIkNoaWxkcmVuIG9mdGVuIHJlamVjdCBzdGVwcGFyZW50cyBub3QgYmVjYXVzZSB0aGV5IGRpc2xpa2UgdGhlbSwgYnV0IGJlY2F1c2UgYWNjZXB0YW5jZSBmZWVscyBsaWtlIGJldHJheWluZyB0aGVpciBiaW9sb2dpY2FsIHBhcmVudC4gVGhlIHJlamVjdGlvbiB5b3UncmUgZmVlbGluZyBpcyByYXJlbHkgYWJvdXQgeW91IOKAlCBpdCdzIGFib3V0IHRoZSBpbXBvc3NpYmxlIGVtb3Rpb25hbCBtYXRoIHRoZSBjaGlsZCBpcyB0cnlpbmcgdG8gc29sdmUuIiwKICAgIHNyYzogIkJyYWl0aHdhaXRlIGV0IGFsLiwgMjAxOCIsCiAgICBxdW90ZTogIlwiSXQgd2FzIGFsbCBpbiBteSBoZWFkLiBJIHdvdWxkbid0IHdhbnQgdG8gZ28gb3V0IHdpdGggbXkgZGFkJ3MgZmFtaWx5LCBiZWNhdXNlIEkgZGlkbid0IGZlZWwgY29tZm9ydGFibGUsIG5vciBkaWQgSSBmZWVsIGxpa2UgSSBmaXQgaW4uIEl0IHdhc24ndCBteSBzdGVwbW9tJ3MgZmF1bHQsIG5vciBteSBkYWQncy5cIiIsCiAgICB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBub3cgMzAiLAogIH0sCiAgewogICAgdHJpZ2dlcnM6IFsicmVqZWN0aW9uIl0sCiAgICB0aXRsZTogIldoYXQgVGhleSdsbCBSZW1lbWJlciIsCiAgICBib2R5OiAiQWR1bHQgc3RlcGNoaWxkcmVuIGNvbnNpc3RlbnRseSByZXBvcnQgdGhhdCB0aGUgdGhpbmdzIHRoZXkgcmVtZW1iZXIgbW9zdCBhcmUgTk9UIGdyYW5kIGdlc3R1cmVzLiBJdCdzIHRoZSBpcm9uZWQgc2hpcnQuIFRoZSBtZWRpY2luZSBsZWZ0IHdpdGhvdXQgYSB3b3JkLiBUaGUgY29sbGVnZSBmZWVzIHBhaWQgcXVpZXRseS4gVGhpbmdzIGRvbmUgd2l0aG91dCBhbnkgZXhwZWN0YXRpb24gb2YgYWNrbm93bGVkZ21lbnQuIiwKICAgIHF1b3RlOiAiXCJTaGUgc3RvcHBlZCB0cnlpbmcgdG8gYm9uZC4gQnV0IHNoZSBzdGlsbCBsZWZ0IG1lZGljaW5lIG9uIG15IGJlZHNpZGUgd2hlbiBJIHdhcyBzaWNrLiBTdGlsbCBwYWlkIG15IGNvbGxlZ2UgYXBwbGljYXRpb24gZmVlcyBxdWlldGx5LiBPbiBteSBmaXJzdCBqb2IgaW50ZXJ2aWV3IGRheSwgc2hlIGlyb25lZCBteSBzaGlydCBhbmQgc2FpZCBub3RoaW5nIGVsc2UuIFRoYXQgaHVydCBtb3JlIHRoYW4gYW55IGFyZ3VtZW50LlwiIiwKICAgIHdobzogIkFkdWx0IHN0ZXBjaGlsZCByZWZsZWN0aW9uIiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbInJlamVjdGlvbiIsICJlc2NhbGF0aW9uIl0sCiAgICB0aXRsZTogIlwiWW91J3JlIE5vdCBNeSBSZWFsIFBhcmVudFwiIiwKICAgIGJvZHk6ICJUaGlzIHBocmFzZSBpcyB0aGUgbW9zdCBjb21tb25seSBjaXRlZCB2ZXJiYWwgd2VhcG9uLiBCdXQgcmVzZWFyY2ggc2hvd3MgaXQgcmVmbGVjdHMgdGhlIGNoaWxkJ3MgZmVhciBvZiBsb3NpbmcgdGhlaXIgYmlvbG9naWNhbCBwYXJlbnQsIG5vdCBhIGdlbnVpbmUgYXNzZXNzbWVudC4gQ2hpbGRyZW4gdXNlIGl0IHByZWNpc2VseSBiZWNhdXNlIHRoZXkga25vdyBpdCB3aWxsIGxhbmQg4oCUIHdoaWNoIHBhcmFkb3hpY2FsbHkgbWVhbnMgdGhlIHJlbGF0aW9uc2hpcCBtYXR0ZXJzIGVub3VnaCB0byB3ZWFwb25pemUuIiwKICAgIHF1b3RlOiAiXCJJJ20gc29ycnkgSSBuZXZlciBnYXZlIHlvdSBhIGNoYW5jZTsgYSBmYWlyLCBlcXVhbCBjaGFuY2UuIEkgY29tcGFyZWQgeW91IHRvIG15IGZhdGhlciwgYW5kIHRob3VnaHQgeW91IHdlcmUgc3RlYWxpbmcgbXkgbW90aGVyLiBJIHdhcyBhZnJhaWQgSSB3YXMgbG9zaW5nIGhlci4gWW91IHRhdWdodCBtZSB3aGF0IGEgbWFuIHNob3VsZCBiZSB0byBhIHdvbWFuLlwiIiwKICAgIHdobzogIkFkdWx0IHN0ZXBjaGlsZCwgbG9va2luZyBiYWNrIiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbIndpdGhkcmF3YWwiXSwKICAgIHRpdGxlOiAiV2l0aGRyYXdhbCBJc24ndCBSZWplY3Rpb24iLAogICAgYm9keTogIldoZW4gYSBjaGlsZCB3aXRoZHJhd3Mg4oCUIGxlYXZlcyB0aGUgcm9vbSwgZ29lcyBzaWxlbnQsIGF2b2lkcyDigJQgaXQgZmVlbHMgbGlrZSByZWplY3Rpb24uIEJ1dCB3aXRoZHJhd2FsIGlzIG9mdGVuIGEgc2VsZi1wcm90ZWN0aXZlIG1lY2hhbmlzbSwgbm90IGFuIG9mZmVuc2l2ZSBvbmUuIFRoZSBjaGlsZCBtYXkgYmUgb3ZlcndoZWxtZWQsIHByb2Nlc3NpbmcsIG9yIHNpbXBseSBub3QgcmVhZHkuIFdpdGhkcmF3YWwgaXMgb2Z0ZW4gYSBzaWduIHRoZXkncmUgYXdhcmUgb2YgdGhlIHJlbGF0aW9uc2hpcCwgbm90IGluZGlmZmVyZW50IHRvIGl0LiIsCiAgICBxdW90ZTogIlwiV2hlbiBJIGZlbHQgaGVyIHB1bGxiYWNrIGFzIGEga2lkLCBJIGZlbHQgc2hlIGRpZG4ndCBjYXJlIGlmIEkgd2FzIHRoZXJlIG9yIG5vdCBhcyBsb25nIGFzIHNoZSBoYWQgbXkgZGFkLiBBbmQgdGhhdCdzIHdoYXQgd2UgZG9uJ3Qgd2FudCBvdXIgYm9udXMgY2hpbGRyZW4gdGhpbmtpbmcsIHRoZXkgYXJlbid0IHdhbnRlZC5cIiIsCiAgICB3aG86ICJGb3JtZXIgc3RlcGNoaWxkIHBlcnNwZWN0aXZlIiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbIm5ldXRyYWwiLCAicG9zaXRpdmUiXSwKICAgIHRpdGxlOiAiTmV1dHJhbCBJcyBQcm9ncmVzcyIsCiAgICBib2R5OiAiSW4gc3RlcGZhbWlseSBkeW5hbWljcywgYSBuZXV0cmFsIHJlc3BvbnNlIElTIGEgcG9zaXRpdmUgc2lnbmFsLiBJZiB0aGUgY2hpbGQgYWNjZXB0ZWQgd2hhdCB5b3Ugb2ZmZXJlZCB3aXRob3V0IHJlc2lzdGFuY2Ug4oCUIGV2ZW4gd2l0aG91dCB3YXJtdGgg4oCUIHRoYXQncyBtb3ZlbWVudC4gVGhlIHBhdGggdHlwaWNhbGx5IGdvZXM6IGhvc3RpbGl0eSBcdTIxOTIgYXZvaWRhbmNlIFx1MjE5MiB0b2xlcmFuY2UgXHUyMTkyIG5ldXRyYWwgYWNjZXB0YW5jZSBcdTIxOTIgb2NjYXNpb25hbCB3YXJtdGguIFlvdSBtYXkgYmUgZnVydGhlciBhbG9uZyB0aGFuIHlvdSB0aGluay4iLAogICAgc3JjOiAiU3RlcGZhbWlseSBpbnRlZ3JhdGlvbiB0eXBpY2FsbHkgdGFrZXMgN1x1MjAxMzEyIHllYXJzLiBOZXV0cmFsIGFjY2VwdGFuY2UgaXMgYSBtYWpvciBtaWxlc3RvbmUuIiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbInJlamVjdGlvbiIsICJ3aXRoZHJhd2FsIiwgImVzY2FsYXRpb24iXSwKICAgIHRpdGxlOiAiVGhlIDIgQU0gVHJ1dGgiLAogICAgYm9keTogIlJpZ2h0IG5vdywgZXZlcnl0aGluZyBmZWVscyBhbXBsaWZpZWQuIFRoZSByZWplY3Rpb24gZmVlbHMgcGVybWFuZW50LiBUaGUgZWZmb3J0IGZlZWxzIHdhc3RlZC4gQnV0IHRoZSBzdGVwcGFyZW50cyB3aG8gZXZlbnR1YWxseSBicmVhayB0aHJvdWdoIGFyZSB0aGUgb25lcyB3aG8gbWFpbnRhaW5lZCBjb25zaXN0ZW50LCBsb3ctcHJlc3N1cmUgcHJlc2VuY2UgdGhyb3VnaCBleGFjdGx5IHRoZXNlIG1vbWVudHMuIFlvdXIgZXhoYXVzdGlvbiBpcyBldmlkZW5jZSBvZiB5b3VyIGNvbW1pdG1lbnQsIG5vdCB5b3VyIGZhaWx1cmUuIiwKICAgIHF1b3RlOiAiXCJNeSBjYXIgYnJva2UgZG93biBvbiBhIGhpZ2h3YXkgYXQgMiBhbS4gSSBjYWxsZWQgaGltIGJlY2F1c2UgbXkgcGhvbmUgd2FzIGR5aW5nLiBIZSByZWFjaGVkIGluIDQwIG1pbnV0ZXMuIERpZG4ndCBsZWN0dXJlIG1lLiBKdXN0IGZpeGVkIHRoZSBpc3N1ZSBhbmQgd2FpdGVkIHRpbGwgSSBnb3QgaG9tZS4gTGF0ZXIsIGhlIHNhaWQsICdJIGtub3cgSSdtIG5vdCB5b3VyIGZpcnN0IGNhbGwuIEkganVzdCB3YW50IHRvIGJlIGEgcmVsaWFibGUgb25lLidcIiIsCiAgICB3aG86ICJBZHVsdCBzdGVwY2hpbGQgYWJvdXQgdGhlaXIgc3RlcGRhZCIsCiAgfSwKICB7CiAgICB0cmlnZ2VyczogWyJyZWplY3Rpb24iLCAid2l0aGRyYXdhbCIsICJlc2NhbGF0aW9uIl0sCiAgICB0aXRsZTogIllvdSdyZSBOb3QgQmVjb21pbmcgU29tZW9uZSBFbHNlIiwKICAgIGJvZHk6ICJGZWVsaW5nIGFuZ3J5LCByZXNlbnRmdWwsIG9yIHdpdGhkcmF3biBkb2Vzbid0IG1lYW4geW91J3JlIGJlY29taW5nIGEgYmFkIHN0ZXBwYXJlbnQuIEl0IG1lYW5zIHlvdSdyZSBhIGNvbW1pdHRlZCBhZHVsdCBleHBlcmllbmNpbmcgc3VzdGFpbmVkIGVtb3Rpb25hbCBsYWJvciB3aXRob3V0IGZlZWRiYWNrLiBUaGVzZSBmZWVsaW5ncyBhcmUgYSBtZWFzdXJlbWVudCBwcm9ibGVtLCBub3QgYSBjaGFyYWN0ZXIgZmxhdy4iLAogICAgcXVvdGU6ICJcIkkgd2FzIGV4cGVyaWVuY2luZyBhbiBpZGVudGl0eSBjcmlzaXMgYXMgYSBzdGVwbW9tLiBOb3QgbG92aW5nIHlvdXIgc3RlcGNoaWxkcmVuIG9yIGZlZWxpbmcgcmVzZW50ZnVsIG9yIGplYWxvdXMgZG9lcyBub3QgbWFrZSB5b3UgYSBiYWQgc3RlcG1vbS5cIiIsCiAgICB3aG86ICJTdGVwbW9tIGNvbW11bml0eSBwb3N0IiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbInBvc2l0aXZlIiwgIm5ldXRyYWwiXSwKICAgIHRpdGxlOiAiQW5jaG9yIFRoaXMgTW9tZW50IiwKICAgIGJvZHk6ICJZb3VyIGJyYWluIGlzIHdpcmVkIHRvIHdlaWdoIG5lZ2F0aXZlIGludGVyYWN0aW9ucyBtb3JlIGhlYXZpbHkgdGhhbiBwb3NpdGl2ZSBvbmVzLiBUaGlzIG1vbWVudCDigJQgdGhpcyBuZXV0cmFsIG9yIHBvc2l0aXZlIHJlc3BvbnNlIOKAlCBpcyByZWFsIGRhdGEuIEl0IGhhcHBlbmVkLiBXaGVuIHRoZSBuZXh0IGRpZmZpY3VsdCBtb21lbnQgY29tZXMsIHlvdSdsbCBoYXZlIGNvbmNyZXRlIGV2aWRlbmNlIHRoYXQgcHJvZ3Jlc3MgZXhpc3RzLiIsCiAgICBzcmM6ICJOZWdhdGl2aXR5IGJpYXMgY2F1c2VzIGh1bWFucyB0byB3ZWlnaHQgbmVnYXRpdmUgZXZlbnRzIDNcdTIwMTM1XHUwMGQ3IG1vcmUgaGVhdmlseSB0aGFuIHBvc2l0aXZlIG9uZXMuIiwKICB9LAogIC8vIOKUgOKUgCBOZXcgY2FyZHMg4pSA4pSACiAgewogICAgdHJpZ2dlcnM6IFsicmVqZWN0aW9uIiwgImVzY2FsYXRpb24iXSwKICAgIHRpdGxlOiAiVGVzdGluZywgTm90IEhhdGluZyIsCiAgICBib2R5OiAiQ2hpbGRyZW4gaW4gYmxlbmRlZCBmYW1pbGllcyBvZnRlbiB0ZXN0IHN0ZXBwYXJlbnRzIGRlbGliZXJhdGVseSBhbmQgcmVwZWF0ZWRseS4gVGhleSBwdXNoIGJvdW5kYXJpZXMsIHByb3Zva2UsIHNheSBodXJ0ZnVsIHRoaW5ncyDigJQgbm90IGJlY2F1c2UgdGhleSB3YW50IHlvdSBnb25lLCBidXQgYmVjYXVzZSB0aGV5IG5lZWQgdG8ga25vdyBpZiB5b3UnbGwgc3RheS4gRXZlcnkgdGVzdCB5b3Ugc3Vydml2ZSB3aXRob3V0IGxlYXZpbmcgaXMgYW4gYW5zd2VyIHRoZXkgZGVzcGVyYXRlbHkgbmVlZC4iLAogICAgcXVvdGU6ICJcIkkgdXNlZCB0byB0ZXN0IGhlciBjb25zdGFudGx5LiBTYXkgaG9ycmlibGUgdGhpbmdzIGp1c3QgdG8gc2VlIGlmIHNoZSdkIGxlYXZlLiBTaGUgbmV2ZXIgZGlkLiBUaGF0J3MgdGhlIG9ubHkgcmVhc29uIEkgdHJ1c3QgYW55b25lIG5vdy5cIiIsCiAgICB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBub3cgaW4gdGhlcmFweSIsCiAgfSwKICB7CiAgICB0cmlnZ2VyczogWyJ3aXRoZHJhd2FsIiwgIm5ldXRyYWwiXSwKICAgIHRpdGxlOiAiVGhlIEdvb2RuaWdodCBEb29yIiwKICAgIGJvZHk6ICJTb21lIG9mIHRoZSBtb3N0IHBvd2VyZnVsIHN0ZXBwYXJlbnRpbmcgaGFwcGVucyB0aHJvdWdoIGNsb3NlZCBkb29ycy4gU2F5aW5nIGdvb2RuaWdodCB0byBzb21lb25lIHdobyB3b24ndCByZXNwb25kLiBNYWtpbmcgdGhlaXIgbHVuY2ggd2hlbiB0aGV5IHdvbid0IHNheSB0aGFuayB5b3UuIFRoZXNlIGFyZW4ndCBmYWlsZWQgYXR0ZW1wdHMgYXQgY29ubmVjdGlvbiDigJQgdGhleSdyZSBkZXBvc2l0cyBpbnRvIGEgdHJ1c3QgYWNjb3VudCB0aGF0IGNvbXBvdW5kcyBvdmVyIHllYXJzLiIsCiAgICBxdW90ZTogIlwiSSB1c2VkIHRvIHNsYW0gbXkgZG9vciBldmVyeSB0aW1lIHNoZSBzcG9rZSB0byBtZS4gU2hlIG5ldmVyIHN0b3BwZWQga25vY2tpbmcuIE5vdCB0byBjb21lIGluIOKAlCBqdXN0IHRvIHNheSBnb29kbmlnaHQgdGhyb3VnaCB0aGUgZG9vci4gRXZlcnkgbmlnaHQgZm9yIHR3byB5ZWFycy5cIiIsCiAgICB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBub3cgMjYiLAogIH0sCiAgewogICAgdHJpZ2dlcnM6IFsicG9zaXRpdmUiXSwKICAgIHRpdGxlOiAiVGhlIFNsb3cgUmV2ZWFsIiwKICAgIGJvZHk6ICJBY2NlcHRhbmNlIGluIHN0ZXBmYW1pbGllcyByYXJlbHkgYXJyaXZlcyBhcyBhIHNpbmdsZSBtb21lbnQuIEl0IHNuZWFrcyBpbi4gVGhlIGNoaWxkIHN0YXJ0cyBjYWxsaW5nIHlvdXIgaG91c2UgJ2hvbWUnIHdpdGhvdXQgdGhpbmtpbmcuIFRoZXkgc2F2ZSB5b3UgYSBzZWF0LiBUaGV5IHRleHQgeW91IGZpcnN0LiBJZiB5b3UncmUgbG9va2luZyBmb3IgYSBkcmFtYXRpYyB0dXJuaW5nIHBvaW50LCB5b3UgbWlnaHQgbWlzcyB0aGUgZG96ZW4gdGlueSBvbmVzIGFscmVhZHkgaGFwcGVuaW5nLiIsCiAgICBxdW90ZTogIlwiVGhlIHNoaWZ0IGRpZG4ndCBoYXBwZW4gYWxsIGF0IG9uY2UuIE9uZSBkYXkgSSBqdXN0IHJlYWxpemVkIEknZCBzdGFydGVkIGNhbGxpbmcgaGVyIGhvdXNlICdob21lJyB3aXRob3V0IHRoaW5raW5nIGFib3V0IGl0LlwiIiwKICAgIHdobzogIkZvcm1lciBzdGVwY2hpbGQsIGFnZSAyNCIsCiAgfSwKICB7CiAgICB0cmlnZ2VyczogWyJyZWplY3Rpb24iLCAid2l0aGRyYXdhbCJdLAogICAgdGl0bGU6ICJUaGUgQ29tcGFyaXNvbiBUcmFwIiwKICAgIGJvZHk6ICJJdCdzIG5hdHVyYWwgdG8gY29tcGFyZSB5b3Vyc2VsZiB0byB0aGUgYmlvbG9naWNhbCBwYXJlbnQuIEJ1dCB5b3UncmUgcGxheWluZyBhIGNvbXBsZXRlbHkgZGlmZmVyZW50IGdhbWUgd2l0aCBkaWZmZXJlbnQgcnVsZXMuIFRoZSBiaW8gcGFyZW50IGhhcyBhIGJpb2xvZ2ljYWwgYm9uZCBhbmQgc2hhcmVkIGhpc3RvcnkgeW91IGNhbid0IHJlcGxpY2F0ZSDigJQgYW5kIGRvbid0IG5lZWQgdG8uIFlvdXIgdmFsdWUgaXNuJ3QgaW4gcmVwbGFjaW5nIGFueW9uZS4gSXQncyBpbiBiZWluZyBhbiBhZGRpdGlvbmFsIHBlcnNvbiB3aG8gY2hvc2UgdG8gc2hvdyB1cC4iLAogICAgcXVvdGU6ICJcIkkgaGF0ZWQgaGVyIGZvciB5ZWFycy4gTm90IGJlY2F1c2Ugc2hlIHdhcyBiYWQg4oCUIGJlY2F1c2Ugc2hlIHdhcyB0aGVyZSwgYW5kIG15IG1vbSB3YXNuJ3QuIFRoYXQncyBub3QgZmFpciwgYW5kIEkga25vdyB0aGF0IG5vdy4gQnV0IGEga2lkIGRvZXNuJ3Qga25vdyB0aGF0LlwiIiwKICAgIHdobzogIkFkdWx0IHN0ZXBjaGlsZCwgYWdlIDI4IiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbIm5ldXRyYWwiLCAicG9zaXRpdmUiLCAid2l0aGRyYXdhbCJdLAogICAgdGl0bGU6ICJEaWZmZXJlbnQgTG92ZSBJcyBTdGlsbCBMb3ZlIiwKICAgIGJvZHk6ICJOb2JvZHkgdGVsbHMgeW91IHRoaXM6IHlvdSBkb24ndCBoYXZlIHRvIGZlZWwgdGhlIHNhbWUgd2F5IGFib3V0IHlvdXIgc3RlcGNoaWxkcmVuIGFzIHlvdSB3b3VsZCBhYm91dCBiaW9sb2dpY2FsIGNoaWxkcmVuLiBUaGUgZXhwZWN0YXRpb24gb2YgaW5zdGFudCBwYXJlbnRhbCBsb3ZlIGNyZWF0ZXMgZ3VpbHQgd2hlcmUgbm9uZSBpcyBuZWVkZWQuIFdoYXQgbWF0dGVycyBpc24ndCB0aGUgdHlwZSBvZiBmZWVsaW5nIOKAlCBpdCdzIHRoZSBjb25zaXN0ZW5jeSBvZiBzaG93aW5nIHVwLiIsCiAgICBxdW90ZTogIlwiWW91IGRvbid0IGhhdmUgdG8gbG92ZSB5b3VyIHN0ZXBraWRzIHRoZSBzYW1lIHdheSB5b3UgbG92ZSB5b3VyIGJpbyBraWRzLiBEaWZmZXJlbnQgbG92ZSBpcyBzdGlsbCBsb3ZlLiBJIHdpc2ggc29tZW9uZSBoYWQgZ2l2ZW4gbWUgcGVybWlzc2lvbiB0byBmZWVsIHRoYXQgZWFybGllci5cIiIsCiAgICB3aG86ICJTdGVwbW9tLCBibGVuZGVkIGZhbWlseSIsCiAgfSwKICB7CiAgICB0cmlnZ2VyczogWyJyZWplY3Rpb24iLCAiZXNjYWxhdGlvbiJdLAogICAgdGl0bGU6ICJUaGUgSW52aXNpYmxlIFNjb3JlYm9hcmQiLAogICAgYm9keTogIllvdSBtYXkgZmVlbCBsaWtlIHlvdSdyZSBsb3NpbmcgYmVjYXVzZSB0aGUgc2NvcmUgbG9va3MgdGVycmlibGUgdG9kYXkuIEJ1dCBzdGVwZmFtaWx5IHJlbGF0aW9uc2hpcHMgYXJlbid0IHNjb3JlZCBpbiBkYXlzIG9yIHdlZWtzLiBUaGV5J3JlIHNjb3JlZCBpbiBkZWNhZGVzLiBNYW55IGFkdWx0IHN0ZXBjaGlsZHJlbiBkZXNjcmliZSBhIG1vbWVudCBpbiB0aGVpciB0d2VudGllcyBvciB0aGlydGllcyB3aGVuIGV2ZXJ5dGhpbmcgdGhlaXIgc3RlcHBhcmVudCBkaWQgZmluYWxseSBjbGlja2VkIOKAlCBhbGwgYXQgb25jZSwgeWVhcnMgbGF0ZXIuIiwKICAgIHF1b3RlOiAiXCJXaGVuIEkgZ290IG1hcnJpZWQsIEkgYXNrZWQgbXkgc3RlcGRhZCB0byB3YWxrIG1lIGRvd24gdGhlIGFpc2xlLiBNeSBtb20gY3JpZWQuIEhlIGNyaWVkLiBJIGNyaWVkLiBIZSBoYWQgd2FpdGVkIHNldmVudGVlbiB5ZWFycyBmb3IgdGhhdCBtb21lbnQgYW5kIG5ldmVyIG9uY2UgYXNrZWQgZm9yIGl0LlwiIiwKICAgIHdobzogIkFkdWx0IHN0ZXBkYXVnaHRlciIsCiAgfSwKICB7CiAgICB0cmlnZ2VyczogWyJ3aXRoZHJhd2FsIiwgIm5ldXRyYWwiXSwKICAgIHRpdGxlOiAiUHJlc2VuY2UgT3ZlciBQZXJmb3JtYW5jZSIsCiAgICBib2R5OiAiVGhlIG1vc3QgZWZmZWN0aXZlIHN0ZXBwYXJlbnRpbmcgc3RyYXRlZ3kgaXNuJ3QgdHJ5aW5nIGhhcmRlciDigJQgaXQncyBzaW1wbHkgYmVpbmcgcHJlc2VudCB3aXRob3V0IGFnZW5kYS4gTm90IHBlcmZvcm1pbmcgd2FybXRoLiBOb3QgZm9yY2luZyBhY3Rpdml0aWVzLiBKdXN0IGV4aXN0aW5nIGluIHRoZSBzYW1lIHNwYWNlIHdpdGhvdXQgcHJlc3N1cmUuIENoaWxkcmVuIGV2ZW50dWFsbHkgbm90aWNlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gc29tZW9uZSB3aG8gZGVtYW5kcyBjb25uZWN0aW9uIGFuZCBzb21lb25lIHdobyBqdXN0IG1ha2VzIHRoZW1zZWx2ZXMgYXZhaWxhYmxlIGZvciBpdC4iLAogICAgcXVvdGU6ICJcIkhlIG5ldmVyIHRyaWVkIHRvIGJlIG15IGRhZC4gSGUganVzdCBrZXB0IHNob3dpbmcgdXAuIERyb3ZlIG1lIHBsYWNlcy4gRml4ZWQgdGhpbmdzLiBBc2tlZCBob3cgc2Nob29sIHdhcywgZXZlbiB3aGVuIEkgZ2F2ZSBvbmUtd29yZCBhbnN3ZXJzIGZvciB0aHJlZSB5ZWFycyBzdHJhaWdodC4gSSBkaWRuJ3QgYXBwcmVjaWF0ZSBpdCB1bnRpbCBJIHdhcyAyNS5cIiIsCiAgICB3aG86ICJGb3JtZXIgc3RlcGNoaWxkIGFib3V0IHN0ZXBkYWQiLAogIH0sCiAgewogICAgdHJpZ2dlcnM6IFsicmVqZWN0aW9uIiwgIndpdGhkcmF3YWwiLCAiZXNjYWxhdGlvbiJdLAogICAgdGl0bGU6ICJUaGUgUmVncmV0IFRoYXQgQ29tZXMgTGF0ZXIiLAogICAgYm9keTogIk1hbnkgYWR1bHQgc3RlcGNoaWxkcmVuIGNhcnJ5IGRlZXAgcmVncmV0IGFib3V0IGhvdyB0aGV5IHRyZWF0ZWQgdGhlaXIgc3RlcHBhcmVudC4gVGhleSBjb3VsZG4ndCBzZWUgaXQgYXQgdGhlIHRpbWUg4oCUIHRoZXkgd2VyZSBjaGlsZHJlbiBuYXZpZ2F0aW5nIGFuIGltcG9zc2libGUgc2l0dWF0aW9uLiBCdXQgdGhlIGd1aWx0IGFycml2ZXMgbGF0ZXIsIHNvbWV0aW1lcyBtdWNoIGxhdGVyLiBZb3VyIHBhdGllbmNlIG5vdyBpcyBzYXZpbmcgdGhlbSBmcm9tIHdvcnNlIHJlZ3JldCBsYXRlci4iLAogICAgcXVvdGU6ICJcIkkgd3JvdGUgbXkgc3RlcG1vbSBhIGxldHRlciB3aGVuIEkgdHVybmVkIDMwLiBKdXN0IHRvIHNheSBzb3JyeS4gQW5kIHRoYW5rIHlvdS4gU2hlIGZyYW1lZCBpdC5cIiIsCiAgICB3aG86ICJBZHVsdCBzdGVwY2hpbGQiLAogIH0sCiAgewogICAgdHJpZ2dlcnM6IFsicmVqZWN0aW9uIiwgImVzY2FsYXRpb24iXSwKICAgIHRpdGxlOiAiWW91IENob3NlIFRoaXMuIFRoYXQgTWF0dGVycy4iLAogICAgYm9keTogIkJpb2xvZ2ljYWwgcGFyZW50cyBkb24ndCBjaG9vc2UgdGhlaXIgY2hpbGRyZW4g4oCUIGl0IGp1c3QgaGFwcGVucy4gQnV0IHlvdSBjaG9zZSB0byBiZSBoZXJlLiBFdmVyeSBkaWZmaWN1bHQgZGF5IGlzIGEgZGF5IHlvdSBjb3VsZCBoYXZlIHdhbGtlZCBhd2F5IGFuZCBkaWRuJ3QuIENoaWxkcmVuIGV2ZW50dWFsbHkgdW5kZXJzdGFuZCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIG9ibGlnYXRpb24gYW5kIGNob2ljZS4gV2hlbiB0aGV5IGRvLCBpdCBsYW5kcyBoYXJkLiIsCiAgICBxdW90ZTogIlwiSGUgY2FtZSB0byBldmVyeSBzaW5nbGUgZ2FtZS4gRXZlbiB3aGVuIEkgcHJldGVuZGVkIGhlIHdhc24ndCB0aGVyZS4gRXNwZWNpYWxseSB3aGVuIEkgcHJldGVuZGVkIGhlIHdhc24ndCB0aGVyZS5cIiIsCiAgICB3aG86ICJGb3JtZXIgc3RlcGNoaWxkIGFib3V0IHN0ZXBkYWQiLAogIH0sCiAgewogICAgdHJpZ2dlcnM6IFsibmV1dHJhbCIsICJwb3NpdGl2ZSJdLAogICAgdGl0bGU6ICJUaGUgQ29ybmVyIFBpZWNlIiwKICAgIGJvZHk6ICJUaGUgbW9tZW50cyB0aGF0IG1hdHRlciBtb3N0IGFyZSBhYnN1cmRseSBzbWFsbC4gTm90aWNpbmcgd2hpY2ggcGllY2Ugb2YgY2FrZSB0aGV5IHByZWZlci4gS25vd2luZyB0aGVpciBzaG9lIHNpemUuIEhhdmluZyB0aGVpciBmYXZvdXJpdGUgc25hY2sgcmVhZHkgd2l0aG91dCBiZWluZyBhc2tlZC4gVGhlc2UgdGlueSBhY3RzIG9mIHBheWluZyBhdHRlbnRpb24gYXJlIHdoYXQgY2hpbGRyZW4gYWN0dWFsbHkgcmVtZW1iZXIgd2hlbiB0aGV5IGxvb2sgYmFjayDigJQgbm90IHRoZSBiaWcgdHJpcHMgb3IgZXhwZW5zaXZlIGdpZnRzLiIsCiAgICBxdW90ZTogIlwiVGhlIHRoaW5nIEkgcmVtZW1iZXIgbW9zdCBpc24ndCBhbnkgYmlnIGNvbnZlcnNhdGlvbi4gSXQncyB0aGF0IGhlIGFsd2F5cyBzYXZlZCBtZSB0aGUgY29ybmVyIHBpZWNlIG9mIHRoZSBicm93bmllcy4gRXZlcnkgc2luZ2xlIHRpbWUuIEhlIG5vdGljZWQgdGhhdCBhYm91dCBtZSB3aGVuIG5vYm9keSBlbHNlIGRpZC5cIiIsCiAgICB3aG86ICJBZHVsdCBzdGVwY2hpbGQsIGFnZSAzMiIsCiAgfSwKICB7CiAgICB0cmlnZ2VyczogWyJ3aXRoZHJhd2FsIiwgInJlamVjdGlvbiJdLAogICAgdGl0bGU6ICJPa2F5IElzIEVub3VnaCIsCiAgICBib2R5OiAiTm90IGV2ZXJ5IHN0ZXBwYXJlbnQtc3RlcGNoaWxkIHJlbGF0aW9uc2hpcCBiZWNvbWVzIHdhcm0uIFNvbWUgc2V0dGxlIGludG8gYSBjb21mb3J0YWJsZSwgcmVzcGVjdGZ1bCBkaXN0YW5jZSDigJQgYW5kIHJlc2VhcmNoIHNob3dzIHRoYXQncyBhIHBlcmZlY3RseSB2YWxpZCBvdXRjb21lLiBMZXR0aW5nIGdvIG9mIHRoZSBmYW50YXN5IG9mIGEgY2xvc2UgYm9uZCBjYW4gYWN0dWFsbHkgYmUgdGhlIHRoaW5nIHRoYXQgbWFrZXMgYSBjbG9zZXIgYm9uZCBwb3NzaWJsZSwgYmVjYXVzZSBpdCByZW1vdmVzIHRoZSBwcmVzc3VyZSB0aGUgY2hpbGQgaXMgcmVzaXN0aW5nLiIsCiAgICBxdW90ZTogIlwiVGhlIHJlbGF0aW9uc2hpcCBkaWRuJ3QgZ2V0IGdvb2QuIEl0IGdvdCBva2F5LiBBbmQgb2theSB0dXJuZWQgb3V0IHRvIGJlIG1vcmUgdGhhbiBlbm91Z2guXCIiLAogICAgd2hvOiAiQWR1bHQgc3RlcGNoaWxkIGFib3V0IHJlYWxpc3RpYyBvdXRjb21lcyIsCiAgfSwKICB7CiAgICB0cmlnZ2VyczogWyJyZWplY3Rpb24iLCAid2l0aGRyYXdhbCIsICJlc2NhbGF0aW9uIl0sCiAgICB0aXRsZTogIllvdXIgUGFydG5lcidzIENoaWxkLCBZb3VyIEdyaWVmIiwKICAgIGJvZHk6ICJOb2JvZHkgdGFsa3MgYWJvdXQgc3RlcHBhcmVudCBncmllZiDigJQgdGhlIGxvc3Mgb2YgdGhlIGZhbWlseSBsaWZlIHlvdSBpbWFnaW5lZCwgdGhlIG1vdXJuaW5nIG9mIGEgcmVsYXRpb25zaGlwIHlvdSBjYW4ndCBmb3JjZSBpbnRvIGV4aXN0ZW5jZS4gVGhpcyBncmllZiBpcyByZWFsIGFuZCB2YWxpZC4gQWNrbm93bGVkZ2luZyBpdCBkb2Vzbid0IG1lYW4gZ2l2aW5nIHVwLiBJdCBtZWFucyBiZWluZyBob25lc3QgYWJvdXQgdGhlIGVtb3Rpb25hbCBjb3N0IG9mIHdoYXQgeW91J3JlIGRvaW5nLCBzbyB5b3UgY2FuIHN1c3RhaW4gaXQuIiwKICAgIHF1b3RlOiAiXCJUaGUgaGFyZGVzdCBwYXJ0IHdhc24ndCB0aGF0IHNoZSByZWplY3RlZCBtZS4gSXQgd2FzIHRoYXQgSSBzdGFydGVkIHRvIGJlbGlldmUgSSB3YXMgdGhlIHByb2JsZW0uIEkgd2Fzbid0LiBUaGUgc2l0dWF0aW9uIHdhcyB0aGUgcHJvYmxlbS5cIiIsCiAgICB3aG86ICJTdGVwcGFyZW50IG9mIDggeWVhcnMiLAogIH0sCiAgewogICAgdHJpZ2dlcnM6IFsibmV1dHJhbCIsICJwb3NpdGl2ZSJdLAogICAgdGl0bGU6ICJSaWdodCBPbiBUcmFjayIsCiAgICBib2R5OiAiSWYgeW91J3JlIGEgZmV3IHllYXJzIGluIGFuZCB0aGUgcmVsYXRpb25zaGlwIGZlZWxzICdmaW5lIGJ1dCBub3QgY2xvc2UsJyB5b3UncmUgbm90IGZhaWxpbmcg4oCUIHlvdSdyZSBwcmVjaXNlbHkgb24gdGhlIGRvY3VtZW50ZWQgdGltZWxpbmUuIFJlc2VhcmNoZXJzIGRlc2NyaWJlIDdcdTIwMTMxMiB5ZWFycyBmb3IgZnVsbCBpbnRlZ3JhdGlvbi4gTW9zdCBzdGVwcGFyZW50cyBkb24ndCBrbm93IHRoaXMgYW5kIHNwZW5kIHllYXJzIGZlZWxpbmcgbGlrZSB0aGV5J3JlIGJlaGluZCB3aGVuIHRoZXkncmUgYWN0dWFsbHkgcmlnaHQgb24gc2NoZWR1bGUuIiwKICAgIHF1b3RlOiAiXCJOb2JvZHkgdG9sZCBtZSB0aGF0ICdkb2luZyBmaW5lJyB3YXMgYSByZWFsaXN0aWMgYmVzdC1jYXNlIGZvciB0aGUgZmlyc3QgZml2ZSB5ZWFycy4gSSBrZXB0IHRoaW5raW5nIEkgd2FzIGZhaWxpbmcgd2hlbiBJIHdhcyBhY3R1YWxseSByaWdodCBvbiB0cmFjay5cIiIsCiAgICB3aG86ICJTdGVwZGFkLCB5ZWFyIDciLAogIH0sCiAgewogICAgdHJpZ2dlcnM6IFsicmVqZWN0aW9uIiwgIndpdGhkcmF3YWwiXSwKICAgIHRpdGxlOiAiRmVhciBEcmVzc2VkIEFzIEFuZ2VyIiwKICAgIGJvZHk6ICJXaGVuIGEgY2hpbGQgbGFzaGVzIG91dCBhdCBhIHN0ZXBwYXJlbnQsIGl0IGFsbW9zdCBhbHdheXMgbG9va3MgbGlrZSBhbmdlci4gQnV0IHVuZGVybmVhdGggbW9zdCBzdGVwY2hpbGQgYW5nZXIgaXMgZmVhciDigJQgZmVhciBvZiBsb3NpbmcgdGhlaXIgcGFyZW50J3MgYXR0ZW50aW9uLCBmZWFyIG9mIHRoZWlyIGZhbWlseSBjaGFuZ2luZyBmdXJ0aGVyLCBmZWFyIG9mIGJldHJheWluZyB0aGVpciBvdGhlciBwYXJlbnQgYnkgbGlraW5nIHlvdS4gVGhlIGFuZ2VyIGlzIGp1c3QgdGhlIG9ubHkgZW1vdGlvbiB0aGV5IGtub3cgaG93IHRvIGV4cHJlc3Mgc2FmZWx5LiIsCiAgICBxdW90ZTogIlwiSSB3aXNoIHNvbWVvbmUgaGFkIHRvbGQgbXkgc3RlcGRhZCB0aGF0IG15IHNpbGVuY2Ugd2Fzbid0IHJlamVjdGlvbi4gSSB3YXMganVzdCBzY2FyZWQgdGhhdCBpZiBJIGxvdmVkIGhpbSwgaXQgbWVhbnQgSSBkaWRuJ3QgbG92ZSBteSBkYWQgYW55bW9yZS5cIiIsCiAgICB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBub3cgMjciLAogIH0sCl07CgovLyDilIDilIAgRGFpbHkgUXVvdGVzIChzaG93biBvbiBIb21lLCBvbmUgcGVyIGRheSkg4pSA4pSACmNvbnN0IERBSUxZX1FVT1RFUyA9IFsKICAvLyA9PT0gUkVKRUNUSU9OIC8gQUNUSVZFIFJFU0lTVEFOQ0UgPT09CiAgeyBxOiAiSSdtIHNvcnJ5IEkgbmV2ZXIgZ2F2ZSB5b3UgYSBjaGFuY2UuIEkgY29tcGFyZWQgeW91IHRvIG15IGZhdGhlciwgYW5kIHRob3VnaHQgeW91IHdlcmUgc3RlYWxpbmcgbXkgbW90aGVyLiBJIHdhcyBhZnJhaWQgSSB3YXMgbG9zaW5nIGhlci4gWW91IHRhdWdodCBtZSB3aGF0IGEgbWFuIHNob3VsZCBiZSB0byBhIHdvbWFuLiIsIHdobzogIkFkdWx0IHN0ZXBjaGlsZCwgbG9va2luZyBiYWNrIiwgdGhlbWU6ICJyZWplY3Rpb24iIH0sCiAgeyBxOiAiU2hlIHN0b3BwZWQgdHJ5aW5nIHRvIGJvbmQuIEJ1dCBzaGUgc3RpbGwgbGVmdCBtZWRpY2luZSBvbiBteSBiZWRzaWRlIHdoZW4gSSB3YXMgc2ljay4gU3RpbGwgcGFpZCBteSBjb2xsZWdlIGFwcGxpY2F0aW9uIGZlZXMgcXVpZXRseS4gT24gbXkgZmlyc3Qgam9iIGludGVydmlldyBkYXksIHNoZSBpcm9uZWQgbXkgc2hpcnQgYW5kIHNhaWQgbm90aGluZyBlbHNlLiBUaGF0IGh1cnQgbW9yZSB0aGFuIGFueSBhcmd1bWVudC4iLCB3aG86ICJBZHVsdCBzdGVwY2hpbGQgcmVmbGVjdGlvbiIsIHRoZW1lOiAiaW52aXNpYmxlLWVmZm9ydCIgfSwKICB7IHE6ICJNeSBjYXIgYnJva2UgZG93biBvbiBhIGhpZ2h3YXkgYXQgMiBBTS4gSSBjYWxsZWQgaGltIGJlY2F1c2UgbXkgcGhvbmUgd2FzIGR5aW5nLiBIZSBjYW1lIGluIDQwIG1pbnV0ZXMuIERpZG4ndCBsZWN0dXJlIG1lLiBKdXN0IGZpeGVkIHRoZSBpc3N1ZSBhbmQgd2FpdGVkIHRpbGwgSSBnb3QgaG9tZS4gSGUgc2FpZCwgJ0kga25vdyBJJ20gbm90IHlvdXIgZmlyc3QgY2FsbC4gSSBqdXN0IHdhbnQgdG8gYmUgYSByZWxpYWJsZSBvbmUuJyIsIHdobzogIkFkdWx0IHN0ZXBjaGlsZCBhYm91dCB0aGVpciBzdGVwZGFkIiwgdGhlbWU6ICJpbnZpc2libGUtZWZmb3J0IiB9LAogIHsgcTogIkl0IHdhcyBhbGwgaW4gbXkgaGVhZC4gSSB3b3VsZG4ndCB3YW50IHRvIGdvIG91dCB3aXRoIG15IGRhZCdzIGZhbWlseSwgYmVjYXVzZSBJIGRpZG4ndCBmZWVsIGNvbWZvcnRhYmxlLiBJdCB3YXNuJ3QgbXkgc3RlcG1vbSdzIGZhdWx0LCBub3IgbXkgZGFkJ3MuIiwgd2hvOiAiRm9ybWVyIHN0ZXBjaGlsZCwgbm93IDMwIiwgdGhlbWU6ICJyZWplY3Rpb24iIH0sCiAgeyBxOiAiSSBoYXRlZCBoZXIgZm9yIHllYXJzLiBOb3QgYmVjYXVzZSBzaGUgd2FzIGJhZCDigJQgYmVjYXVzZSBzaGUgd2FzIHRoZXJlLCBhbmQgbXkgbW9tIHdhc24ndC4gVGhhdCdzIG5vdCBmYWlyLCBhbmQgSSBrbm93IHRoYXQgbm93LiBCdXQgYSBraWQgZG9lc24ndCBrbm93IHRoYXQuIiwgd2hvOiAiQWR1bHQgc3RlcGNoaWxkLCBhZ2UgMjgiLCB0aGVtZTogInJlamVjdGlvbiIgfSwKICAvLyA9PT0gSU5WSVNJQkxFIEVGRk9SVCAvIExPTkcgR0FNRSA9PT0KICB7IHE6ICJIZSBuZXZlciB0cmllZCB0byBiZSBteSBkYWQuIEhlIGp1c3Qga2VwdCBzaG93aW5nIHVwLiBEcm92ZSBtZSBwbGFjZXMuIEZpeGVkIHRoaW5ncy4gQXNrZWQgaG93IHNjaG9vbCB3YXMsIGV2ZW4gd2hlbiBJIGdhdmUgb25lLXdvcmQgYW5zd2VycyBmb3IgdGhyZWUgeWVhcnMgc3RyYWlnaHQuIEkgZGlkbid0IGFwcHJlY2lhdGUgaXQgdW50aWwgSSB3YXMgMjUuIiwgd2hvOiAiRm9ybWVyIHN0ZXBjaGlsZCBhYm91dCBzdGVwZGFkIiwgdGhlbWU6ICJpbnZpc2libGUtZWZmb3J0IiB9LAogIHsgcTogIlNoZSBtYWRlIG15IGx1bmNoIGV2ZXJ5IGRheSBmb3IgZml2ZSB5ZWFycyBhbmQgSSBuZXZlciBvbmNlIHNhaWQgdGhhbmsgeW91LiBJIHRoaW5rIGFib3V0IHRoYXQgYSBsb3Qgbm93IHRoYXQgSSBoYXZlIG15IG93biBraWRzLiIsIHdobzogIkFkdWx0IHN0ZXBjaGlsZCwgbm93IGEgcGFyZW50IiwgdGhlbWU6ICJpbnZpc2libGUtZWZmb3J0IiB9LAogIHsgcTogIlRoZSB0aGluZyBJIHJlbWVtYmVyIG1vc3QgaXNuJ3QgYW55IGJpZyBjb252ZXJzYXRpb24uIEl0J3MgdGhhdCBoZSBhbHdheXMgc2F2ZWQgbWUgdGhlIGNvcm5lciBwaWVjZSBvZiB0aGUgYnJvd25pZXMuIEV2ZXJ5IHNpbmdsZSB0aW1lLiBIZSBub3RpY2VkIHRoYXQgYWJvdXQgbWUgd2hlbiBub2JvZHkgZWxzZSBkaWQuIiwgd2hvOiAiQWR1bHQgc3RlcGNoaWxkLCBhZ2UgMzIiLCB0aGVtZTogImludmlzaWJsZS1lZmZvcnQiIH0sCiAgeyBxOiAiSSB1c2VkIHRvIHNsYW0gbXkgZG9vciBldmVyeSB0aW1lIHNoZSBzcG9rZSB0byBtZS4gU2hlIG5ldmVyIHN0b3BwZWQga25vY2tpbmcuIE5vdCB0byBjb21lIGluIOKAlCBqdXN0IHRvIHNheSBnb29kbmlnaHQgdGhyb3VnaCB0aGUgZG9vci4gRXZlcnkgbmlnaHQgZm9yIHR3byB5ZWFycy4iLCB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBub3cgMjYiLCB0aGVtZTogImludmlzaWJsZS1lZmZvcnQiIH0sCiAgeyBxOiAiV2hlbiBJIGdvdCBtYXJyaWVkLCBJIGFza2VkIG15IHN0ZXBkYWQgdG8gd2FsayBtZSBkb3duIHRoZSBhaXNsZS4gTXkgbW9tIGNyaWVkLiBIZSBjcmllZC4gSSBjcmllZC4gSGUgaGFkIHdhaXRlZCBzZXZlbnRlZW4geWVhcnMgZm9yIHRoYXQgbW9tZW50IGFuZCBuZXZlciBvbmNlIGFza2VkIGZvciBpdC4iLCB3aG86ICJBZHVsdCBzdGVwZGF1Z2h0ZXIiLCB0aGVtZTogImxvbmctdmlldyIgfSwKICAvLyA9PT0gUFJPR1JFU1MgLyBIT1BFID09PQogIHsgcTogIlRoZSBzaGlmdCBkaWRuJ3QgaGFwcGVuIGFsbCBhdCBvbmNlLiBPbmUgZGF5IEkganVzdCByZWFsaXplZCBJJ2Qgc3RhcnRlZCBjYWxsaW5nIGhlciBob3VzZSAnaG9tZScgd2l0aG91dCB0aGlua2luZyBhYm91dCBpdC4iLCB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBhZ2UgMjQiLCB0aGVtZTogInByb2dyZXNzIiB9LAogIHsgcTogIkkgbmFtZWQgbXkgZGF1Z2h0ZXIgYWZ0ZXIgbXkgc3RlcG1vbS4gU2hlIGRvZXNuJ3Qga25vdyB5ZXQuIEknbSB0ZWxsaW5nIGhlciBhdCBDaHJpc3RtYXMuIiwgd2hvOiAiQWR1bHQgc3RlcGNoaWxkIiwgdGhlbWU6ICJsb25nLXZpZXciIH0sCiAgeyBxOiAiSXQgdG9vayBtZSB1bnRpbCBJIHdhcyAyMiB0byB0ZWxsIGhpbSBJIGxvdmVkIGhpbS4gQnV0IEknZCBmZWx0IGl0IHNpbmNlIEkgd2FzIDE2LiBJIGp1c3QgZGlkbid0IGtub3cgaG93IHRvIHNheSBpdCB3aXRob3V0IGZlZWxpbmcgbGlrZSBJIHdhcyBiZXRyYXlpbmcgbXkgcmVhbCBkYWQuIiwgd2hvOiAiQWR1bHQgc3RlcGNoaWxkIGFib3V0IGxveWFsdHkgY29uZmxpY3QiLCB0aGVtZTogInByb2dyZXNzIiB9LAogIHsgcTogIk15IHN0ZXBtb20gbmV2ZXIgY29ycmVjdGVkIG1lIHdoZW4gSSBjYWxsZWQgaGVyIGJ5IGhlciBmaXJzdCBuYW1lLiBTaGUgbmV2ZXIgcHVzaGVkLiBBbmQgdGhhdCdzIGV4YWN0bHkgd2h5LCB0d2VudHkgeWVhcnMgbGF0ZXIsIG15IGtpZHMgY2FsbCBoZXIgZ3JhbmRtYS4iLCB3aG86ICJBZHVsdCBzdGVwY2hpbGQsIG5vdyAzOCIsIHRoZW1lOiAibG9uZy12aWV3IiB9LAogIC8vID09PSBWQUxJREFUSU9OIC8gSURFTlRJVFkgPT09CiAgeyBxOiAiSSB3aXNoIHNvbWVvbmUgaGFkIHRvbGQgbXkgc3RlcGRhZCB0aGF0IG15IHNpbGVuY2Ugd2Fzbid0IHJlamVjdGlvbi4gSSB3YXMganVzdCBzY2FyZWQgdGhhdCBpZiBJIGxvdmVkIGhpbSwgaXQgbWVhbnQgSSBkaWRuJ3QgbG92ZSBteSBkYWQgYW55bW9yZS4iLCB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBub3cgMjciLCB0aGVtZTogInJlamVjdGlvbiIgfSwKICB7IHE6ICJUaGUgaGFyZGVzdCBwYXJ0IHdhc24ndCB0aGF0IHNoZSByZWplY3RlZCBtZS4gSXQgd2FzIHRoYXQgSSBzdGFydGVkIHRvIGJlbGlldmUgSSB3YXMgdGhlIHByb2JsZW0uIEkgd2Fzbid0LiBUaGUgc2l0dWF0aW9uIHdhcyB0aGUgcHJvYmxlbS4iLCB3aG86ICJTdGVwcGFyZW50IG9mIDggeWVhcnMiLCB0aGVtZTogImlkZW50aXR5IiB9LAogIHsgcTogIk5vYm9keSB0b2xkIG1lIHRoYXQgJ2RvaW5nIGZpbmUnIHdhcyBhIHJlYWxpc3RpYyBiZXN0LWNhc2UgZm9yIHRoZSBmaXJzdCBmaXZlIHllYXJzLiBJIGtlcHQgdGhpbmtpbmcgSSB3YXMgZmFpbGluZyB3aGVuIEkgd2FzIGFjdHVhbGx5IHJpZ2h0IG9uIHRyYWNrLiIsIHdobzogIlN0ZXBkYWQsIHllYXIgNyIsIHRoZW1lOiAiaWRlbnRpdHkiIH0sCiAgeyBxOiAiWW91IGRvbid0IGhhdmUgdG8gbG92ZSB5b3VyIHN0ZXBraWRzIHRoZSBzYW1lIHdheSB5b3UgbG92ZSB5b3VyIGJpbyBraWRzLiBEaWZmZXJlbnQgbG92ZSBpcyBzdGlsbCBsb3ZlLiBJIHdpc2ggc29tZW9uZSBoYWQgZ2l2ZW4gbWUgcGVybWlzc2lvbiB0byBmZWVsIHRoYXQgZWFybGllci4iLCB3aG86ICJTdGVwbW9tLCBibGVuZGVkIGZhbWlseSIsIHRoZW1lOiAiaWRlbnRpdHkiIH0sCiAgLy8gPT09IEFERElUSU9OQUwgRk9SIERBSUxZIFJPVEFUSU9OID09PQogIHsgcTogIkxvb2tpbmcgYmFjaywgdGhlIGZhY3QgdGhhdCBzaGUgc3RheWVkIGlzIHRoZSB0aGluZyB0aGF0IG1hdHRlcmVkLiBOb3Qgd2hhdCBzaGUgc2FpZCwgbm90IHdoYXQgc2hlIGJvdWdodCBtZS4gU2hlIGp1c3Qgc3RheWVkLiIsIHdobzogIkFkdWx0IHN0ZXBjaGlsZCwgYWdlIDMwIiwgdGhlbWU6ICJpbnZpc2libGUtZWZmb3J0IiB9LAogIHsgcTogIkkgd3JvdGUgbXkgc3RlcG1vbSBhIGxldHRlciB3aGVuIEkgdHVybmVkIDMwLiBKdXN0IHRvIHNheSBzb3JyeS4gQW5kIHRoYW5rIHlvdS4gU2hlIGZyYW1lZCBpdC4iLCB3aG86ICJBZHVsdCBzdGVwY2hpbGQiLCB0aGVtZTogImxvbmctdmlldyIgfSwKICB7IHE6ICJIZSBjYW1lIHRvIGV2ZXJ5IHNpbmdsZSBnYW1lLiBFdmVuIHdoZW4gSSBwcmV0ZW5kZWQgaGUgd2Fzbid0IHRoZXJlLiBFc3BlY2lhbGx5IHdoZW4gSSBwcmV0ZW5kZWQgaGUgd2Fzbid0IHRoZXJlLiIsIHdobzogIkZvcm1lciBzdGVwY2hpbGQgYWJvdXQgc3RlcGRhZCIsIHRoZW1lOiAiaW52aXNpYmxlLWVmZm9ydCIgfSwKICB7IHE6ICJNeSBzdGVwbW90aGVyIHRhdWdodCBtZSB0aGF0IGZhbWlseSBpc24ndCBqdXN0IGJsb29kLiBJdCdzIHdobyBzdGF5cyB3aGVuIHRoaW5ncyBhcmUgaGFyZC4gU2hlIHN0YXllZC4iLCB3aG86ICJBZHVsdCBzdGVwY2hpbGQsIGFnZSAzNSIsIHRoZW1lOiAibG9uZy12aWV3IiB9LAogIHsgcTogIkkgdXNlZCB0byB0ZXN0IGhlciBjb25zdGFudGx5LiBTYXkgaG9ycmlibGUgdGhpbmdzIGp1c3QgdG8gc2VlIGlmIHNoZSdkIGxlYXZlLiBTaGUgbmV2ZXIgZGlkLiBUaGF0J3MgdGhlIG9ubHkgcmVhc29uIEkgdHJ1c3QgYW55b25lIG5vdy4iLCB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBub3cgaW4gdGhlcmFweSIsIHRoZW1lOiAicmVqZWN0aW9uIiB9LAogIHsgcTogIlRoZSByZWxhdGlvbnNoaXAgZGlkbid0IGdldCBnb29kLiBJdCBnb3Qgb2theS4gQW5kIG9rYXkgdHVybmVkIG91dCB0byBiZSBtb3JlIHRoYW4gZW5vdWdoLiIsIHdobzogIkFkdWx0IHN0ZXBjaGlsZCBhYm91dCByZWFsaXN0aWMgb3V0Y29tZXMiLCB0aGVtZTogInByb2dyZXNzIiB9LAogIHsgcTogIkkgZGlkbid0IGdvIHRvIGhlciBmdW5lcmFsIGJlY2F1c2UgSSB3YXMgYW5ncnkuIEkgcmVncmV0IGl0IGV2ZXJ5IHNpbmdsZSBkYXkuIFNoZSBkZXNlcnZlZCBiZXR0ZXIgZnJvbSBtZSwgYW5kIHNoZSBwcm9iYWJseSBrbmV3IHRoYXQuIiwgd2hvOiAiQWR1bHQgc3RlcGNoaWxkLCBhZ2UgNDUiLCB0aGVtZTogImxvbmctdmlldyIgfSwKXTsKCi8vIOKUgOKUgCBQYXJ0bmVyIENvbW11bmljYXRpb24gVGlwcyDilIDilIAKY29uc3QgUEFSVE5FUl9USVBTID0gWwogIHsKICAgIHRpdGxlOiAiTWFrZSB0aGUgaW52aXNpYmxlIHZpc2libGUiLAogICAgc2l0dWF0aW9uOiAiWW91ciBwYXJ0bmVyIGRvZXNuJ3Qgc2VlbSB0byBub3RpY2UgeW91ciBlZmZvcnRzIHdpdGggdGhlaXIgY2hpbGQuIiwKICAgIHRpcDogIkRvbid0IHdhaXQgZm9yIHRoZW0gdG8gbm90aWNlLiBTaGFyZSBzcGVjaWZpYyBtb21lbnRzOiAnSSBtYWRlIHRoZWlyIGx1bmNoIHRvZGF5IGFuZCB0aGV5IHdhbGtlZCBwYXN0IG1lIHdpdGhvdXQgYSB3b3JkLiBJIGtub3cgdGhhdCdzIG5vcm1hbCwgYnV0IGl0IHdvdWxkIGhlbHAgbWUgdG8gaGVhciB0aGF0IHlvdSBzZWUgd2hhdCBJJ20gZG9pbmcuJyIsCiAgICB3aHk6ICJQYXJ0bmVycyBvZnRlbiBhc3N1bWUgc3RlcHBhcmVudHMga25vdyB0aGVpciBlZmZvcnRzIGFyZSBhcHByZWNpYXRlZC4gVGhleSBkb24ndCByZWFsaXplIHlvdSBuZWVkIGV4cGxpY2l0IGFja25vd2xlZGdtZW50IGJlY2F1c2UgeW91J3JlIG5vdCBnZXR0aW5nIGFueSBmcm9tIHRoZSBjaGlsZC4iLAogIH0sCiAgewogICAgdGl0bGU6ICJUaGUgdW5pdGVkIGZyb250IGNvbnZlcnNhdGlvbiIsCiAgICBzaXR1YXRpb246ICJZb3UgZmVlbCB1bmRlcm1pbmVkIHdoZW4geW91ciBwYXJ0bmVyIG92ZXJyaWRlcyB5b3VyIGRlY2lzaW9ucyBpbiBmcm9udCBvZiB0aGUgY2hpbGQuIiwKICAgIHRpcDogIlRyeTogJ1doZW4gd2UgZGlzYWdyZWUgYWJvdXQgcnVsZXMsIGNhbiB3ZSB0YWxrIGFib3V0IGl0IHByaXZhdGVseSBmaXJzdD8gV2hlbiBpdCBoYXBwZW5zIGluIGZyb250IG9mIHRoZSBraWRzLCBpdCBzaWduYWxzIHRoYXQgSSBkb24ndCBoYXZlIGF1dGhvcml0eSBoZXJlIOKAlCBhbmQgdGhhdCBtYWtlcyBpdCBoYXJkZXIgZm9yIHRoZW0gdG8gcmVzcGVjdCBtZS4nIiwKICAgIHdoeTogIkNoaWxkcmVuIGluIHN0ZXBmYW1pbGllcyBhcmUgaGlnaGx5IGF0dHVuZWQgdG8gcG93ZXIgZHluYW1pY3MuIElmIHRoZXkgc2VlIHRoZSBiaW8tcGFyZW50IG92ZXJyaWRlIHRoZSBzdGVwcGFyZW50LCBpdCBjb25maXJtcyB0aGVpciBiZWxpZWYgdGhhdCB0aGUgc3RlcHBhcmVudCBkb2Vzbid0IGNvdW50LiIsCiAgfSwKICB7CiAgICB0aXRsZTogIkRvbid0IGNvbXBldGUgd2l0aCB0aGUgb3RoZXIgcGFyZW50IiwKICAgIHNpdHVhdGlvbjogIllvdXIgcGFydG5lciBjb21wYXJlcyB5b3UgdG8gdGhlIGNoaWxkJ3Mgb3RoZXIgYmlvbG9naWNhbCBwYXJlbnQsIG9yIGV4cGVjdHMgeW91IHRvIGZpbGwgdGhhdCByb2xlLiIsCiAgICB0aXA6ICJTYXk6ICdJJ20gbm90IHRyeWluZyB0byByZXBsYWNlIGFueW9uZS4gSSdtIHRyeWluZyB0byBidWlsZCBteSBvd24gcmVsYXRpb25zaGlwIHdpdGggeW91ciBjaGlsZC4gVGhhdCB0YWtlcyB0aW1lLCBhbmQgaXQgd2lsbCBsb29rIGRpZmZlcmVudCBmcm9tIHdoYXQgdGhleSBoYXZlIHdpdGggdGhlaXIgb3RoZXIgcGFyZW50IOKAlCBhbmQgdGhhdCdzIG9rYXkuJyIsCiAgICB3aHk6ICJTdGVwcGFyZW50cyB3aG8gdHJ5IHRvIHJlcGxpY2F0ZSB0aGUgYmlvLXBhcmVudCByb2xlIGZhY2UgdGhlIG1vc3QgcmVzaXN0YW5jZS4gUmVzZWFyY2ggY29uc2lzdGVudGx5IHNob3dzIHRoYXQgYSAnZnJpZW5kbHkgbWVudG9yJyByb2xlIGxlYWRzIHRvIGJldHRlciBvdXRjb21lcyB0aGFuIGEgJ3JlcGxhY2VtZW50IHBhcmVudCcgcm9sZS4iLAogIH0sCiAgewogICAgdGl0bGU6ICJXaGVuIHlvdSBuZWVkIHNwYWNlIGZyb20gdGhlIGNoaWxkIiwKICAgIHNpdHVhdGlvbjogIllvdSBuZWVkIGEgYnJlYWsgYnV0IGZlZWwgZ3VpbHR5IGFza2luZy4iLAogICAgdGlwOiAiVHJ5OiAnSSBuZWVkIGFuIGhvdXIgdG8gcmVzZXQgYWZ0ZXIgdG9kYXkuIFRoYXQncyBub3QgbWUgZ2l2aW5nIHVwIOKAlCBpdCdzIG1lIG1ha2luZyBzdXJlIEkgY2FuIHNob3cgdXAgYWdhaW4gdG9tb3Jyb3cuIENhbiB5b3UgaGFuZGxlIGJlZHRpbWUgdG9uaWdodD8nIiwKICAgIHdoeTogIlN0ZXBwYXJlbnQgYnVybm91dCBpcyByZWFsIGFuZCB1bmRlci1kaXNjdXNzZWQuIFRha2luZyBicmVha3MgaXNuJ3QgYWJhbmRvbm1lbnQuIFBhcnRuZXJzIG5lZWQgdG8gdW5kZXJzdGFuZCB0aGF0IHN1c3RhaW5lZCBlZmZvcnQgcmVxdWlyZXMgcmVjb3ZlcnkuIiwKICB9LAogIHsKICAgIHRpdGxlOiAiU2hhcmluZyB5b3VyIFN0ZWFkZmFzdCBkYXRhIiwKICAgIHNpdHVhdGlvbjogIllvdXIgcGFydG5lciBhc2tzIGhvdyB0aGluZ3MgYXJlIGdvaW5nLCBhbmQgeW91IHdhbnQgdG8gc2hvdyB0aGVtIOKAlCBub3QganVzdCB0ZWxsIHRoZW0uIiwKICAgIHRpcDogIlVzZSB0aGUgbW9udGhseSByZXBvcnQgdG8gc2hhcmUgcGF0dGVybnM6ICdMb29rIOKAlCB3aGVuIEkgdXNlIHF1aWV0IGFjdHMgb2Ygc2VydmljZSwgdGhlIHJlc3BvbnNlIGlzIG5ldXRyYWwgb3IgcG9zaXRpdmUgNzAlIG9mIHRoZSB0aW1lLiBEaXJlY3QgY29udmVyc2F0aW9uIG9ubHkgd29ya3MgMzAlLiBUaGlzIGlzIHJlYWwgZGF0YSwgbm90IGp1c3QgbXkgZmVlbGluZ3MuJyIsCiAgICB3aHk6ICJEYXRhIHJlbW92ZXMgdGhlIGVtb3Rpb24gZnJvbSB0aGUgY29udmVyc2F0aW9uLiBZb3VyIHBhcnRuZXIgY2FuIHNlZSBvYmplY3RpdmUgcGF0dGVybnMgaW5zdGVhZCBvZiBoZWFyaW5nIHdoYXQgbWlnaHQgc291bmQgbGlrZSBjb21wbGFpbnRzLiIsCiAgfSwKICB7CiAgICB0aXRsZTogIldoZW4geW91ciBwYXJ0bmVyIHNheXMgJ2p1c3QgZ2l2ZSBpdCB0aW1lJyIsCiAgICBzaXR1YXRpb246ICJZb3UncmUgc3RydWdnbGluZyBhbmQgeW91ciBwYXJ0bmVyIG1pbmltaXplcyBpdCB3aXRoICd0aGV5J2xsIGNvbWUgYXJvdW5kLiciLAogICAgdGlwOiAiUmVzcG9uZDogJ0kgaGVhciB5b3UsIGFuZCBJIGtub3cgdGltZSBtYXR0ZXJzLiBCdXQgcmlnaHQgbm93LCBJIG5lZWQgeW91IHRvIGFja25vd2xlZGdlIHRoYXQgdGhpcyBpcyBoYXJkIOKAlCBub3Qgc29sdmUgaXQsIGp1c3Qgc2VlIGl0LiBDYW4geW91IGp1c3Qgc2l0IHdpdGggbWUgaW4gdGhpcyBmb3IgYSBtaW51dGU/JyIsCiAgICB3aHk6ICInR2l2ZSBpdCB0aW1lJyBmZWVscyBkaXNtaXNzaXZlIGV2ZW4gd2hlbiBpdCdzIHRydWUuIFdoYXQgc3RlcHBhcmVudHMgbmVlZCBpbiB0aGUgbW9tZW50IGlzIHZhbGlkYXRpb24sIG5vdCBhZHZpY2UuIFBhcnRuZXJzIG9mdGVuIGRlZmF1bHQgdG8gZml4aW5nIGJlY2F1c2UgdGhlIHBhaW4gaXMgdW5jb21mb3J0YWJsZSB0byB3aXRuZXNzLiIsCiAgfSwKICB7CiAgICB0aXRsZTogIkFza2luZyBmb3IgYmFja3VwIHdpdGhvdXQgc3RhcnRpbmcgYSBmaWdodCIsCiAgICBzaXR1YXRpb246ICJUaGUgY2hpbGQgd2FzIGRpc3Jlc3BlY3RmdWwgdG8geW91IGFuZCB5b3VyIHBhcnRuZXIgZGlkbid0IGludGVydmVuZS4iLAogICAgdGlwOiAiV2FpdCB1bnRpbCB5b3UncmUgY2FsbSwgdGhlbjogJ1doZW4gW3NwZWNpZmljIHRoaW5nXSBoYXBwZW5lZCB0b2RheSBhbmQgbm90aGluZyB3YXMgc2FpZCwgSSBmZWx0IHVuc3VwcG9ydGVkLiBJJ20gbm90IGFza2luZyB5b3UgdG8gcHVuaXNoIHRoZW0g4oCUIEknbSBhc2tpbmcgeW91IHRvIHNheSBzb21ldGhpbmcgaW4gdGhlIG1vbWVudCwgZXZlbiBzb21ldGhpbmcgc21hbGwsIHNvIHRoZXkga25vdyB0aGF0J3Mgbm90IG9rYXkuJyIsCiAgICB3aHk6ICJCaW8tcGFyZW50cyBvZnRlbiBmcmVlemUgd2hlbiBjYXVnaHQgYmV0d2VlbiB0aGVpciBjaGlsZCBhbmQgdGhlaXIgcGFydG5lci4gVGhleSBuZWVkIHNwZWNpZmljLCBzbWFsbCByZXF1ZXN0cyDigJQgbm90IGdlbmVyYWwgZGVtYW5kcyB0byAnZG8gc29tZXRoaW5nLiciLAogIH0sCiAgewogICAgdGl0bGU6ICJUaGUgbG95YWx0eSBjb25mbGljdCBpc24ndCBhYm91dCB5b3UiLAogICAgc2l0dWF0aW9uOiAiWW91ciBwYXJ0bmVyJ3MgY2hpbGQgYWN0cyB3b3JzZSBhZnRlciB2aXNpdHMgd2l0aCB0aGVpciBvdGhlciBwYXJlbnQuIiwKICAgIHRpcDogIlRlbGwgeW91ciBwYXJ0bmVyOiAnSSd2ZSBub3RpY2VkIHRoZSBwYXR0ZXJuIHRvby4gSXQncyBub3QgYWJvdXQgdXMgZG9pbmcgc29tZXRoaW5nIHdyb25nIOKAlCB0aGV5J3JlIHByb2Nlc3NpbmcgbG95YWx0eSBjb25mbGljdC4gVGhlIGJlc3QgdGhpbmcgd2UgY2FuIGRvIGlzIGtlZXAgdGhpbmdzIGNhbG0gYW5kIHByZWRpY3RhYmxlIHdoZW4gdGhleSBjb21lIGJhY2suJyIsCiAgICB3aHk6ICJDaGlsZHJlbiBvZnRlbiBhY3Qgb3V0IGFmdGVyIGN1c3RvZHkgdHJhbnNpdGlvbnMgYmVjYXVzZSB0aGV5IGZlZWwgZ3VpbHR5IGZvciBlbmpveWluZyB0aW1lIHdpdGggdGhlIG90aGVyIGhvdXNlaG9sZC4gTmFtaW5nIHRoaXMgcGF0dGVybiB0b2dldGhlciByZWR1Y2VzIGJsYW1lLiIsCiAgfSwKXTsKCi8vIOKUgOKUgCBQYXJlbnRhbCBBbGllbmF0aW9uIENvbnRlbnQg4pSA4pSACmNvbnN0IEFMSUVOQVRJT04gPSB7CiAgdGl0bGU6ICJXaGVuIGl0J3MgbW9yZSB0aGFuIG5vcm1hbCByZXNpc3RhbmNlIiwKICBpbnRybzogIlBhcmVudGFsIGFsaWVuYXRpb24g4oCUIHdoZW4gb25lIHBhcmVudCBhY3RpdmVseSB0dXJucyBhIGNoaWxkIGFnYWluc3QgdGhlIG90aGVyIHBhcmVudCBvciBzdGVwcGFyZW50IOKAlCBpcyBhIHNwZWNpZmljIGFuZCBzZXZlcmUgZHluYW1pYyB0aGF0IGdvZXMgYmV5b25kIHR5cGljYWwgc3RlcGZhbWlseSBhZGp1c3RtZW50LiBJZiB5b3UncmUgZXhwZXJpZW5jaW5nIHRoaXMsIGl0J3MgaW1wb3J0YW50IHRvIGtub3cgdGhhdCBzdGFuZGFyZCBzdGVwcGFyZW50aW5nIHN0cmF0ZWdpZXMgbWF5IG5vdCBhcHBseS4iLAogIHNpZ25zOiBbCiAgICAiVGhlIGNoaWxkIHJlcGVhdHMgd29yZC1mb3Itd29yZCBwaHJhc2VzIHRoYXQgc291bmQgbGlrZSBhbiBhZHVsdCdzIGxhbmd1YWdlLCBub3QgYSBjaGlsZCdzIiwKICAgICJSZWplY3Rpb24gZXNjYWxhdGVkIHN1ZGRlbmx5IGFmdGVyIGNvbnRhY3Qgd2l0aCB0aGUgb3RoZXIgcGFyZW50LCB3aXRoIG5vIG90aGVyIHRyaWdnZXIiLAogICAgIlRoZSBjaGlsZCBzaG93cyBubyBhbWJpdmFsZW5jZSDigJQgdGhleSdyZSBlbnRpcmVseSBuZWdhdGl2ZSB3aXRoIHplcm8gbWl4ZWQgZmVlbGluZ3MiLAogICAgIlByZXZpb3VzbHkgd2FybSBpbnRlcmFjdGlvbnMgZGlzYXBwZWFyZWQgb3Zlcm5pZ2h0IiwKICAgICJUaGUgY2hpbGQgbWFrZXMgZmFsc2UgYWNjdXNhdGlvbnMgb3IgZHJhbWF0aWNhbGx5IHJld3JpdGVzIHNoYXJlZCBoaXN0b3J5IiwKICBdLAogIGd1aWRhbmNlOiBbCiAgICB7IHRpdGxlOiAiVGhpcyBpcyBub3QgeW91ciBmYXVsdCIsIHRleHQ6ICJBbGllbmF0aW9uIGlzIGEgZm9ybSBvZiBwc3ljaG9sb2dpY2FsIG1hbmlwdWxhdGlvbiBieSBhbiBhZHVsdC4gTm8gYW1vdW50IG9mICd0cnlpbmcgaGFyZGVyJyBvbiB5b3VyIHBhcnQgd2lsbCBmaXggaXQsIGJlY2F1c2UgdGhlIHByb2JsZW0gaXNuJ3QgY29taW5nIGZyb20geW91IG9yIHRoZSBjaGlsZC4iIH0sCiAgICB7IHRpdGxlOiAiRG9jdW1lbnQsIGRvbid0IHJlYWN0IiwgdGV4dDogIktlZXAgZmFjdHVhbCByZWNvcmRzIG9mIHdoYXQgdGhlIGNoaWxkIHNheXMgYW5kIHdoZW4uIFlvdXIgU3RlYWRmYXN0IGVudHJpZXMgY2FuIHNlcnZlIHRoaXMgcHVycG9zZS4gTm90ZSBzcGVjaWZpYyBwaHJhc2VzLCBkYXRlcywgYW5kIGNvbnRleHQg4oCUIGVzcGVjaWFsbHkgY29ycmVsYXRpb24gd2l0aCBjdXN0b2R5IHRyYW5zaXRpb25zLiIgfSwKICAgIHsgdGl0bGU6ICJQcm90ZWN0IHRoZSByZWxhdGlvbnNoaXAgeW91IGNhbiIsIHRleHQ6ICJGb2N1cyBvbiB5b3VyIHJlbGF0aW9uc2hpcCB3aXRoIHlvdXIgcGFydG5lci4gQWxpZW5hdGlvbiBwdXRzIGVub3Jtb3VzIHN0cmFpbiBvbiBjb3VwbGVzLiBZb3VyIHBhcnRuZXIgbmVlZHMgdG8gYmUgYWN0aXZlbHkgaW52b2x2ZWQgaW4gYWRkcmVzc2luZyB0aGlzIOKAlCBpdCBjYW5ub3QgYmUgeW91ciBmaWdodCBhbG9uZS4iIH0sCiAgICB7IHRpdGxlOiAiU2VlayBzcGVjaWFsaXplZCBoZWxwIiwgdGV4dDogIkdlbmVyYWwgc3RlcGZhbWlseSBhZHZpY2Ugb2Z0ZW4gZG9lc24ndCBhcHBseSB0byBhbGllbmF0aW9uLiBMb29rIGZvciB0aGVyYXBpc3RzIHdobyBzcGVjaWZpY2FsbHkgd29yayB3aXRoIHBhcmVudGFsIGFsaWVuYXRpb24gb3IgaGlnaC1jb25mbGljdCBjdXN0b2R5IHNpdHVhdGlvbnMuIiB9LAogICAgeyB0aXRsZTogIkxvd2VyIHlvdXIgZXhwZWN0YXRpb25zIHdpdGhvdXQgZ2l2aW5nIHVwIiwgdGV4dDogIlByb2dyZXNzIGluIGFsaWVuYXRpb24gY2FzZXMgaXMgbWVhc3VyZWQgZGlmZmVyZW50bHkuIEEgY2hpbGQgbWFpbnRhaW5pbmcgYW55IG5ldXRyYWwgY29udGFjdCBhdCBhbGwgbWF5IGJlIHRoZSByZWFsaXN0aWMgYmVzdCBvdXRjb21lIHdoaWxlIHRoZSBhbGllbmF0aW9uIGlzIGFjdGl2ZS4gVGhpcyBkb2Vzbid0IG1lYW4gZm9yZXZlci4iIH0sCiAgXSwKICBub3RlOiAiU3RlYWRmYXN0J3MgdHJhY2tpbmcgdG9vbHMgY2FuIHN0aWxsIGJlIHVzZWZ1bCBpbiBhbGllbmF0aW9uIHNpdHVhdGlvbnMg4oCUIGRvY3VtZW50aW5nIHBhdHRlcm5zLCBjb3JyZWxhdGluZyBiZWhhdmlvcnMgd2l0aCBjdXN0b2R5IHRyYW5zaXRpb25zLCBhbmQgbWFpbnRhaW5pbmcgeW91ciBvd24gcGVyc3BlY3RpdmUuIEJ1dCB0aGUgcGVyc3BlY3RpdmUgY2FyZHMgYW5kIGJlbmNobWFya3MgYXJlIGRlc2lnbmVkIGZvciB0eXBpY2FsIHN0ZXBmYW1pbHkgcmVzaXN0YW5jZSwgbm90IGFjdGl2ZSBhbGllbmF0aW9uLiBJZiB5b3UncmUgaW4gdGhpcyBzaXR1YXRpb24sIHBsZWFzZSBhZGp1c3QgeW91ciBleHBlY3RhdGlvbnMgb2YgdGhpcyBhcHAgYW5kIG9mIHlvdXJzZWxmLiIsCn07Cgpjb25zdCBCRU5DSCA9IHsKICBhZ2VzOiB7CiAgICAiMC00IjogeyB0OiAiM+KAkzYgeWVhcnMiLCBub3RlOiAiWW91bmcgY2hpbGRyZW4gYXJlIGdlbmVyYWxseSBtb3JlIGFjY2VwdGluZyBidXQgbWF5IGRldmVsb3AgcmVzaXN0YW5jZSBhcyB0aGV5IHVuZGVyc3RhbmQgZmFtaWx5IGR5bmFtaWNzLiIgfSwKICAgICI1LTkiOiB7IHQ6ICI14oCTOCB5ZWFycyIsIG5vdGU6ICJTY2hvb2wtYWdlIGNoaWxkcmVuIGhhdmUgZXN0YWJsaXNoZWQgYm9uZHMgYW5kIG1heSBmZWVsIHRvcm4gYmV0d2VlbiBsb3lhbHR5IHRvIHRoZWlyIGJpb2xvZ2ljYWwgcGFyZW50IGFuZCBhY2NlcHRhbmNlIG9mIHlvdS4iIH0sCiAgICAiMTAtMTMiOiB7IHQ6ICI34oCTMTIgeWVhcnMiLCBub3RlOiAiUHJlLXRlZW5zIGFuZCBlYXJseSB0ZWVucyBmYWNlIHRoZSBoYXJkZXN0IGFkanVzdG1lbnQuIElkZW50aXR5IGZvcm1hdGlvbiBwbHVzIGxveWFsdHkgY29uZmxpY3RzIGNyZWF0ZSBpbnRlbnNlIHJlc2lzdGFuY2UuIiB9LAogICAgIjE0LTE3IjogeyB0OiAiTWF5IGV4dGVuZCBpbnRvIGFkdWx0aG9vZCIsIG5vdGU6ICJUZWVuYWdlcnMgYXJlIGRldmVsb3BtZW50YWxseSBzZXBhcmF0aW5nIGZyb20gQUxMIHBhcmVudHMuIEFkZGluZyBhIG5ldyBvbmUgYXQgdGhpcyBzdGFnZSBpcyBleGNlcHRpb25hbGx5IGNoYWxsZW5naW5nLiBQcm9ncmVzcyBvZnRlbiBvbmx5IGJlY29tZXMgdmlzaWJsZSB3aGVuIHRoZXkncmUgYWR1bHRzLiIgfSwKICB9LAogIGN1c3RvZHk6IHsKICAgIGZ1bGw6ICJMaXZpbmcgdG9nZXRoZXIgZnVsbC10aW1lIGNyZWF0ZXMgbW9yZSBmcmljdGlvbiBidXQgYWxzbyBtb3JlIG9wcG9ydHVuaXRpZXMgZm9yIHNtYWxsIHBvc2l0aXZlIGludGVyYWN0aW9ucy4iLAogICAgIjUwLTUwIjogIlJlZ3VsYXIgdHJhbnNpdGlvbnMgY2FuIHRyaWdnZXIgbG95YWx0eSBjb25mbGljdHMgZWFjaCB0aW1lLiBCdXQgY29uc2lzdGVudCBwcmVzZW5jZSBub3JtYWxpemVzIHRoZSByZWxhdGlvbnNoaXAuIiwKICAgIHdlZWtlbmRzOiAiTGltaXRlZCB0aW1lIG1lYW5zIGVhY2ggaW50ZXJhY3Rpb24gY2FycmllcyBtb3JlIHdlaWdodCDigJQgYm90aCBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUuIFNsb3dlciBvdmVyYWxsIHByb2dyZXNzLiIsCiAgICBvdGhlcjogIklycmVndWxhciBvciBpbmZyZXF1ZW50IGNvbnRhY3QgbWFrZXMgcmVsYXRpb25zaGlwLWJ1aWxkaW5nIHNpZ25pZmljYW50bHkgaGFyZGVyLiIsCiAgfSwKICBsb3lhbHR5OiB7CiAgICBub25lOiAiTm8gdmlzaWJsZSBsb3lhbHR5IGNvbmZsaWN0IGlzIGEgc2lnbmlmaWNhbnQgYWR2YW50YWdlLiBQcm9ncmVzcyBtYXkgYmUgZmFzdGVyIHRoYW4gdHlwaWNhbCBiZW5jaG1hcmtzLiIsCiAgICBtaWxkOiAiU29tZSB0ZW5zaW9uIGlzIG5vcm1hbC4gVGhlIGNoaWxkIG1heSBmZWVsIGNvbmZsaWN0ZWQgYnV0IGlzbid0IGFjdGl2ZWx5IHByZXNzdXJlZCB0byByZWplY3QgeW91LiIsCiAgICBzdHJvbmc6ICJBY3RpdmUgbG95YWx0eSBjb25mbGljdCBpcyB0aGUgc2luZ2xlIGJpZ2dlc3QgcHJlZGljdG9yIG9mIHNsb3dlciBpbnRlZ3JhdGlvbi4gVGhpcyBpcyB0aGUgaGFyZGVzdCB2YXJpYWJsZSwgYW5kIGl0J3Mgbm90IHNvbWV0aGluZyB5b3UgY29udHJvbC4iLAogICAgdW5rbm93bjogIk5vdCBiZWluZyBzdXJlIGlzIGNvbW1vbi4gV2F0Y2ggZm9yIHNpZ25zOiBkb2VzIHRoZSBjaGlsZCBzZWVtIGNvbmZsaWN0ZWQgYWZ0ZXIgdmlzaXRzIHdpdGggdGhlIG90aGVyIHBhcmVudD8iLAogIH0sCiAgb3V0Y29tZXM6IFsKICAgIHsgbDogIldhcm0gYWNjZXB0YW5jZSIsIGQ6ICJHZW51aW5lIGFmZmVjdGlvbiwgc2Vla3MgeW91ciBjb21wYW55LCBpbnRyb2R1Y2VzIHlvdSBhcyBmYW1pbHkuIiwgcDogIjE14oCTMjAlIiwgYzogIiM3RUI4QTIiIH0sCiAgICB7IGw6ICJDb21mb3J0YWJsZSByZWxhdGlvbnNoaXAiLCBkOiAiRWFzeSBjb2V4aXN0ZW5jZSwgc2hhcmVkIGFjdGl2aXRpZXMsIG11dHVhbCByZXNwZWN0LiIsIHA6ICIzMOKAkzM1JSIsIGM6ICIjOEJBRUQ0IiB9LAogICAgeyBsOiAiUmVzcGVjdGZ1bCBkaXN0YW5jZSIsIGQ6ICJQb2xpdGUsIGNvb3BlcmF0aXZlLCBidXQgbm90IGNsb3NlLiBBIHJlYWxpc3RpYyBhbmQgdmFsaWQgc3VjY2VzcyBzdGF0ZS4iLCBwOiAiMjXigJMzMCUiLCBjOiAiIzlEQjhDNyIgfSwKICAgIHsgbDogIkNvcmRpYWwgY29leGlzdGVuY2UiLCBkOiAiRnVuY3Rpb25hbCBob3VzZWhvbGQsIG1pbmltYWwgZnJpY3Rpb24sIGxpbWl0ZWQgZW1vdGlvbmFsIGNvbm5lY3Rpb24uIiwgcDogIjE14oCTMjAlIiwgYzogIiNDOUEwQTAiIH0sCiAgICB7IGw6ICJPbmdvaW5nIGRpZmZpY3VsdHkiLCBkOiAiQ29udGludWVkIHJlc2lzdGFuY2UgdGhhdCBtYXkgc29mdGVuIGluIGFkdWx0aG9vZCDigJQgb3IgbWF5IG5vdC4iLCBwOiAiNeKAkzEwJSIsIGM6ICIjRDQ3OTZCIiB9LAogIF0sCn07Cgpjb25zdCBTTkFQX1EgPSBbCiAgeyBpZDogIm92ZXJhbGwiLCBxOiAiSG93IHdvdWxkIHlvdSBkZXNjcmliZSB0aGUgcmVsYXRpb25zaGlwIHJpZ2h0IG5vdz8iLCBzOiBbIkhvc3RpbGUiLCAiQXZvaWRhbnQiLCAiVGVuc2UiLCAiTmV1dHJhbCIsICJXYXJtaW5nIiwgIkNvbWZvcnRhYmxlIiwgIkNsb3NlIl0gfSwKICB7IGlkOiAicmVqIiwgcTogIkhvdyBvZnRlbiBhcmUgeW91IGV4cGVyaWVuY2luZyBvdmVydCByZWplY3Rpb24/IiwgczogWyJEYWlseSIsICJTZXZlcmFsL3drIiwgIldlZWtseSIsICJGZXcvbW9udGgiLCAiUmFyZWx5IiwgIkFsbW9zdCBuZXZlciJdIH0sCiAgeyBpZDogInBvcyIsIHE6ICJIb3cgb2Z0ZW4gZG8geW91IG5vdGljZSBzbWFsbCBwb3NpdGl2ZSBzaWduYWxzPyIsIHM6IFsiTmV2ZXIiLCAiUmFyZWx5IiwgIlNvbWV0aW1lcyIsICJXZWVrbHkiLCAiU2V2ZXJhbC93ayIsICJEYWlseSJdIH0sCiAgeyBpZDogImZlZWxpbmciLCBxOiAiSG93IGFyZSBZT1UgZmVlbGluZyBhYm91dCB0aGUgcmVsYXRpb25zaGlwPyIsIHM6IFsiSG9wZWxlc3MiLCAiRXhoYXVzdGVkIiwgIkRpc2NvdXJhZ2VkIiwgIk5ldXRyYWwiLCAiQ2F1dGlvdXMgaG9wZSIsICJHb29kIiwgIkNvbmZpZGVudCJdIH0sCiAgeyBpZDogImlkZW50aXR5IiwgcTogIkhvdyBtdWNoIGFyZSB5b3UgZmVlbGluZyBsaWtlIHlvdXJzZWxmPyIsIHM6IFsiTG9zdCIsICJTdHJ1Z2dsaW5nIiwgIkNvcGluZyIsICJNb3N0bHkgT0siLCAiTXlzZWxmIiwgIlN0cm9uZ2VyIl0gfSwKICB7IGlkOiAic3VzdGFpbiIsIHE6ICJIb3cgc3VzdGFpbmFibGUgZG9lcyB5b3VyIGN1cnJlbnQgZWZmb3J0IGZlZWw/IiwgczogWyJCdXJuaW5nIG91dCIsICJVbnN1c3RhaW5hYmxlIiwgIkRpZmZpY3VsdCIsICJNYW5hZ2VhYmxlIiwgIkNvbWZvcnRhYmxlIiwgIk5hdHVyYWwiXSB9LApdOwoKLy8g4pSA4pSAIEhlbHBlcnMg4pSA4pSACmNvbnN0IHVpZCA9ICgpID0+IERhdGUubm93KCkudG9TdHJpbmcoMzYpICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgNyk7CmNvbnN0IGZtdERhdGUgPSAoZCkgPT4gbmV3IERhdGUoZCkudG9Mb2NhbGVEYXRlU3RyaW5nKCJlbi1VUyIsIHsgbW9udGg6ICJzaG9ydCIsIGRheTogIm51bWVyaWMiLCB5ZWFyOiAibnVtZXJpYyIgfSk7CmNvbnN0IGZtdFNob3J0ID0gKGQpID0+IG5ldyBEYXRlKGQpLnRvTG9jYWxlRGF0ZVN0cmluZygiZW4tVVMiLCB7IG1vbnRoOiAic2hvcnQiLCBkYXk6ICJudW1lcmljIiB9KTsKY29uc3QgZm10U2hvcnRZciA9IChkKSA9PiBuZXcgRGF0ZShkKS50b0xvY2FsZURhdGVTdHJpbmcoImVuLVVTIiwgeyBtb250aDogInNob3J0IiwgZGF5OiAibnVtZXJpYyIsIHllYXI6ICIyLWRpZ2l0IiB9KTsKY29uc3QgZGF5c0FnbyA9IChkKSA9PiBNYXRoLnJvdW5kKChEYXRlLm5vdygpIC0gbmV3IERhdGUoZCkuZ2V0VGltZSgpKSAvIDg2NDAwMDAwKTsKCi8vIOKUgOKUgCBQYWxldHRlIOKUgOKUgApjb25zdCBQID0gewogIGJnOiAiIzBmMTExNyIsIGNhcmQ6ICIjMTYxOTIxIiwgY2FyZDI6ICIjMWMyMDI5IiwgYm9yZGVyOiAiIzI1MmEzNSIsCiAgYm9yZGVyMjogIiMyZjM1NDIiLCB3YXJtOiAiI0Q0QTU3NCIsIHdhcm1EaW06ICIjRDRBNTc0NDQiLAogIHRleHQ6ICIjRTVENUM1IiwgbXV0ZWQ6ICIjOUNBM0FGIiwgZGltOiAiIzdCODQ5NCIsIGRpbW1lcjogIiM1RTY2NzgiLAogIGdyZWVuOiAiIzdFQjhBMiIsIGJsdWU6ICIjOEJBRUQ0IiwgcHVycGxlOiAiI0M0QTZEOCIsIHJvc2U6ICIjQzlBMEEwIiwgcmVkOiAiI0Q0Nzk2QiIsCn07CgovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKLy8gIE1BSU4gQVBQCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkApmdW5jdGlvbiBBcHAoKSB7CiAgY29uc3QgW3ZpZXcsIHNldFZpZXddID0gdXNlU3RhdGUoImxvYWRpbmciKTsKICBjb25zdCBbZW50cmllcywgc2V0RW50cmllc10gPSB1c2VTdGF0ZShbXSk7CiAgY29uc3QgW3Byb2ZpbGUsIHNldFByb2ZpbGVdID0gdXNlU3RhdGUobnVsbCk7CiAgY29uc3QgW3NuYXBzLCBzZXRTbmFwc10gPSB1c2VTdGF0ZShbXSk7CiAgY29uc3QgW21vZGFsLCBzZXRNb2RhbF0gPSB1c2VTdGF0ZShudWxsKTsgLy8ge3R5cGUsIGRhdGE/fQogIGNvbnN0IFt0aW1lUmFuZ2UsIHNldFRpbWVSYW5nZV0gPSB1c2VTdGF0ZSgiM20iKTsKICBjb25zdCBbcGF0TW9kZSwgc2V0UGF0TW9kZV0gPSB1c2VTdGF0ZSgiYWN0aW9uIik7CiAgY29uc3QgW3RpZXIsIHNldFRpZXJdID0gdXNlU3RhdGUoImZyZWUiKTsgLy8gImZyZWUiIG9yICJwcmVtaXVtIgoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgKGFzeW5jICgpID0+IHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBbZSwgcCwgc10gPSBhd2FpdCBQcm9taXNlLmFsbChbZ2V0QWxsKFMuZW50cmllcyksIGdldChTLnByb2ZpbGUsICJtYWluIiksIGdldEFsbChTLnNuYXBzaG90cyldKTsKICAgICAgICBzZXRFbnRyaWVzKGUuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi5kYXRlKSAtIG5ldyBEYXRlKGEuZGF0ZSkpKTsKICAgICAgICBjb25zdCBwcm9mID0gcD8uZGF0YSB8fCBudWxsOwogICAgICAgIHNldFByb2ZpbGUocHJvZik7CiAgICAgICAgc2V0VGllcihwcm9mPy50aWVyIHx8ICJmcmVlIik7CiAgICAgICAgc2V0U25hcHMocy5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShhLmRhdGUpIC0gbmV3IERhdGUoYi5kYXRlKSkpOwogICAgICAgIHNldFZpZXcocHJvZiA/ICJob21lIiA6ICJvbmJvYXJkIik7CiAgICAgIH0gY2F0Y2goZSkgeyBzZXRWaWV3KCJvbmJvYXJkIik7IH0KICAgIH0pKCk7CiAgfSwgW10pOwoKICBjb25zdCBzYXZlRW50cnkgPSBhc3luYyAoZSkgPT4geyBhd2FpdCBwdXQoUy5lbnRyaWVzLCBlKTsgc2V0RW50cmllcyhwcmV2ID0+IFtlLCAuLi5wcmV2LmZpbHRlcih4ID0+IHguaWQgIT09IGUuaWQpXS5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLmRhdGUpIC0gbmV3IERhdGUoYS5kYXRlKSkpOyB9OwogIGNvbnN0IGRlbEVudHJ5ID0gYXN5bmMgKGlkKSA9PiB7IGF3YWl0IGRlbChTLmVudHJpZXMsIGlkKTsgc2V0RW50cmllcyhwcmV2ID0+IHByZXYuZmlsdGVyKHggPT4geC5pZCAhPT0gaWQpKTsgfTsKICBjb25zdCBzYXZlUHJvZmlsZSA9IGFzeW5jIChkKSA9PiB7IGF3YWl0IHB1dChTLnByb2ZpbGUsIHsga2V5OiAibWFpbiIsIGRhdGE6IGQgfSk7IHNldFByb2ZpbGUoZCk7IH07CiAgY29uc3Qgc2F2ZVNuYXAgPSBhc3luYyAocykgPT4geyBhd2FpdCBwdXQoUy5zbmFwc2hvdHMsIHMpOyBzZXRTbmFwcyhwcmV2ID0+IFsuLi5wcmV2LmZpbHRlcih4ID0+IHguaWQgIT09IHMuaWQpLCBzXS5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShhLmRhdGUpIC0gbmV3IERhdGUoYi5kYXRlKSkpOyB9OwogIGNvbnN0IGRlbFNuYXAgPSBhc3luYyAoaWQpID0+IHsgYXdhaXQgZGVsKFMuc25hcHNob3RzLCBpZCk7IHNldFNuYXBzKHByZXYgPT4gcHJldi5maWx0ZXIoeCA9PiB4LmlkICE9PSBpZCkpOyB9OwoKICBjb25zdCBleHBvcnREYXRhID0gKCkgPT4gewogICAgY29uc3QgZCA9IEpTT04uc3RyaW5naWZ5KHsgZW50cmllcywgcHJvZmlsZSwgc25hcHNob3RzOiBzbmFwcywgZXhwb3J0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9LCBudWxsLCAyKTsKICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICBhLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtkXSwgeyB0eXBlOiAiYXBwbGljYXRpb24vanNvbiIgfSkpOwogICAgYS5kb3dubG9hZCA9IGBzdGVhZGZhc3QtYmFja3VwLSR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKX0uanNvbmA7CiAgICBhLmNsaWNrKCk7CiAgfTsKCiAgY29uc3QgaW1wb3J0RGF0YSA9IChldnQpID0+IHsKICAgIGNvbnN0IGYgPSBldnQudGFyZ2V0LmZpbGVzWzBdOwogICAgaWYgKCFmKSByZXR1cm47CiAgICBjb25zdCByID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgIHIub25sb2FkID0gYXN5bmMgKGUpID0+IHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBkID0gSlNPTi5wYXJzZShlLnRhcmdldC5yZXN1bHQpOwogICAgICAgIC8vIENsZWFyIGFsbCBleGlzdGluZyBkYXRhIGZpcnN0CiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBpZGIoKTsKICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgob2ssIGZhaWwpID0+IHsKICAgICAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oW1MuZW50cmllcywgUy5wcm9maWxlLCBTLnNuYXBzaG90c10sICJyZWFkd3JpdGUiKTsKICAgICAgICAgIHR4Lm9iamVjdFN0b3JlKFMuZW50cmllcykuY2xlYXIoKTsKICAgICAgICAgIHR4Lm9iamVjdFN0b3JlKFMucHJvZmlsZSkuY2xlYXIoKTsKICAgICAgICAgIHR4Lm9iamVjdFN0b3JlKFMuc25hcHNob3RzKS5jbGVhcigpOwogICAgICAgICAgdHgub25jb21wbGV0ZSA9ICgpID0+IG9rKCk7CiAgICAgICAgICB0eC5vbmVycm9yID0gKCkgPT4gZmFpbCh0eC5lcnJvcik7CiAgICAgICAgfSk7CiAgICAgICAgLy8gSW1wb3J0IG5ldyBkYXRhCiAgICAgICAgaWYgKGQuZW50cmllcykgZm9yIChjb25zdCB4IG9mIGQuZW50cmllcykgYXdhaXQgcHV0KFMuZW50cmllcywgeCk7CiAgICAgICAgaWYgKGQucHJvZmlsZSkgYXdhaXQgcHV0KFMucHJvZmlsZSwgeyBrZXk6ICJtYWluIiwgZGF0YTogZC5wcm9maWxlIH0pOwogICAgICAgIGlmIChkLnNuYXBzaG90cykgZm9yIChjb25zdCB4IG9mIGQuc25hcHNob3RzKSBhd2FpdCBwdXQoUy5zbmFwc2hvdHMsIHgpOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSBjYXRjaChlKSB7IGFsZXJ0KCJJbnZhbGlkIGJhY2t1cCBmaWxlLiIpOyB9CiAgICB9OwogICAgci5yZWFkQXNUZXh0KGYpOwogIH07CgogIGNvbnN0IG9wZW5FbnRyeSA9IChlID0gbnVsbCkgPT4gc2V0TW9kYWwoeyB0eXBlOiAiZW50cnkiLCBkYXRhOiBlIH0pOwogIGNvbnN0IGNsb3NlID0gKCkgPT4gc2V0TW9kYWwobnVsbCk7CgogIGlmICh2aWV3ID09PSAibG9hZGluZyIpIHJldHVybiAoCiAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5yb290LCBkaXNwbGF5OiAiZmxleCIsIGFsaWduSXRlbXM6ICJjZW50ZXIiLCBqdXN0aWZ5Q29udGVudDogImNlbnRlciIsIG1pbkhlaWdodDogIjEwMHZoIiB9fSByb2xlPSJzdGF0dXMiIGFyaWEtbGl2ZT0icG9saXRlIj4KICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250RmFtaWx5OiAiR2VvcmdpYSwgJ1RpbWVzIE5ldyBSb21hbicsIHNlcmlmIiwgZm9udFNpemU6IDE4IH19PkxvYWRpbmfigKY8L3A+CiAgICA8L2Rpdj4KICApOwoKICBpZiAodmlldyA9PT0gIm9uYm9hcmQiKSByZXR1cm4gPE9uYm9hcmRpbmcgb25Eb25lPXsoZCkgPT4geyBzYXZlUHJvZmlsZShkKTsgc2V0VmlldygiaG9tZSIpOyB9fSAvPjsKCiAgcmV0dXJuICgKICAgIDxkaXYgc3R5bGU9e2Nzcy5yb290fT4KICAgICAgPGRpdiBzdHlsZT17Y3NzLnNoZWxsfT4KICAgICAgICB7LyogTW9kYWwgbGF5ZXIgKi99CiAgICAgICAge21vZGFsPy50eXBlID09PSAiZW50cnkiICYmICgKICAgICAgICAgIDxFbnRyeU1vZGFsCiAgICAgICAgICAgIGVudHJ5PXttb2RhbC5kYXRhfQogICAgICAgICAgICBvblNhdmU9eyhlKSA9PiB7CiAgICAgICAgICAgICAgc2F2ZUVudHJ5KGUpOyBjbG9zZSgpOwogICAgICAgICAgICAgIC8vIEF1dG8tc2hvdyBwZXJzcGVjdGl2ZSBjYXJkcyBvbiByZWplY3Rpb24vZXNjYWxhdGlvbiAodW5sZXNzIGRpc2FibGVkKQogICAgICAgICAgICAgIGlmICghcHJvZmlsZT8uaGlkZUF1dG9DYXJkcyAmJiAoZS5yZXNwb25zZSA9PT0gInJlamVjdGlvbiIgfHwgZS5yZXNwb25zZSA9PT0gImVzY2FsYXRpb24iKSkgewogICAgICAgICAgICAgICAgY29uc3QgY3MgPSBDQVJEUy5maWx0ZXIoYyA9PiBjLnRyaWdnZXJzLmluY2x1ZGVzKGUucmVzcG9uc2UpKTsKICAgICAgICAgICAgICAgIGlmIChjcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgLy8gQ3ljbGUgdGhyb3VnaCBjYXJkcyBpbiBvcmRlciB1c2luZyBhIGNvdW50ZXIgc3RvcmVkIGluIHByb2ZpbGUKICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gKHByb2ZpbGU/LmNhcmRJZHggfHwgMCkgJSBjcy5sZW5ndGg7CiAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBjc1tpZHhdOwogICAgICAgICAgICAgICAgICBzYXZlUHJvZmlsZSh7IC4uLnByb2ZpbGUsIGNhcmRJZHg6IChwcm9maWxlPy5jYXJkSWR4IHx8IDApICsgMSB9KTsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRNb2RhbCh7IHR5cGU6ICJjYXJkIiwgZGF0YTogY2FyZCwgYXV0bzogdHJ1ZSB9KSwgMzAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH19CiAgICAgICAgICAgIG9uRGVsZXRlPXttb2RhbC5kYXRhID8gKGlkKSA9PiB7IGRlbEVudHJ5KGlkKTsgY2xvc2UoKTsgfSA6IG51bGx9CiAgICAgICAgICAgIG9uQ2xvc2U9e2Nsb3NlfQogICAgICAgICAgLz4KICAgICAgICApfQogICAgICAgIHttb2RhbD8udHlwZSA9PT0gImNhcmQiICYmIDxDYXJkTW9kYWwgY2FyZD17bW9kYWwuZGF0YX0gYXV0bz17bW9kYWwuYXV0b30gb25DbG9zZT17Y2xvc2V9IG9uRGlzYWJsZUF1dG89eygpID0+IHsgc2F2ZVByb2ZpbGUoeyAuLi5wcm9maWxlLCBoaWRlQXV0b0NhcmRzOiB0cnVlIH0pOyB9fSAvPn0KICAgICAgICB7bW9kYWw/LnR5cGUgPT09ICJzbmFwIiAmJiAodGllciA9PT0gInByZW1pdW0iCiAgICAgICAgICA/IDxTbmFwTW9kYWwgc25hcHM9e3NuYXBzfSBvblNhdmU9eyhzKSA9PiB7IHNhdmVTbmFwKHMpOyBjbG9zZSgpOyB9fSBvbkNsb3NlPXtjbG9zZX0gLz4KICAgICAgICAgIDogPFByZW1pdW1HYXRlIGZlYXR1cmU9Ik1vbnRobHkgY2hlY2staW5zIiBkZXNjcmlwdGlvbj0iVHJhY2sgaG93IHRoZSByZWxhdGlvbnNoaXAgZmVlbHMgb3ZlciB0aW1lIHdpdGggbW9udGhseSBzbmFwc2hvdHMuIFNlZSB5b3VyIHByb2dyZXNzIGNoYXJ0ZWQgYWNyb3NzIG1vbnRocyBhbmQgeWVhcnMuIiBvbkNsb3NlPXtjbG9zZX0gLz4KICAgICAgICApfQogICAgICAgIHttb2RhbD8udHlwZSA9PT0gInNldHRpbmdzIiAmJiA8U2V0dGluZ3NNb2RhbCBvbkNsb3NlPXtjbG9zZX0gb25FeHBvcnQ9e2V4cG9ydERhdGF9IG9uSW1wb3J0PXtpbXBvcnREYXRhfSBvblJlZG89eygpID0+IHsgc2V0Vmlldygib25ib2FyZCIpOyBjbG9zZSgpOyB9fSBvbkVyYXNlPXthc3luYyAoKSA9PiB7IGNvbnN0IGRiID0gYXdhaXQgaWRiKCk7IGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oW1MuZW50cmllcywgUy5wcm9maWxlLCBTLnNuYXBzaG90c10sICJyZWFkd3JpdGUiKTsgdHgub2JqZWN0U3RvcmUoUy5lbnRyaWVzKS5jbGVhcigpOyB0eC5vYmplY3RTdG9yZShTLnByb2ZpbGUpLmNsZWFyKCk7IHR4Lm9iamVjdFN0b3JlKFMuc25hcHNob3RzKS5jbGVhcigpOyB0eC5vbmNvbXBsZXRlID0gKCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOyB9fSB0aWVyPXt0aWVyfSBvblNldFRpZXI9eyh0KSA9PiB7IHNldFRpZXIodCk7IHNhdmVQcm9maWxlKHsgLi4ucHJvZmlsZSwgdGllcjogdCB9KTsgfX0gLz59CgogICAgICAgIHsvKiBIZWFkZXIgKi99CiAgICAgICAgPGhlYWRlciBzdHlsZT17Y3NzLmhkcn0+CiAgICAgICAgICA8ZGl2PgogICAgICAgICAgICA8aDEgc3R5bGU9e2Nzcy5sb2dvfT5TdGVhZGZhc3Q8L2gxPgogICAgICAgICAgICA8cCBzdHlsZT17Y3NzLnN1Yn0+WW91ciBwcm9ncmVzcyBpcyByZWFsLCBldmVuIHdoZW4gaXQncyBpbnZpc2libGU8L3A+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0TW9kYWwoeyB0eXBlOiAic2V0dGluZ3MiIH0pfSBzdHlsZT17Y3NzLmljb25CdG59IGFyaWEtbGFiZWw9IlNldHRpbmdzIj7impk8L2J1dHRvbj4KICAgICAgICA8L2hlYWRlcj4KCiAgICAgICAgPE5hdiB2aWV3PXt2aWV3fSBnbz17c2V0Vmlld30gLz4KCiAgICAgICAgPG1haW4gaWQ9Im1haW4tY29udGVudCIgc3R5bGU9e3sgcGFkZGluZzogIjRweCAxNnB4IDEyMHB4IiB9fT4KICAgICAgICAgIHt2aWV3ID09PSAiaG9tZSIgJiYgPEhvbWUgZW50cmllcz17ZW50cmllc30gcHJvZmlsZT17cHJvZmlsZX0gc25hcHM9e3NuYXBzfSB0aWVyPXt0aWVyfSBvcGVuRW50cnk9e29wZW5FbnRyeX0gb3BlblNuYXA9eygpID0+IHNldE1vZGFsKHsgdHlwZTogInNuYXAiIH0pfSBvcGVuQ2FyZD17KCkgPT4geyBjb25zdCBjID0gQ0FSRFNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogQ0FSRFMubGVuZ3RoKV07IHNldE1vZGFsKHsgdHlwZTogImNhcmQiLCBkYXRhOiBjIH0pOyB9fSAvPn0KICAgICAgICAgIHt2aWV3ID09PSAidGltZWxpbmUiICYmIDxUaW1lbGluZSBlbnRyaWVzPXtlbnRyaWVzfSBzbmFwcz17c25hcHN9IHJhbmdlPXt0aW1lUmFuZ2V9IHNldFJhbmdlPXtzZXRUaW1lUmFuZ2V9IG9wZW5FbnRyeT17b3BlbkVudHJ5fSAvPn0KICAgICAgICAgIHt2aWV3ID09PSAicGF0dGVybnMiICYmIDxQYXR0ZXJucyBlbnRyaWVzPXtlbnRyaWVzfSBtb2RlPXtwYXRNb2RlfSBzZXRNb2RlPXtzZXRQYXRNb2RlfSByYW5nZT17dGltZVJhbmdlfSBzZXRSYW5nZT17c2V0VGltZVJhbmdlfSB0aWVyPXt0aWVyfSAvPn0KICAgICAgICAgIHt2aWV3ID09PSAicGVyc3BlY3RpdmUiICYmIDxQZXJzcGVjdGl2ZSBlbnRyaWVzPXtlbnRyaWVzfSB0aWVyPXt0aWVyfSBvcGVuQ2FyZD17KGMpID0+IHNldE1vZGFsKHsgdHlwZTogImNhcmQiLCBkYXRhOiBjIH0pfSAvPn0KICAgICAgICAgIHt2aWV3ID09PSAicGFydG5lciIgJiYgPFBhcnRuZXIgZW50cmllcz17ZW50cmllc30gcHJvZmlsZT17cHJvZmlsZX0gc25hcHM9e3NuYXBzfSB0aWVyPXt0aWVyfSAvPn0KICAgICAgICAgIHt2aWV3ID09PSAiYmVuY2htYXJrIiAmJiA8QmVuY2htYXJrIHByb2ZpbGU9e3Byb2ZpbGV9IHNuYXBzPXtzbmFwc30gZW50cmllcz17ZW50cmllc30gdGllcj17dGllcn0gb3BlblNuYXA9eygpID0+IHNldE1vZGFsKHsgdHlwZTogInNuYXAiIH0pfSBvbkRlbGV0ZVNuYXA9e2RlbFNuYXB9IC8+fQogICAgICAgIDwvbWFpbj4KCiAgICAgICAgey8qIEZBQiAqL30KICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IG9wZW5FbnRyeSgpfSBzdHlsZT17Y3NzLmZhYn0gYXJpYS1sYWJlbD0iTG9nIGludGVyYWN0aW9uIj4KICAgICAgICAgIDxzdmcgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2VXaWR0aD0iMi41Ij48bGluZSB4MT0iMTIiIHkxPSI1IiB4Mj0iMTIiIHkyPSIxOSIvPjxsaW5lIHgxPSI1IiB5MT0iMTIiIHgyPSIxOSIgeTI9IjEyIi8+PC9zdmc+CiAgICAgICAgPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBOQVZJR0FUSU9OCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkApmdW5jdGlvbiBOYXYoeyB2aWV3LCBnbyB9KSB7CiAgY29uc3QgaXRlbXMgPSBbCiAgICB7IGlkOiAiaG9tZSIsIGxhYmVsOiAiSG9tZSIsIGljbzogIuKKmSIgfSwKICAgIHsgaWQ6ICJ0aW1lbGluZSIsIGxhYmVsOiAiVGltZWxpbmUiLCBpY286ICLilIEiIH0sCiAgICB7IGlkOiAicGF0dGVybnMiLCBsYWJlbDogIlBhdHRlcm5zIiwgaWNvOiAi4perIiB9LAogICAgeyBpZDogInBlcnNwZWN0aXZlIiwgbGFiZWw6ICJTaGlmdCIsIGljbzogIuKXhyIgfSwKICAgIHsgaWQ6ICJwYXJ0bmVyIiwgbGFiZWw6ICJQYXJ0bmVyIiwgaWNvOiAi4pmhIiB9LAogICAgeyBpZDogImJlbmNobWFyayIsIGxhYmVsOiAiQmVuY2giLCBpY286ICLilrMiIH0sCiAgXTsKICByZXR1cm4gKAogICAgPG5hdiBzdHlsZT17Y3NzLm5hdn0gYXJpYS1sYWJlbD0iTWFpbiBuYXZpZ2F0aW9uIj4KICAgICAge2l0ZW1zLm1hcChpID0+ICgKICAgICAgICA8YnV0dG9uIGtleT17aS5pZH0gb25DbGljaz17KCkgPT4gZ28oaS5pZCl9IGFyaWEtY3VycmVudD17dmlldyA9PT0gaS5pZCA/ICJwYWdlIiA6IHVuZGVmaW5lZH0gYXJpYS1sYWJlbD17aS5sYWJlbH0gc3R5bGU9e3sgLi4uY3NzLm5hdkJ0biwgY29sb3I6IHZpZXcgPT09IGkuaWQgPyBQLndhcm0gOiBQLmRpbSwgYm9yZGVyQm90dG9tOiB2aWV3ID09PSBpLmlkID8gYDJweCBzb2xpZCAke1Aud2FybX1gIDogIjJweCBzb2xpZCB0cmFuc3BhcmVudCIgfX0+CiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTUgfX0gYXJpYS1oaWRkZW49InRydWUiPntpLmljb308L3NwYW4+CiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTAgfX0+e2kubGFiZWx9PC9zcGFuPgogICAgICAgIDwvYnV0dG9uPgogICAgICApKX0KICAgIDwvbmF2PgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgSE9NRQovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKZnVuY3Rpb24gSG9tZSh7IGVudHJpZXMsIHByb2ZpbGUsIHNuYXBzLCB0aWVyLCBvcGVuRW50cnksIG9wZW5TbmFwLCBvcGVuQ2FyZCB9KSB7CiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApOwogIGNvbnN0IHRvZGF5TiA9IGVudHJpZXMuZmlsdGVyKGUgPT4gZS5kYXRlLnNsaWNlKDAsIDEwKSA9PT0gdG9kYXkpLmxlbmd0aDsKICBjb25zdCB3ZWVrID0gZW50cmllcy5maWx0ZXIoZSA9PiBkYXlzQWdvKGUuZGF0ZSkgPD0gNyk7CiAgY29uc3Qgd2Vla1BvcyA9IHdlZWsuZmlsdGVyKGUgPT4gZS5yZXNwb25zZSA9PT0gInBvc2l0aXZlIiB8fCBlLnJlc3BvbnNlID09PSAibmV1dHJhbCIpLmxlbmd0aDsKICBjb25zdCBkYXlzID0gcHJvZmlsZT8uc3RhcnREYXRlID8gZGF5c0Fnbyhwcm9maWxlLnN0YXJ0RGF0ZSkgOiAwOwogIGNvbnN0IGxhc3RTbmFwID0gc25hcHMubGVuZ3RoID8gc25hcHNbc25hcHMubGVuZ3RoIC0gMV0gOiBudWxsOwogIGNvbnN0IHNuYXBEdWUgPSAhbGFzdFNuYXAgfHwgZGF5c0FnbyhsYXN0U25hcC5kYXRlKSA+PSAyODsKCiAgLy8gRGFpbHkgcXVvdGUgLSBkZXRlcm1pbmlzdGljIGJhc2VkIG9uIGRheSBudW1iZXIgc2luY2UgZXBvY2gKICBjb25zdCBkYXlOdW0gPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyA4NjQwMDAwMCk7CiAgY29uc3QgZGFpbHlRdW90ZSA9IERBSUxZX1FVT1RFU1tkYXlOdW0gJSBEQUlMWV9RVU9URVMubGVuZ3RoXTsKCiAgcmV0dXJuICgKICAgIDxkaXY+CiAgICAgIHsvKiBEYWlseSBxdW90ZSAqL30KICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMjAsIG1hcmdpbkJvdHRvbTogMTIsIGJvcmRlckxlZnQ6IGAzcHggc29saWQgJHtQLndhcm19NDRgLCBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHtQLmNhcmR9IDAlLCAjMWExNTIwIDEwMCUpYCB9fT4KICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTQsIGxpbmVIZWlnaHQ6IDEuNywgZm9udFN0eWxlOiAiaXRhbGljIiwgbWFyZ2luOiAwIH19PiJ7ZGFpbHlRdW90ZS5xfSI8L3A+CiAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAud2FybSwgZm9udFNpemU6IDExLCBtYXJnaW46ICIxMHB4IDAgMCIsIG9wYWNpdHk6IDAuOCB9fT7igJQge2RhaWx5UXVvdGUud2hvfTwvcD4KICAgICAgPC9kaXY+CiAgICAgIHsvKiBDVEEgY2FyZCAqL30KICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgYmFja2dyb3VuZDogYGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICR7UC5jYXJkfSAwJSwgJHtQLmNhcmQyfSAxMDAlKWAsIHBhZGRpbmc6IDI0LCBtYXJnaW5Cb3R0b206IDEyIH19PgogICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLm11dGVkLCBtYXJnaW46ICIwIDAgMTRweCIsIGZvbnRTaXplOiAxNSB9fT4KICAgICAgICAgIHt0b2RheU4gPT09IDAgPyAiSG93IGRpZCB0aGluZ3MgZ28gdG9kYXk/IiA6IGAke3RvZGF5Tn0gaW50ZXJhY3Rpb24ke3RvZGF5TiA+IDEgPyAicyIgOiAiIn0gbG9nZ2VkIHRvZGF5LmB9CiAgICAgICAgPC9wPgogICAgICAgIDxCdG4gb25DbGljaz17KCkgPT4gb3BlbkVudHJ5KCl9PkxvZyBhbiBJbnRlcmFjdGlvbjwvQnRuPgogICAgICA8L2Rpdj4KCiAgICAgIHsvKiBTdGF0cyAqL30KICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogOCwgbWFyZ2luQm90dG9tOiAxMiB9fT4KICAgICAgICA8U3RhdCBuPXtkYXlzfSBsPSJkYXlzIHRyYWNraW5nIiAvPgogICAgICAgIDxTdGF0IG49e2VudHJpZXMubGVuZ3RofSBsPSJ0b3RhbCBsb2dnZWQiIC8+CiAgICAgICAgPFN0YXQgbj17d2Vlay5sZW5ndGggPiAwID8gTWF0aC5yb3VuZCgod2Vla1BvcyAvIHdlZWsubGVuZ3RoKSAqIDEwMCkgKyAiJSIgOiAi4oCUIn0gbD0icG9zaXRpdmUgdGhpcyB3ayIgLz4KICAgICAgPC9kaXY+CgogICAgICB7LyogU25hcHNob3QgcHJvbXB0IC0gcHJlbWl1bSBvbmx5ICovfQogICAgICB7dGllciA9PT0gInByZW1pdW0iICYmIHNuYXBEdWUgJiYgKAogICAgICAgIDxidXR0b24gb25DbGljaz17b3BlblNuYXB9IHN0eWxlPXtjc3MucHJvbXB0fT4KICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAxNiB9fT7wn5OKPC9zcGFuPgogICAgICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxIH19PgogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNCwgZm9udFdlaWdodDogNTAwIH19Pk1vbnRobHkgY2hlY2staW4ge2xhc3RTbmFwID8gImR1ZSIgOiAiYXZhaWxhYmxlIn08L2Rpdj4KICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMiwgbWFyZ2luVG9wOiAyIH19PgogICAgICAgICAgICAgIHtsYXN0U25hcCA/IGBMYXN0IHNuYXBzaG90IHdhcyAke2RheXNBZ28obGFzdFNuYXAuZGF0ZSl9IGRheXMgYWdvLmAgOiAiVGFrZSB5b3VyIGZpcnN0IHNuYXBzaG90IHRvIHN0YXJ0IHRyYWNraW5nIHByb2dyZXNzLiJ9IENvbXBhcmUgd2hlcmUgdGhpbmdzIHN0YW5kIG92ZXIgdGltZS4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2J1dHRvbj4KICAgICAgKX0KCiAgICAgIHsvKiBQZXJzcGVjdGl2ZSBzaG9ydGN1dCAqL30KICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvcGVuQ2FyZH0gc3R5bGU9e3sgLi4uY3NzLnByb21wdCwgYm9yZGVyQ29sb3I6ICIjMjkyMzJlIiB9fT4KICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTYgfX0+4peHPC9zcGFuPgogICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSB9fT4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDE0LCBmb250V2VpZ2h0OiA1MDAgfX0+TmVlZCBhIHBlcnNwZWN0aXZlIHNoaWZ0PzwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMiwgbWFyZ2luVG9wOiAyIH19PlJlc2VhcmNoLWJhY2tlZCByZWZyYW1lcyBmb3Igd2hlbiB0aGluZ3MgZmVlbCBoZWF2eS48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9idXR0b24+CgogICAgICB7LyogUmVjZW50ICovfQogICAgICB7ZW50cmllcy5sZW5ndGggPiAwICYmIDxTZWN0aW9uVGl0bGU+UmVjZW50PC9TZWN0aW9uVGl0bGU+fQogICAgICB7ZW50cmllcy5zbGljZSgwLCA1KS5tYXAoZSA9PiA8RW50cnlSb3cga2V5PXtlLmlkfSBlbnRyeT17ZX0gb25DbGljaz17KCkgPT4gb3BlbkVudHJ5KGUpfSAvPil9CiAgICA8L2Rpdj4KICApOwp9CgovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKLy8gIFRJTUVMSU5FCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkApmdW5jdGlvbiBUaW1lbGluZSh7IGVudHJpZXMsIHNuYXBzLCByYW5nZSwgc2V0UmFuZ2UsIG9wZW5FbnRyeSB9KSB7CiAgY29uc3QgcmFuZ2VzID0geyAiMW0iOiAzMCwgIjNtIjogOTAsICI2bSI6IDE4MCwgIjF5IjogMzY1LCBhbGw6IDk5OTk5IH07CiAgY29uc3QgY3V0ID0gRGF0ZS5ub3coKSAtIHJhbmdlc1tyYW5nZV0gKiA4NjQwMDAwMDsKICBjb25zdCBmaWwgPSB1c2VNZW1vKCgpID0+CiAgICBlbnRyaWVzLmZpbHRlcihlID0+IG5ldyBEYXRlKGUuZGF0ZSkuZ2V0VGltZSgpID49IGN1dCkuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYS5kYXRlKSAtIG5ldyBEYXRlKGIuZGF0ZSkpLAogICAgW2VudHJpZXMsIGN1dF0KICApOwoKICAvLyBHcm91cCBieSBjYWxlbmRhciBkYXRlIHN0cmluZyAoWVlZWS1NTS1ERCBpbiBsb2NhbCB0aW1lKQogIGNvbnN0IGdyb3VwcyA9IHVzZU1lbW8oKCkgPT4gewogICAgY29uc3QgbSA9IHt9OwogICAgZmlsLmZvckVhY2goZSA9PiB7CiAgICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShlLmRhdGUpOwogICAgICBjb25zdCBrID0gYCR7ZC5nZXRGdWxsWWVhcigpfS0ke1N0cmluZyhkLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAiMCIpfS0ke1N0cmluZyhkLmdldERhdGUoKSkucGFkU3RhcnQoMiwgIjAiKX1gOwogICAgICBpZiAoIW1ba10pIG1ba10gPSBbXTsKICAgICAgbVtrXS5wdXNoKGUpOwogICAgfSk7CiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMobSkuc29ydCgoW2FdLCBbYl0pID0+IGEubG9jYWxlQ29tcGFyZShiKSkubWFwKChbaywgdl0pID0+ICh7IGtleTogaywgZW50cmllczogdiB9KSk7CiAgfSwgW2ZpbF0pOwoKICBjb25zdCBzY29yZXMgPSBncm91cHMubWFwKGcgPT4gewogICAgY29uc3QgcyA9IGcuZW50cmllcy5tYXAoZSA9PiBSRVNQT05TRVMuZmluZChyID0+IHIuaWQgPT09IGUucmVzcG9uc2UpPy5zY29yZSA/PyAyKTsKICAgIHJldHVybiB7IC4uLmcsIGF2Zzogcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIHMubGVuZ3RoLCBjb3VudDogZy5lbnRyaWVzLmxlbmd0aCB9OwogIH0pOwoKICAvLyBTbWFsbCBtdWx0aXBsZXM6IHBlciByZXNwb25zZSB0eXBlLCBkYWlseSBjb3VudCBvdmVyIHRpbWUKICBjb25zdCBbc2VyaWVzRmlsdGVyLCBzZXRTZXJpZXNGaWx0ZXJdID0gdXNlU3RhdGUoImFsbCIpOwogIGNvbnN0IHNlcmllc0RhdGEgPSB1c2VNZW1vKCgpID0+IHsKICAgIGNvbnN0IGFsbERhdGVzID0gZ3JvdXBzLm1hcChnID0+IGcua2V5KTsKICAgIHJldHVybiBSRVNQT05TRVMubWFwKHIgPT4gewogICAgICBjb25zdCBjb3VudHMgPSBncm91cHMubWFwKGcgPT4gZy5lbnRyaWVzLmZpbHRlcihlID0+IGUucmVzcG9uc2UgPT09IHIuaWQpLmxlbmd0aCk7CiAgICAgIHJldHVybiB7IC4uLnIsIGNvdW50cywgZGF0ZXM6IGFsbERhdGVzIH07CiAgICB9KTsKICB9LCBbZ3JvdXBzXSk7CgogIC8vIFNpbXBsZSBtb3ZpbmcgYXZlcmFnZSB0cmVuZGxpbmUgKHdpbmRvdz0zKQogIGNvbnN0IHRyZW5kID0gKGFycikgPT4gewogICAgaWYgKGFyci5sZW5ndGggPCAzKSByZXR1cm4gYXJyOwogICAgcmV0dXJuIGFyci5tYXAoKF8sIGkpID0+IHsKICAgICAgY29uc3Qgc3RhcnQgPSBNYXRoLm1heCgwLCBpIC0gMSk7CiAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKGFyci5sZW5ndGgsIGkgKyAyKTsKICAgICAgY29uc3Qgc2xpY2UgPSBhcnIuc2xpY2Uoc3RhcnQsIGVuZCk7CiAgICAgIHJldHVybiBzbGljZS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIHNsaWNlLmxlbmd0aDsKICAgIH0pOwogIH07CgogIGNvbnN0IGZtdEtleSA9IChrKSA9PiB7CiAgICBjb25zdCBbeSwgbSwgZF0gPSBrLnNwbGl0KCItIik7CiAgICBjb25zdCBtb250aHMgPSBbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdOwogICAgcmV0dXJuIGAke21vbnRoc1twYXJzZUludChtKSAtIDFdfSAke3BhcnNlSW50KGQpfSwgJyR7eS5zbGljZSgyKX1gOwogIH07CgogIC8vIEFnZ3JlZ2F0ZSBkYWlseSBncm91cHMgaW50byB3ZWVrbHkgYnVja2V0cyBmb3IgY2xlYW5lciBjaGFydHMKICBjb25zdCB3ZWVrbHlTZXJpZXNEYXRhID0gdXNlTWVtbygoKSA9PiB7CiAgICBpZiAoZ3JvdXBzLmxlbmd0aCA8PSAzMCkgcmV0dXJuIG51bGw7IC8vIHVzZSBkYWlseSBmb3Igc21hbGwgZGF0YXNldHMKICAgIGNvbnN0IHdlZWtNYXAgPSB7fTsKICAgIGdyb3Vwcy5mb3JFYWNoKGcgPT4gewogICAgICBjb25zdCBkID0gbmV3IERhdGUoZy5rZXkpOwogICAgICAvLyBXZWVrIGtleTogeWVhciArIElTTyB3ZWVrIG51bWJlcgogICAgICBjb25zdCBqYW4xID0gbmV3IERhdGUoZC5nZXRGdWxsWWVhcigpLCAwLCAxKTsKICAgICAgY29uc3Qgd2sgPSBNYXRoLmNlaWwoKChkIC0gamFuMSkgLyA4NjQwMDAwMCArIGphbjEuZ2V0RGF5KCkgKyAxKSAvIDcpOwogICAgICBjb25zdCB3S2V5ID0gYCR7ZC5nZXRGdWxsWWVhcigpfS1XJHtTdHJpbmcod2spLnBhZFN0YXJ0KDIsICIwIil9YDsKICAgICAgaWYgKCF3ZWVrTWFwW3dLZXldKSB3ZWVrTWFwW3dLZXldID0geyBrZXk6IHdLZXksIGVudHJpZXM6IFtdLCBmaXJzdERhdGU6IGcua2V5IH07CiAgICAgIHdlZWtNYXBbd0tleV0uZW50cmllcy5wdXNoKC4uLmcuZW50cmllcyk7CiAgICB9KTsKICAgIGNvbnN0IHdlZWtzID0gT2JqZWN0LnZhbHVlcyh3ZWVrTWFwKS5zb3J0KChhLCBiKSA9PiBhLmtleS5sb2NhbGVDb21wYXJlKGIua2V5KSk7CiAgICByZXR1cm4gUkVTUE9OU0VTLm1hcChyID0+IHsKICAgICAgY29uc3QgY291bnRzID0gd2Vla3MubWFwKHcgPT4gdy5lbnRyaWVzLmZpbHRlcihlID0+IGUucmVzcG9uc2UgPT09IHIuaWQpLmxlbmd0aCk7CiAgICAgIHJldHVybiB7IC4uLnIsIGNvdW50cywgZGF0ZXM6IHdlZWtzLm1hcCh3ID0+IHcuZmlyc3REYXRlKSB9OwogICAgfSk7CiAgfSwgW2dyb3Vwc10pOwoKICBjb25zdCB3ZWVrbHlNYXhZID0gdXNlTWVtbygoKSA9PiB7CiAgICBpZiAoIXdlZWtseVNlcmllc0RhdGEpIHJldHVybiAwOwogICAgbGV0IG14ID0gMDsKICAgIHdlZWtseVNlcmllc0RhdGEuZm9yRWFjaChzID0+IHMuY291bnRzLmZvckVhY2goYyA9PiB7IGlmIChjID4gbXgpIG14ID0gYzsgfSkpOwogICAgcmV0dXJuIG14OwogIH0sIFt3ZWVrbHlTZXJpZXNEYXRhXSk7CgogIGNvbnN0IHVzZVdlZWtseSA9IHdlZWtseVNlcmllc0RhdGEgJiYgZ3JvdXBzLmxlbmd0aCA+IDMwOwoKICAvLyBTVkcgc21hbGwgbXVsdGlwbGUgY2hhcnQKICBjb25zdCBTbWFsbE11bHRpcGxlID0gKHsgZGF0YSwgbWF4WSB9KSA9PiB7CiAgICBjb25zdCB3ID0gMjgwLCBoID0gNjAsIHBhZEwgPSAwLCBwYWRSID0gNDsKICAgIGNvbnN0IG4gPSBkYXRhLmNvdW50cy5sZW5ndGg7CiAgICBpZiAobiA9PT0gMCkgcmV0dXJuIG51bGw7CiAgICBjb25zdCBjTWF4ID0gTWF0aC5tYXgobWF4WSwgMSk7CiAgICBjb25zdCB4U3RlcCA9IG4gPiAxID8gKHcgLSBwYWRMIC0gcGFkUikgLyAobiAtIDEpIDogMDsKCiAgICBjb25zdCBwb2ludHMgPSBkYXRhLmNvdW50cy5tYXAoKGMsIGkpID0+ICh7IHg6IHBhZEwgKyBpICogeFN0ZXAsIHk6IGggLSA0IC0gKGMgLyBjTWF4KSAqIChoIC0gOCkgfSkpOwogICAgY29uc3QgdHJlbmRWYWxzID0gdHJlbmQoZGF0YS5jb3VudHMpOwogICAgY29uc3QgdHJlbmRQdHMgPSB0cmVuZFZhbHMubWFwKChjLCBpKSA9PiAoeyB4OiBwYWRMICsgaSAqIHhTdGVwLCB5OiBoIC0gNCAtIChjIC8gY01heCkgKiAoaCAtIDgpIH0pKTsKCiAgICBjb25zdCB0cmVuZEQgPSB0cmVuZFB0cy5tYXAoKHAsIGkpID0+IGAke2kgPT09IDAgPyAiTSIgOiAiTCJ9JHtwLnh9LCR7cC55fWApLmpvaW4oIiAiKTsKICAgIC8vIEFyZWEgdW5kZXIgdHJlbmQKICAgIGNvbnN0IGFyZWFEID0gdHJlbmREICsgYCBMJHt0cmVuZFB0c1t0cmVuZFB0cy5sZW5ndGggLSAxXS54fSwke2ggLSA0fSBMJHt0cmVuZFB0c1swXS54fSwke2ggLSA0fSBaYDsKCiAgICByZXR1cm4gKAogICAgICA8c3ZnIHZpZXdCb3g9e2AwIDAgJHt3fSAke2h9YH0gc3R5bGU9e3sgd2lkdGg6ICIxMDAlIiwgaGVpZ2h0OiBoLCBkaXNwbGF5OiAiYmxvY2siIH19IGFyaWEtaGlkZGVuPSJ0cnVlIj4KICAgICAgICA8bGluZSB4MT17cGFkTH0geTE9e2ggLSA0fSB4Mj17dyAtIHBhZFJ9IHkyPXtoIC0gNH0gc3Ryb2tlPXtQLmJvcmRlcn0gc3Ryb2tlV2lkdGg9IjAuNSIgLz4KICAgICAgICB7LyogQXJlYSBmaWxsIHVuZGVyIHRyZW5kICovfQogICAgICAgIDxwYXRoIGQ9e2FyZWFEfSBmaWxsPXtkYXRhLmMgKyAiMTUifSAvPgogICAgICAgIHsvKiBUcmVuZCBsaW5lIChib2xkKSAqL30KICAgICAgICA8cGF0aCBkPXt0cmVuZER9IGZpbGw9Im5vbmUiIHN0cm9rZT17ZGF0YS5jfSBzdHJva2VXaWR0aD0iMiIgLz4KICAgICAgICB7LyogU2hvdyBkb3RzIG9ubHkgd2hlbiBmZXcgcG9pbnRzICovfQogICAgICAgIHtuIDw9IDMwICYmIHBvaW50cy5tYXAoKHAsIGkpID0+IDxjaXJjbGUga2V5PXtpfSBjeD17cC54fSBjeT17cC55fSByPSIyIiBmaWxsPXtkYXRhLmN9IG9wYWNpdHk9IjAuNSIgLz4pfQogICAgICA8L3N2Zz4KICAgICk7CiAgfTsKCiAgY29uc3QgZ2xvYmFsTWF4RGFpbHkgPSB1c2VNZW1vKCgpID0+IHsKICAgIGxldCBteCA9IDA7CiAgICBncm91cHMuZm9yRWFjaChnID0+IHsKICAgICAgUkVTUE9OU0VTLmZvckVhY2gociA9PiB7CiAgICAgICAgY29uc3QgYyA9IGcuZW50cmllcy5maWx0ZXIoZSA9PiBlLnJlc3BvbnNlID09PSByLmlkKS5sZW5ndGg7CiAgICAgICAgaWYgKGMgPiBteCkgbXggPSBjOwogICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIG14OwogIH0sIFtncm91cHNdKTsKCiAgY29uc3QgZmlsdGVyZWRTZXJpZXMgPSBzZXJpZXNGaWx0ZXIgPT09ICJhbGwiCiAgICA/ICh1c2VXZWVrbHkgPyB3ZWVrbHlTZXJpZXNEYXRhIDogc2VyaWVzRGF0YSkKICAgIDogKHVzZVdlZWtseSA/IHdlZWtseVNlcmllc0RhdGEgOiBzZXJpZXNEYXRhKS5maWx0ZXIocyA9PiBzLmlkID09PSBzZXJpZXNGaWx0ZXIpOwoKICByZXR1cm4gKAogICAgPGRpdj4KICAgICAgPFRhYnMgaXRlbXM9e09iamVjdC5rZXlzKHJhbmdlcykubWFwKHIgPT4gciA9PT0gImFsbCIgPyAiQWxsIiA6IHIpfSBhY3RpdmU9e3JhbmdlID09PSAiYWxsIiA/ICJBbGwiIDogcmFuZ2V9IG9uUGljaz17KHYpID0+IHNldFJhbmdlKHYgPT09ICJBbGwiID8gImFsbCIgOiB2KX0gLz4KCiAgICAgIHtmaWwubGVuZ3RoID09PSAwID8gKAogICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAiY2VudGVyIiwgcGFkZGluZzogIjQ4cHggMjBweCIgfX0+CiAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0gfX0+Tm8gZW50cmllcyBpbiB0aGlzIHJhbmdlIHlldC48L3A+CiAgICAgICAgPC9kaXY+CiAgICAgICkgOiAoCiAgICAgICAgPD4KICAgICAgICAgIHsvKiBEYWlseSB0b25lIGJhciBjaGFydCAqL30KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDEyIH19PgogICAgICAgICAgICB7KCgpID0+IHsKICAgICAgICAgICAgICAvLyBBZ2dyZWdhdGUgdG8gd2Vla3MvbW9udGhzIHdoZW4gdG9vIG1hbnkgZGF5cwogICAgICAgICAgICAgIGxldCBiYXJzID0gc2NvcmVzOwogICAgICAgICAgICAgIGxldCBiYXJMYWJlbCA9ICJkYXkiOwogICAgICAgICAgICAgIGlmIChzY29yZXMubGVuZ3RoID4gOTApIHsKICAgICAgICAgICAgICAgIC8vIEFnZ3JlZ2F0ZSB0byB3ZWVrcwogICAgICAgICAgICAgICAgY29uc3Qgd2Vla01hcCA9IHt9OwogICAgICAgICAgICAgICAgc2NvcmVzLmZvckVhY2goZyA9PiB7CiAgICAgICAgICAgICAgICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShnLmtleSk7CiAgICAgICAgICAgICAgICAgIGNvbnN0IGphbjEgPSBuZXcgRGF0ZShkLmdldEZ1bGxZZWFyKCksIDAsIDEpOwogICAgICAgICAgICAgICAgICBjb25zdCB3ayA9IE1hdGguY2VpbCgoKGQgLSBqYW4xKSAvIDg2NDAwMDAwICsgamFuMS5nZXREYXkoKSArIDEpIC8gNyk7CiAgICAgICAgICAgICAgICAgIGNvbnN0IHdLZXkgPSBgJHtkLmdldEZ1bGxZZWFyKCl9LVcke1N0cmluZyh3aykucGFkU3RhcnQoMiwgIjAiKX1gOwogICAgICAgICAgICAgICAgICBpZiAoIXdlZWtNYXBbd0tleV0pIHdlZWtNYXBbd0tleV0gPSB7IGtleTogZy5rZXksIHRvdGFsU2NvcmU6IDAsIHRvdGFsQ291bnQ6IDAgfTsKICAgICAgICAgICAgICAgICAgd2Vla01hcFt3S2V5XS50b3RhbFNjb3JlICs9IGcuYXZnICogZy5jb3VudDsKICAgICAgICAgICAgICAgICAgd2Vla01hcFt3S2V5XS50b3RhbENvdW50ICs9IGcuY291bnQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGJhcnMgPSBPYmplY3QudmFsdWVzKHdlZWtNYXApLnNvcnQoKGEsIGIpID0+IGEua2V5LmxvY2FsZUNvbXBhcmUoYi5rZXkpKS5tYXAodyA9PiAoewogICAgICAgICAgICAgICAgICBrZXk6IHcua2V5LCBhdmc6IHcudG90YWxTY29yZSAvIHcudG90YWxDb3VudCwgY291bnQ6IHcudG90YWxDb3VudAogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgYmFyTGFiZWwgPSAid2VlayI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICA8PgogICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMiwgbWFyZ2luOiAiMCAwIDRweCIgfX0+VG9uZSBvdmVyIHRpbWUg4oCUIGVhY2ggYmFyIGlzIG9uZSB7YmFyTGFiZWx9PC9wPgogICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW1tZXIsIGZvbnRTaXplOiAxMSwgbWFyZ2luOiAiMCAwIDEwcHgiIH19PlRhbGxlciBiYXJzID0gbW9yZSBwb3NpdGl2ZSByZXNwb25zZXMuIENvbG9yIHNob3dzIHRoZSBhdmVyYWdlOiBncmVlbiBpcyBnb29kLCByZWQgaXMgdG91Z2guPC9wPgogICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiBiYXJzLmxlbmd0aCA+IDYwID8gMSA6IDIsIGFsaWduSXRlbXM6ICJmbGV4LWVuZCIsIGhlaWdodDogODAgfX0+CiAgICAgICAgICAgICAgICAgICAge2JhcnMubWFwKChnLCBpKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoUHggPSBNYXRoLm1heChNYXRoLnJvdW5kKChnLmF2ZyAvIDQpICogNzApLCA0KTsKICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBnLmF2ZyA+PSAzID8gUC5ncmVlbiA6IGcuYXZnID49IDIgPyBQLmJsdWUgOiBnLmF2ZyA+PSAxID8gUC5yb3NlIDogUC5yZWQ7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aX0gdGl0bGU9e2Ake2ZtdEtleShnLmtleSl9OiBhdmcgJHtnLmF2Zy50b0ZpeGVkKDEpfS80ICgke2cuY291bnR9IGVudHJpZXMpYH0gc3R5bGU9e3sgZmxleDogMSwgbWluV2lkdGg6IDIgfX0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogIjEwMCUiLCBoZWlnaHQ6IGhQeCwgYmFja2dyb3VuZDogYywgYm9yZGVyUmFkaXVzOiAiMnB4IDJweCAwIDAiIH19IC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICB9KX0KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgIHtiYXJzLmxlbmd0aCA+IDEgJiYgKAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBqdXN0aWZ5Q29udGVudDogInNwYWNlLWJldHdlZW4iLCBtYXJnaW5Ub3A6IDQgfX0+CiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW1tZXIsIGZvbnRTaXplOiA5IH19PntmbXRLZXkoYmFyc1swXS5rZXkpfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgIHtiYXJzLmxlbmd0aCA+IDIgJiYgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltbWVyLCBmb250U2l6ZTogOSB9fT57Zm10S2V5KGJhcnNbTWF0aC5mbG9vcihiYXJzLmxlbmd0aCAvIDIpXS5rZXkpfTwvc3Bhbj59CiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW1tZXIsIGZvbnRTaXplOiA5IH19PntmbXRLZXkoYmFyc1tiYXJzLmxlbmd0aCAtIDFdLmtleSl9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiAxMCwgbWFyZ2luVG9wOiA4LCBmbGV4V3JhcDogIndyYXAiIH19PgogICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAxMCwgY29sb3I6IFAucmVkIH19PnsiXHUyNUNGIn0gVmVyeSBoYXJkPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAxMCwgY29sb3I6IFAucm9zZSB9fT57Ilx1MjVDRiJ9IERpZmZpY3VsdDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTAsIGNvbG9yOiBQLmJsdWUgfX0+eyJcdTI1Q0YifSBNaXhlZDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTAsIGNvbG9yOiBQLmdyZWVuIH19PnsiXHUyNUNGIn0gUG9zaXRpdmU8L3NwYW4+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC8+CiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSkoKX0KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIHsvKiBTbWFsbCBtdWx0aXBsZXMgdGltZSBzZXJpZXMgKi99CiAgICAgICAgICB7Z3JvdXBzLmxlbmd0aCA+PSAyICYmICgKICAgICAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogMTIgfX0+CiAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTIsIG1hcmdpbjogIjAgMCA4cHgiIH19PlJlc3BvbnNlIGZyZXF1ZW5jeSBvdmVyIHRpbWUge3VzZVdlZWtseSA/ICIod2Vla2x5KSIgOiAiKGRhaWx5KSJ9IOKAlCB0cmVuZCBsaW5lIHNob3dzIGRpcmVjdGlvbjwvcD4KICAgICAgICAgICAgICB7LyogRmlsdGVyICovfQogICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBnYXA6IDQsIG1hcmdpbkJvdHRvbTogMTIsIGZsZXhXcmFwOiAid3JhcCIgfX0+CiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNlcmllc0ZpbHRlcigiYWxsIil9IHN0eWxlPXt7IC4uLmNzc19jaGlwKHNlcmllc0ZpbHRlciA9PT0gImFsbCIsIFAud2FybSkgfX0+QWxsPC9idXR0b24+CiAgICAgICAgICAgICAgICB7UkVTUE9OU0VTLm1hcChyID0+ICgKICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBrZXk9e3IuaWR9IG9uQ2xpY2s9eygpID0+IHNldFNlcmllc0ZpbHRlcihyLmlkKX0gc3R5bGU9e3sgLi4uY3NzX2NoaXAoc2VyaWVzRmlsdGVyID09PSByLmlkLCByLmMpIH19PntyLmljb259IHtyLmxhYmVsfTwvYnV0dG9uPgogICAgICAgICAgICAgICAgKSl9CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAge2ZpbHRlcmVkU2VyaWVzLm1hcChzID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGhhc0RhdGEgPSBzLmNvdW50cy5zb21lKGMgPT4gYyA+IDApOwogICAgICAgICAgICAgICAgaWYgKCFoYXNEYXRhKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtzLmlkfSBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDEwIH19PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBhbGlnbkl0ZW1zOiAiY2VudGVyIiwgZ2FwOiA2LCBtYXJnaW5Cb3R0b206IDIgfX0+CiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTIsIGNvbG9yOiBzLmMgfX0+e3MuaWNvbn08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTEsIGNvbG9yOiBzLmMsIGZvbnRXZWlnaHQ6IDUwMCB9fT57cy5sYWJlbH08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTAsIGNvbG9yOiBQLmRpbSB9fT4oe3MuY291bnRzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApfSB0b3RhbCk8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPFNtYWxsTXVsdGlwbGUgZGF0YT17c30gbWF4WT17dXNlV2Vla2x5ID8gd2Vla2x5TWF4WSA6IGdsb2JhbE1heERhaWx5fSAvPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgfSl9CiAgICAgICAgICAgICAgey8qIFggYXhpcyBsYWJlbHMgKi99CiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGp1c3RpZnlDb250ZW50OiAic3BhY2UtYmV0d2VlbiIsIG1hcmdpblRvcDogMiB9fT4KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLmRpbW1lciwgZm9udFNpemU6IDkgfX0+e2ZtdEtleShncm91cHNbMF0ua2V5KX08L3NwYW4+CiAgICAgICAgICAgICAgICB7Z3JvdXBzLmxlbmd0aCA+IDIgJiYgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltbWVyLCBmb250U2l6ZTogOSB9fT57Zm10S2V5KGdyb3Vwc1tNYXRoLmZsb29yKGdyb3Vwcy5sZW5ndGggLyAyKV0ua2V5KX08L3NwYW4+fQogICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltbWVyLCBmb250U2l6ZTogOSB9fT57Zm10S2V5KGdyb3Vwc1tncm91cHMubGVuZ3RoIC0gMV0ua2V5KX08L3NwYW4+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKX0KCiAgICAgICAgICB7LyogU3RhdHMgKi99CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiA4LCBtYXJnaW5Cb3R0b206IDEyIH19PgogICAgICAgICAgICA8U3RhdCBuPXtmaWwubGVuZ3RofSBsPSJpbnRlcmFjdGlvbnMiIC8+CiAgICAgICAgICAgIDxTdGF0IG49e2ZpbC5maWx0ZXIoZSA9PiBlLnJlc3BvbnNlID09PSAicG9zaXRpdmUiIHx8IGUucmVzcG9uc2UgPT09ICJuZXV0cmFsIikubGVuZ3RofSBsPSJwb3NpdGl2ZSAvIG5ldXRyYWwiIC8+CiAgICAgICAgICAgIDxTdGF0IG49e2ZpbC5maWx0ZXIoZSA9PiBlLnJlc3BvbnNlID09PSAicmVqZWN0aW9uIiB8fCBlLnJlc3BvbnNlID09PSAiZXNjYWxhdGlvbiIpLmxlbmd0aH0gbD0icmVqZWN0aW9ucyIgLz4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIHsvKiBFbnRyaWVzIHdpdGggc25hcHNob3QgbWFya2VycyBpbnRlcmxlYXZlZCAqL30KICAgICAgICAgIHsoKCkgPT4gewogICAgICAgICAgICBjb25zdCBzbmFwc0J5RGF0ZSA9IHt9OwogICAgICAgICAgICBzbmFwcy5mb3JFYWNoKHMgPT4gewogICAgICAgICAgICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShzLmRhdGUpOwogICAgICAgICAgICAgIGNvbnN0IGsgPSBgJHtkLmdldEZ1bGxZZWFyKCl9LSR7U3RyaW5nKGQuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICIwIil9LSR7U3RyaW5nKGQuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAiMCIpfWA7CiAgICAgICAgICAgICAgc25hcHNCeURhdGVba10gPSBzOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBmaWwuc2xpY2UoLTYwKS5tYXAoZSA9PiAoeyB0eXBlOiAiZW50cnkiLCBkYXRhOiBlLCBkYXRlOiBuZXcgRGF0ZShlLmRhdGUpIH0pKTsKICAgICAgICAgICAgLy8gSW5zZXJ0IHNuYXAgbWFya2VycwogICAgICAgICAgICBzbmFwcy5mb3JFYWNoKHMgPT4gewogICAgICAgICAgICAgIGNvbnN0IHNkID0gbmV3IERhdGUocy5kYXRlKTsKICAgICAgICAgICAgICBpZiAoc2QuZ2V0VGltZSgpID49IGN1dCkgaXRlbXMucHVzaCh7IHR5cGU6ICJzbmFwIiwgZGF0YTogcywgZGF0ZTogc2QgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpdGVtcy5zb3J0KChhLCBiKSA9PiBiLmRhdGUgLSBhLmRhdGUpOwogICAgICAgICAgICByZXR1cm4gaXRlbXMubWFwKChpdGVtLCBpKSA9PiB7CiAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gImVudHJ5IikgcmV0dXJuIDxFbnRyeVJvdyBrZXk9e2l0ZW0uZGF0YS5pZH0gZW50cnk9e2l0ZW0uZGF0YX0gb25DbGljaz17KCkgPT4gb3BlbkVudHJ5KGl0ZW0uZGF0YSl9IC8+OwogICAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICA8ZGl2IGtleT17InNuYXAtIiArIGl0ZW0uZGF0YS5pZH0gc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBhbGlnbkl0ZW1zOiAiY2VudGVyIiwgZ2FwOiA4LCBwYWRkaW5nOiAiOHB4IDEycHgiLCBtYXJnaW46ICI0cHggMCIsIGJvcmRlckxlZnQ6IGAzcHggc29saWQgJHtQLnB1cnBsZX1gLCBiYWNrZ3JvdW5kOiBQLmNhcmQyLCBib3JkZXJSYWRpdXM6ICIwIDhweCA4cHggMCIgfX0+CiAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAxMyB9fT7wn5OKPC9zcGFuPgogICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IDEgfX0+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAucHVycGxlLCBmb250U2l6ZTogMTEsIGZvbnRXZWlnaHQ6IDUwMCB9fT5Qcm9ncmVzcyBzbmFwc2hvdDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMCwgbWFyZ2luTGVmdDogNiB9fT57Zm10U2hvcnRZcihpdGVtLmRhdGEuZGF0ZSl9PC9zcGFuPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkoKX0KICAgICAgICAgIHtmaWwubGVuZ3RoID4gNjAgJiYgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTIsIHRleHRBbGlnbjogImNlbnRlciIsIHBhZGRpbmc6IDEyIH19PlNob3dpbmcgNjAgb2Yge2ZpbC5sZW5ndGh9PC9wPn0KICAgICAgICA8Lz4KICAgICAgKX0KICAgIDwvZGl2PgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgUEFUVEVSTlMKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIFBhdHRlcm5zKHsgZW50cmllcywgbW9kZSwgc2V0TW9kZSwgcmFuZ2UsIHNldFJhbmdlLCB0aWVyIH0pIHsKICBjb25zdCByYW5nZXMgPSB7ICIxbSI6IDMwLCAiM20iOiA5MCwgIjZtIjogMTgwLCAiMXkiOiAzNjUsIGFsbDogOTk5OTkgfTsKICBjb25zdCBjdXQgPSBEYXRlLm5vdygpIC0gcmFuZ2VzW3JhbmdlXSAqIDg2NDAwMDAwOwogIGNvbnN0IGZpbCA9IHVzZU1lbW8oKCkgPT4gZW50cmllcy5maWx0ZXIoZSA9PiBuZXcgRGF0ZShlLmRhdGUpLmdldFRpbWUoKSA+PSBjdXQpLCBbZW50cmllcywgY3V0XSk7CgogIGNvbnN0IGFQYXRzID0gdXNlTWVtbygoKSA9PiB7CiAgICBjb25zdCBtID0ge307CiAgICBBQ1RJT05TLmZvckVhY2goYSA9PiB7IG1bYS5pZF0gPSB7IHRvdGFsOiAwIH07IFJFU1BPTlNFUy5mb3JFYWNoKHIgPT4geyBtW2EuaWRdW3IuaWRdID0gMDsgfSk7IH0pOwogICAgZmlsLmZvckVhY2goZSA9PiB7IGlmIChtW2UuYWN0aW9uXSkgeyBtW2UuYWN0aW9uXS50b3RhbCsrOyBtW2UuYWN0aW9uXVtlLnJlc3BvbnNlXSsrOyB9IH0pOwogICAgcmV0dXJuIG07CiAgfSwgW2ZpbF0pOwoKICBjb25zdCBjUGF0cyA9IHVzZU1lbW8oKCkgPT4gewogICAgY29uc3QgbSA9IHt9OwogICAgZmlsLmZvckVhY2goZSA9PiB7CiAgICAgIChlLmNvbnRleHRzIHx8IFtdKS5mb3JFYWNoKGMgPT4gewogICAgICAgIGlmICghbVtjXSkgeyBtW2NdID0geyB0b3RhbDogMCB9OyBSRVNQT05TRVMuZm9yRWFjaChyID0+IHsgbVtjXVtyLmlkXSA9IDA7IH0pOyB9CiAgICAgICAgbVtjXS50b3RhbCsrOyBtW2NdW2UucmVzcG9uc2VdKys7CiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gbTsKICB9LCBbZmlsXSk7CgogIGNvbnN0IHJhbmtlZCA9IEFDVElPTlMubWFwKGEgPT4gewogICAgY29uc3QgcCA9IGFQYXRzW2EuaWRdOyBpZiAocC50b3RhbCA8IDMpIHJldHVybiBudWxsOwogICAgY29uc3QgcG9zID0gKChwLnBvc2l0aXZlICsgcC5uZXV0cmFsKSAvIHAudG90YWwpICogMTAwOwogICAgcmV0dXJuIHsgLi4uYSwgcG9zLCB0b3RhbDogcC50b3RhbCB9OwogIH0pLmZpbHRlcihCb29sZWFuKS5zb3J0KChhLCBiKSA9PiBiLnBvcyAtIGEucG9zKTsKCiAgaWYgKGZpbC5sZW5ndGggPCAxMCkgcmV0dXJuICgKICAgIDxkaXY+CiAgICAgIDxUYWJzIGl0ZW1zPXtPYmplY3Qua2V5cyhyYW5nZXMpLm1hcChyID0+IHIgPT09ICJhbGwiID8gIkFsbCIgOiByKX0gYWN0aXZlPXtyYW5nZSA9PT0gImFsbCIgPyAiQWxsIiA6IHJhbmdlfSBvblBpY2s9eyh2KSA9PiBzZXRSYW5nZSh2ID09PSAiQWxsIiA/ICJhbGwiIDogdil9IC8+CiAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAiY2VudGVyIiwgcGFkZGluZzogIjQ4cHggMTZweCIgfX0+CiAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDE2LCBtYXJnaW5Cb3R0b206IDggfX0+QnVpbGRpbmcgeW91ciBwYXR0ZXJuc+KApjwvcD4KICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxNCB9fT5OZWVkIGF0IGxlYXN0IDEwIGludGVyYWN0aW9ucyBpbiB0aGlzIHJhbmdlICh7ZmlsLmxlbmd0aH0gZm91bmQpLntyYW5nZSAhPT0gImFsbCIgJiYgIiBUcnkgYSBsb25nZXIgdGltZSByYW5nZS4ifTwvcD4KICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbjogIjIwcHggYXV0byIsIG1heFdpZHRoOiAyNDAgfX0+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGhlaWdodDogNiwgYmFja2dyb3VuZDogUC5ib3JkZXIsIGJvcmRlclJhZGl1czogMywgb3ZlcmZsb3c6ICJoaWRkZW4iIH19PgogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGhlaWdodDogIjEwMCUiLCB3aWR0aDogYCR7TWF0aC5taW4oMTAwLCAoZmlsLmxlbmd0aCAvIDEwKSAqIDEwMCl9JWAsIGJhY2tncm91bmQ6IGBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICR7UC53YXJtfSwgJHtQLmdyZWVufSlgLCBib3JkZXJSYWRpdXM6IDMgfX0gLz4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTEsIG1hcmdpblRvcDogNiB9fT57ZmlsLmxlbmd0aH0vMTA8L3A+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgKTsKCgogIHJldHVybiAoCiAgICA8ZGl2PgogICAgICA8VGFicyBpdGVtcz17T2JqZWN0LmtleXMocmFuZ2VzKS5tYXAociA9PiByID09PSAiYWxsIiA/ICJBbGwiIDogcil9IGFjdGl2ZT17cmFuZ2UgPT09ICJhbGwiID8gIkFsbCIgOiByYW5nZX0gb25QaWNrPXsodikgPT4gc2V0UmFuZ2UodiA9PT0gIkFsbCIgPyAiYWxsIiA6IHYpfSAvPgogICAgICA8VGFicyBpdGVtcz17WyJCeSBBY3Rpb24iLCAiQnkgQ29udGV4dCIsICJJbnNpZ2h0cyJdfSBhY3RpdmU9e21vZGUgPT09ICJhY3Rpb24iID8gIkJ5IEFjdGlvbiIgOiBtb2RlID09PSAiY29udGV4dCIgPyAiQnkgQ29udGV4dCIgOiAiSW5zaWdodHMifSBvblBpY2s9e3YgPT4gc2V0TW9kZSh2ID09PSAiQnkgQWN0aW9uIiA/ICJhY3Rpb24iIDogdiA9PT0gIkJ5IENvbnRleHQiID8gImNvbnRleHQiIDogImluc2lnaHRzIil9IC8+CgogICAgICB7bW9kZSA9PT0gImFjdGlvbiIgJiYgKAogICAgICAgIDxkaXY+CiAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMywgbWFyZ2luQm90dG9tOiAxNCB9fT5Ib3cgeW91ciBzdGVwY2hpbGQgcmVzcG9uZHMgdG8gZWFjaCB0eXBlIG9mIGFjdGlvbi48L3A+CiAgICAgICAgICB7LyogTGVnZW5kICovfQogICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogOCwgbWFyZ2luQm90dG9tOiAxMiwgZmxleFdyYXA6ICJ3cmFwIiB9fT4KICAgICAgICAgICAge1suLi5SRVNQT05TRVNdLnJldmVyc2UoKS5tYXAociA9PiA8c3BhbiBrZXk9e3IuaWR9IHN0eWxlPXt7IGZvbnRTaXplOiAxMCwgY29sb3I6IHIuYyB9fT57ci5pY29ufSB7ci5sYWJlbH08L3NwYW4+KX0KICAgICAgICAgIDwvZGl2PgogICAgICAgICAge0FDVElPTlMubWFwKGEgPT4gewogICAgICAgICAgICBjb25zdCBwID0gYVBhdHNbYS5pZF07IGlmIChwLnRvdGFsID09PSAwKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgY29uc3QgcmV2ZXJzZWQgPSBbLi4uUkVTUE9OU0VTXS5yZXZlcnNlKCk7CiAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgPGRpdiBrZXk9e2EuaWR9IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNCwgbWFyZ2luQm90dG9tOiA4IH19PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGp1c3RpZnlDb250ZW50OiAic3BhY2UtYmV0d2VlbiIsIG1hcmdpbkJvdHRvbTogOCB9fT4KICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IGEuYywgZm9udFNpemU6IDEzIH19PnthLmljb259IHthLmxhYmVsfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTEgfX0+e3AudG90YWx9IGxvZ2dlZDwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGhlaWdodDogMjAsIGJvcmRlclJhZGl1czogNSwgb3ZlcmZsb3c6ICJoaWRkZW4iIH19PgogICAgICAgICAgICAgICAgICB7cmV2ZXJzZWQubWFwKHIgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBjdCA9IChwW3IuaWRdIC8gcC50b3RhbCkgKiAxMDA7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBjdCA9PT0gMCkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxkaXYga2V5PXtyLmlkfSBzdHlsZT17eyB3aWR0aDogYCR7cGN0fSVgLCBiYWNrZ3JvdW5kOiByLmMgKyAiODgiLCBkaXNwbGF5OiAiZmxleCIsIGFsaWduSXRlbXM6ICJjZW50ZXIiLCBqdXN0aWZ5Q29udGVudDogImNlbnRlciIgfX0+CiAgICAgICAgICAgICAgICAgICAgICB7cGN0ID4gMTggJiYgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6IDksIGNvbG9yOiAiI2ZmZiIgfX0+e01hdGgucm91bmQocGN0KX0lPC9zcGFuPn0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj47CiAgICAgICAgICAgICAgICAgIH0pfQogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiA4LCBtYXJnaW5Ub3A6IDYsIGZsZXhXcmFwOiAid3JhcCIgfX0+CiAgICAgICAgICAgICAgICAgIHtyZXZlcnNlZC5tYXAociA9PiB7IGNvbnN0IHBjdCA9IChwW3IuaWRdIC8gcC50b3RhbCkgKiAxMDA7IGlmIChwY3QgPT09IDApIHJldHVybiBudWxsOyByZXR1cm4gPHNwYW4ga2V5PXtyLmlkfSBzdHlsZT17eyBjb2xvcjogci5jLCBmb250U2l6ZTogMTAgfX0+e3IuaWNvbn0ge01hdGgucm91bmQocGN0KX0lPC9zcGFuPjsgfSl9CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgKTsKICAgICAgICAgIH0pfQogICAgICAgIDwvZGl2PgogICAgICApfQoKICAgICAge21vZGUgPT09ICJjb250ZXh0IiAmJiAodGllciAhPT0gInByZW1pdW0iID8gKAogICAgICAgIDxQcmVtaXVtR2F0ZSBpbmxpbmUgZmVhdHVyZT0iQ29udGV4dCBBbmFseXNpcyIgZGVzY3JpcHRpb249IlNlZSB3aGljaCBzaXR1YXRpb25zIHByb2R1Y2UgdGhlIGJlc3QgYW5kIHdvcnN0IHJlc3BvbnNlcy4gVW5kZXJzdGFuZCBob3cgY3VzdG9keSB0cmFuc2l0aW9ucywgbWVhbHRpbWVzLCBiZWR0aW1lcywgYW5kIG90aGVyIGNvbnRleHRzIGFmZmVjdCB0aGUgcmVsYXRpb25zaGlwLiIgLz4KICAgICAgKSA6ICgKICAgICAgICA8ZGl2PgogICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTMsIG1hcmdpbkJvdHRvbTogOCB9fT5XaGljaCBjb250ZXh0cyBwcm9kdWNlIHdoaWNoIHJlc3BvbnNlcy48L3A+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiA4LCBtYXJnaW5Cb3R0b206IDE0LCBmbGV4V3JhcDogIndyYXAiIH19PgogICAgICAgICAgICB7Wy4uLlJFU1BPTlNFU10ucmV2ZXJzZSgpLm1hcChyID0+IDxzcGFuIGtleT17ci5pZH0gc3R5bGU9e3sgZm9udFNpemU6IDEwLCBjb2xvcjogci5jIH19PntyLmljb259IHtyLmxhYmVsfTwvc3Bhbj4pfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgICB7T2JqZWN0LmVudHJpZXMoY1BhdHMpLmZpbHRlcigoWywgdl0pID0+IHYudG90YWwgPj0gMikuc29ydCgoWywgYV0sIFssIGJdKSA9PiBiLnRvdGFsIC0gYS50b3RhbCkubWFwKChbY3R4LCBkYXRhXSkgPT4gKAogICAgICAgICAgICA8ZGl2IGtleT17Y3R4fSBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTQsIG1hcmdpbkJvdHRvbTogOCB9fT4KICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiwgbWFyZ2luQm90dG9tOiA4IH19PgogICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDEzIH19PntjdHh9PC9zcGFuPgogICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTEgfX0+e2RhdGEudG90YWx9w5c8L3NwYW4+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGhlaWdodDogMTYsIGJvcmRlclJhZGl1czogNSwgb3ZlcmZsb3c6ICJoaWRkZW4iIH19PgogICAgICAgICAgICAgICAge1suLi5SRVNQT05TRVNdLnJldmVyc2UoKS5tYXAociA9PiB7IGNvbnN0IHBjdCA9IChkYXRhW3IuaWRdIC8gZGF0YS50b3RhbCkgKiAxMDA7IGlmIChwY3QgPT09IDApIHJldHVybiBudWxsOyByZXR1cm4gPGRpdiBrZXk9e3IuaWR9IHN0eWxlPXt7IHdpZHRoOiBgJHtwY3R9JWAsIGJhY2tncm91bmQ6IHIuYyArICI4OCIgfX0gLz47IH0pfQogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICkpfQogICAgICAgICAge09iamVjdC5rZXlzKGNQYXRzKS5maWx0ZXIoayA9PiBjUGF0c1trXS50b3RhbCA+PSAyKS5sZW5ndGggPT09IDAgJiYgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTMgfX0+VGFnIGNvbnRleHRzIG9uIGVudHJpZXMgdG8gc2VlIHBhdHRlcm5zIGhlcmUuPC9wPn0KICAgICAgICA8L2Rpdj4KICAgICAgKSl9CgogICAgICB7bW9kZSA9PT0gImluc2lnaHRzIiAmJiAodGllciAhPT0gInByZW1pdW0iID8gKAogICAgICAgIDxQcmVtaXVtR2F0ZSBpbmxpbmUgZmVhdHVyZT0iVHJlbmQgSW5zaWdodHMiIGRlc2NyaXB0aW9uPSJTZWUgd2hpY2ggYXBwcm9hY2hlcyB3b3JrIGJlc3QsIGhvdyByZXNwb25zZSBwYXR0ZXJucyBjaGFuZ2Ugb3ZlciB0aW1lLCBhbmQgZ2V0IGRhdGEtZHJpdmVuIHN1Z2dlc3Rpb25zIGZvciB3aGF0IHRvIHRyeSBuZXh0LiIgLz4KICAgICAgKSA6ICgKICAgICAgICA8ZGl2PgogICAgICAgICAge3JhbmtlZC5sZW5ndGggPiAwICYmICgKICAgICAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogMTAgfX0+CiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5ncmVlbiwgZm9udFNpemU6IDEzLCBmb250V2VpZ2h0OiA1MDAsIG1hcmdpbkJvdHRvbTogNiB9fT7wn4yxIE1vc3QgZWZmZWN0aXZlIGFwcHJvYWNoPC9kaXY+CiAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDE0LCBtYXJnaW46IDAsIGxpbmVIZWlnaHQ6IDEuNiB9fT4KICAgICAgICAgICAgICAgIDxzdHJvbmc+e3JhbmtlZFswXS5pY29ufSB7cmFua2VkWzBdLmxhYmVsfTwvc3Ryb25nPiBwcm9kdWNlcyBhIHBvc2l0aXZlIG9yIG5ldXRyYWwgcmVzcG9uc2Uge01hdGgucm91bmQocmFua2VkWzBdLnBvcyl9JSBvZiB0aGUgdGltZSAoe3JhbmtlZFswXS50b3RhbH0gaW50ZXJhY3Rpb25zKS4KICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKX0KICAgICAgICAgIHtyYW5rZWQubGVuZ3RoID4gMSAmJiByYW5rZWRbcmFua2VkLmxlbmd0aCAtIDFdLnBvcyA8IDQwICYmICgKICAgICAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogMTAgfX0+CiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5yb3NlLCBmb250U2l6ZTogMTMsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luQm90dG9tOiA2IH19PuKaoSBNb3N0IGZyaWN0aW9uPC9kaXY+CiAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDE0LCBtYXJnaW46IDAsIGxpbmVIZWlnaHQ6IDEuNiB9fT4KICAgICAgICAgICAgICAgIDxzdHJvbmc+e3JhbmtlZFtyYW5rZWQubGVuZ3RoIC0gMV0uaWNvbn0ge3JhbmtlZFtyYW5rZWQubGVuZ3RoIC0gMV0ubGFiZWx9PC9zdHJvbmc+IHRlbmRzIHRvIHByb2R1Y2UgbW9yZSByZXNpc3RhbmNlICh7TWF0aC5yb3VuZCgxMDAgLSByYW5rZWRbcmFua2VkLmxlbmd0aCAtIDFdLnBvcyl9JSBuZWdhdGl2ZSkuCiAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICl9CiAgICAgICAgICB7ZmlsLmxlbmd0aCA+PSAyMCAmJiAoKCkgPT4gewogICAgICAgICAgICBjb25zdCBoID0gTWF0aC5mbG9vcihmaWwubGVuZ3RoIC8gMik7CiAgICAgICAgICAgIGNvbnN0IHJBdmcgPSBmaWwuc2xpY2UoMCwgaCkucmVkdWNlKChzLCBlKSA9PiBzICsgKFJFU1BPTlNFUy5maW5kKHIgPT4gci5pZCA9PT0gZS5yZXNwb25zZSk/LnNjb3JlID8/IDIpLCAwKSAvIGg7CiAgICAgICAgICAgIGNvbnN0IG9BdmcgPSBmaWwuc2xpY2UoaCkucmVkdWNlKChzLCBlKSA9PiBzICsgKFJFU1BPTlNFUy5maW5kKHIgPT4gci5pZCA9PT0gZS5yZXNwb25zZSk/LnNjb3JlID8/IDIpLCAwKSAvIChmaWwubGVuZ3RoIC0gaCk7CiAgICAgICAgICAgIGNvbnN0IGQgPSByQXZnIC0gb0F2ZzsKICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNiwgbWFyZ2luQm90dG9tOiAxMCB9fT4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IGQgPiAwLjMgPyBQLmdyZWVuIDogZCA8IC0wLjMgPyBQLnJvc2UgOiBQLmJsdWUsIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDYgfX0+CiAgICAgICAgICAgICAgICAgIHtkID4gMC4zID8gIvCfk4ggUG9zaXRpdmUgdHJlbmQiIDogZCA8IC0wLjMgPyAi8J+TiSBEaWZmaWN1bHQgc3RyZXRjaCIgOiAi4pSBIFN0ZWFkeSBzdGF0ZSJ9CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNCwgbWFyZ2luOiAwLCBsaW5lSGVpZ2h0OiAxLjYgfX0+CiAgICAgICAgICAgICAgICAgIHtkID4gMC4zID8gIlJlY2VudCBpbnRlcmFjdGlvbnMgYXJlIHRyZW5kaW5nIG1vcmUgcG9zaXRpdmVseS4gS2VlcCBnb2luZyDigJQgdGhpcyBpcyByZWFsIHByb2dyZXNzLiIKICAgICAgICAgICAgICAgICAgIDogZCA8IC0wLjMgPyAiUmVjZW50IGludGVyYWN0aW9ucyBoYXZlIGJlZW4gaGFyZGVyLiBUaGlzIGlzIG5vcm1hbCDigJQgc3RlcGZhbWlseSByZWxhdGlvbnNoaXBzIGFyZW4ndCBsaW5lYXIuIEEgZGlmZmljdWx0IHN0cmV0Y2ggZG9lc24ndCBlcmFzZSBwcm9ncmVzcy4iCiAgICAgICAgICAgICAgICAgICA6ICJSZXNwb25zZXMgaGF2ZSBiZWVuIGNvbnNpc3RlbnQuIEluIHN0ZXBmYW1pbHkgZHluYW1pY3MsIHN0YWJpbGl0eSBpcyBpdHNlbGYgYSBmb3JtIG9mIHByb2dyZXNzLiJ9CiAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICk7CiAgICAgICAgICB9KSgpfQogICAgICAgICAge2ZpbC5sZW5ndGggPCAyMCAmJiAoCiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2IH19PgogICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuYmx1ZSwgZm9udFNpemU6IDEzLCBmb250V2VpZ2h0OiA1MDAsIG1hcmdpbkJvdHRvbTogNiB9fT7wn5OKIE1vcmUgZGF0YSBuZWVkZWQ8L2Rpdj4KICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEzLCBtYXJnaW46IDAgfX0+VHJlbmQgYW5hbHlzaXMgbmVlZHMgfjIwIGVudHJpZXMgaW4gdGhpcyByYW5nZS4gWW91IGhhdmUge2ZpbC5sZW5ndGh9LjwvcD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICApfQogICAgICAgIDwvZGl2PgogICAgICApKX0KICAgIDwvZGl2PgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgUEVSU1BFQ1RJVkUKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIFBlcnNwZWN0aXZlKHsgZW50cmllcywgdGllciwgb3BlbkNhcmQgfSkgewogIGNvbnN0IFt2aWV3ZWRUb2RheSwgc2V0Vmlld2VkVG9kYXldID0gdXNlU3RhdGUoMCk7CiAgY29uc3QgZGFpbHlMaW1pdCA9IHRpZXIgPT09ICJwcmVtaXVtIiA/IDk5OSA6IDE7CgogIGNvbnN0IGhhbmRsZU9wZW4gPSAoYykgPT4gewogICAgaWYgKHZpZXdlZFRvZGF5ID49IGRhaWx5TGltaXQpIHJldHVybjsKICAgIHNldFZpZXdlZFRvZGF5KHYgPT4gdiArIDEpOwogICAgb3BlbkNhcmQoYyk7CiAgfTsKCiAgcmV0dXJuICgKICAgIDxkaXY+CiAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLm11dGVkLCBmb250U2l6ZTogMTQsIG1hcmdpbkJvdHRvbTogMTYgfX0+CiAgICAgICAgUmVzZWFyY2gtYmFja2VkIHJlZnJhbWVzLiBOb3QgcGxhdGl0dWRlcyDigJQgcmVhbCBwZXJzcGVjdGl2ZXMgZnJvbSByZXNlYXJjaCBhbmQgYWR1bHQgc3RlcGNoaWxkcmVuIGxvb2tpbmcgYmFjay4KICAgICAgPC9wPgogICAgICB7dGllciAhPT0gInByZW1pdW0iICYmICgKICAgICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNCwgbWFyZ2luQm90dG9tOiAxMiwgYm9yZGVyTGVmdDogYDNweCBzb2xpZCAke1Aud2FybX00NGAgfX0+CiAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEyLCBtYXJnaW46IDAsIGxpbmVIZWlnaHQ6IDEuNSB9fT4KICAgICAgICAgICAge3ZpZXdlZFRvZGF5ID49IGRhaWx5TGltaXQKICAgICAgICAgICAgICA/ICJZb3VcdTIwMTl2ZSByZWFkIHlvdXIgZnJlZSBjYXJkIGZvciB0b2RheS4gVXBncmFkZSB0byBQcmVtaXVtIGZvciB1bmxpbWl0ZWQgYWNjZXNzLiIKICAgICAgICAgICAgICA6IGAke2RhaWx5TGltaXQgLSB2aWV3ZWRUb2RheX0gZnJlZSBjYXJkIHJlbWFpbmluZyB0b2RheS4gUHJlbWl1bSB1bmxvY2tzIGFsbCAke0NBUkRTLmxlbmd0aH0gY2FyZHMuYH0KICAgICAgICAgIDwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgKX0KICAgICAge0NBUkRTLm1hcCgoYywgaSkgPT4gKAogICAgICAgIDxidXR0b24ga2V5PXtpfSBvbkNsaWNrPXsoKSA9PiBoYW5kbGVPcGVuKGMpfSBkaXNhYmxlZD17dGllciAhPT0gInByZW1pdW0iICYmIHZpZXdlZFRvZGF5ID49IGRhaWx5TGltaXR9IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNiwgbWFyZ2luQm90dG9tOiA4LCB3aWR0aDogIjEwMCUiLCB0ZXh0QWxpZ246ICJsZWZ0IiwgY3Vyc29yOiB0aWVyICE9PSAicHJlbWl1bSIgJiYgdmlld2VkVG9kYXkgPj0gZGFpbHlMaW1pdCA/ICJkZWZhdWx0IiA6ICJwb2ludGVyIiwgYm9yZGVyOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCwgZm9udEZhbWlseTogImluaGVyaXQiLCBvcGFjaXR5OiB0aWVyICE9PSAicHJlbWl1bSIgJiYgdmlld2VkVG9kYXkgPj0gZGFpbHlMaW1pdCA/IDAuNSA6IDEgfX0+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luQm90dG9tOiA0LCBmb250U2l6ZTogMTQgfX0+e2MudGl0bGV9PC9kaXY+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEzLCBsaW5lSGVpZ2h0OiAxLjUgfX0+e2MuYm9keS5zbGljZSgwLCAxMTApfeKApjwvZGl2PgogICAgICAgICAge2MucXVvdGUgJiYgPGRpdiBzdHlsZT17eyBjb2xvcjogUC53YXJtLCBmb250U2l6ZTogMTEsIG1hcmdpblRvcDogNiwgZm9udFN0eWxlOiAiaXRhbGljIiB9fT5JbmNsdWRlcyBmaXJzdGhhbmQgYWNjb3VudCDil4c8L2Rpdj59CiAgICAgICAgPC9idXR0b24+CiAgICAgICkpfQogICAgPC9kaXY+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBQQVJUTkVSIOKAlCBDb21tdW5pY2F0aW9uIFRpcHMgJiBTaGFyZQovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKZnVuY3Rpb24gUGFydG5lcih7IGVudHJpZXMsIHByb2ZpbGUsIHNuYXBzLCB0aWVyIH0pIHsKICBpZiAodGllciAhPT0gInByZW1pdW0iKSByZXR1cm4gKAogICAgPFByZW1pdW1HYXRlIGlubGluZSBmZWF0dXJlPSJQYXJ0bmVyIFZpZXciIGRlc2NyaXB0aW9uPSJTaGFyZSB5b3VyIGpvdXJuZXkgd2l0aCB5b3VyIHBhcnRuZXIuIENvbW11bmljYXRpb24gdGlwcyBiYWNrZWQgYnkgcmVzZWFyY2gsIGEgc2hhcmVhYmxlIHByb2dyZXNzIHN1bW1hcnksIGFuZCBndWlkYW5jZSBvbiBuYXZpZ2F0aW5nIGRpZmZpY3VsdCBjb252ZXJzYXRpb25zIHRvZ2V0aGVyLiIgLz4KICApOwogIGNvbnN0IFt0YWIsIHNldFRhYl0gPSB1c2VTdGF0ZSgidGlwcyIpOwogIGNvbnN0IFtleHBhbmRlZFRpcCwgc2V0RXhwYW5kZWRUaXBdID0gdXNlU3RhdGUobnVsbCk7CiAgY29uc3QgW2NvcGllZCwgc2V0Q29waWVkXSA9IHVzZVN0YXRlKGZhbHNlKTsKCiAgY29uc3QgZ2VuZXJhdGVSZXBvcnQgPSAoKSA9PiB7CiAgICBjb25zdCBtb250aCA9IGVudHJpZXMuZmlsdGVyKGUgPT4gZGF5c0FnbyhlLmRhdGUpIDw9IDMwKTsKICAgIGlmIChtb250aC5sZW5ndGggPT09IDApIHJldHVybiBudWxsOwogICAgY29uc3QgdG90YWwgPSBtb250aC5sZW5ndGg7CiAgICBjb25zdCBwb3MgPSBtb250aC5maWx0ZXIoZSA9PiBlLnJlc3BvbnNlID09PSAicG9zaXRpdmUiIHx8IGUucmVzcG9uc2UgPT09ICJuZXV0cmFsIikubGVuZ3RoOwogICAgY29uc3QgcmVqID0gbW9udGguZmlsdGVyKGUgPT4gZS5yZXNwb25zZSA9PT0gInJlamVjdGlvbiIgfHwgZS5yZXNwb25zZSA9PT0gImVzY2FsYXRpb24iKS5sZW5ndGg7CiAgICBjb25zdCBwY3QgPSBNYXRoLnJvdW5kKChwb3MgLyB0b3RhbCkgKiAxMDApOwogICAgY29uc3QgYWN0aW9uQ291bnRzID0ge307CiAgICBBQ1RJT05TLmZvckVhY2goYSA9PiB7IGFjdGlvbkNvdW50c1thLmlkXSA9IHsgcG9zOiAwLCB0b3RhbDogMCB9OyB9KTsKICAgIG1vbnRoLmZvckVhY2goZSA9PiB7CiAgICAgIGlmIChhY3Rpb25Db3VudHNbZS5hY3Rpb25dKSB7CiAgICAgICAgYWN0aW9uQ291bnRzW2UuYWN0aW9uXS50b3RhbCsrOwogICAgICAgIGlmIChlLnJlc3BvbnNlID09PSAicG9zaXRpdmUiIHx8IGUucmVzcG9uc2UgPT09ICJuZXV0cmFsIikgYWN0aW9uQ291bnRzW2UuYWN0aW9uXS5wb3MrKzsKICAgICAgfQogICAgfSk7CiAgICBsZXQgYmVzdEFjdGlvbiA9IG51bGwsIGJlc3RQY3QgPSAwOwogICAgT2JqZWN0LmVudHJpZXMoYWN0aW9uQ291bnRzKS5mb3JFYWNoKChbaWQsIGRdKSA9PiB7CiAgICAgIGlmIChkLnRvdGFsID49IDMpIHsKICAgICAgICBjb25zdCBwID0gZC5wb3MgLyBkLnRvdGFsOwogICAgICAgIGlmIChwID4gYmVzdFBjdCkgeyBiZXN0UGN0ID0gcDsgYmVzdEFjdGlvbiA9IEFDVElPTlMuZmluZChhID0+IGEuaWQgPT09IGlkKTsgfQogICAgICB9CiAgICB9KTsKICAgIGNvbnN0IGxpbmVzID0gWwogICAgICAiTW9udGhseSBVcGRhdGUgZnJvbSBTdGVhZGZhc3QiLAogICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKDk0NzIpLnJlcGVhdCgyOSksCiAgICAgICIiLAogICAgICBgVGhpcyBtb250aCwgSSBsb2dnZWQgJHt0b3RhbH0gaW50ZXJhY3Rpb25zIHdpdGggeW91ciBjaGlsZC5gLAogICAgICAiIiwKICAgICAgYCR7cGN0fSUgb2YgcmVzcG9uc2VzIHdlcmUgcG9zaXRpdmUgb3IgbmV1dHJhbC5gLAogICAgICBgJHtyZWp9IGludGVyYWN0aW9ucyBpbnZvbHZlZCBhY3RpdmUgcmVqZWN0aW9uIG9yIGVzY2FsYXRpb24uYCwKICAgICAgIiIsCiAgICBdOwogICAgaWYgKGJlc3RBY3Rpb24pIHsKICAgICAgbGluZXMucHVzaChgV2hhdCBzZWVtcyB0byB3b3JrIGJlc3Q6ICIke2Jlc3RBY3Rpb24ubGFiZWx9IiBcdTIwMTQgJHtNYXRoLnJvdW5kKGJlc3RQY3QgKiAxMDApfSUgcG9zaXRpdmUgcmVzcG9uc2UgcmF0ZS5gKTsKICAgICAgbGluZXMucHVzaCgiIik7CiAgICB9CiAgICBsaW5lcy5wdXNoKCJXaGF0IEkgbmVlZCBmcm9tIHlvdToiKTsKICAgIGxpbmVzLnB1c2goIlx1MjAyMiBBY2tub3dsZWRnZSB3aGF0IHlvdSBzZWUgbWUgZG9pbmcsIGV2ZW4gc21hbGwgdGhpbmdzIik7CiAgICBsaW5lcy5wdXNoKCJcdTIwMjIgQmFjayBtZSB1cCBpbiB0aGUgbW9tZW50LCBldmVuIHdpdGgganVzdCBhIHdvcmQiKTsKICAgIGxpbmVzLnB1c2goIlx1MjAyMiBSZW1pbmQgbWUgdGhhdCBteSBlZmZvcnQgbWF0dGVycyB3aGVuIEkgY2FuJ3Qgc2VlIGl0Iik7CiAgICBsaW5lcy5wdXNoKCIiKTsKICAgIGxpbmVzLnB1c2goIlRoaXMgaXNuJ3QgYSBjb21wbGFpbnQuIEl0J3MgbWUgc2hvd2luZyB5b3Ugd2hhdCBJJ20gdHJhY2tpbmcgc28gd2UgY2FuIGJlIGEgdGVhbSBpbiB0aGlzLiIpOwogICAgbGluZXMucHVzaCgiIik7CiAgICBsaW5lcy5wdXNoKCJcdTIwMTQgU2VudCBmcm9tIFN0ZWFkZmFzdCIpOwogICAgcmV0dXJuIGxpbmVzLmpvaW4oIlxuIik7CiAgfTsKCiAgY29uc3QgcmVwb3J0ID0gZ2VuZXJhdGVSZXBvcnQoKTsKCiAgY29uc3QgY29weVJlcG9ydCA9ICgpID0+IHsKICAgIGlmICghcmVwb3J0KSByZXR1cm47CiAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChyZXBvcnQpLnRoZW4oKCkgPT4gewogICAgICBzZXRDb3BpZWQodHJ1ZSk7IHNldFRpbWVvdXQoKCkgPT4gc2V0Q29waWVkKGZhbHNlKSwgMjAwMCk7CiAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgIGNvbnN0IHRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTsKICAgICAgdGEudmFsdWUgPSByZXBvcnQ7IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGEpOyB0YS5zZWxlY3QoKTsKICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNvcHkiKTsgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0YSk7CiAgICAgIHNldENvcGllZCh0cnVlKTsgc2V0VGltZW91dCgoKSA9PiBzZXRDb3BpZWQoZmFsc2UpLCAyMDAwKTsKICAgIH0pOwogIH07CgogIHJldHVybiAoCiAgICA8ZGl2PgogICAgICA8VGFicyBpdGVtcz17WyJUaXBzIiwgIlNoYXJlIiwgIkFsaWVuYXRpb24iXX0gYWN0aXZlPXt0YWIgPT09ICJ0aXBzIiA/ICJUaXBzIiA6IHRhYiA9PT0gInNoYXJlIiA/ICJTaGFyZSIgOiAiQWxpZW5hdGlvbiJ9IG9uUGljaz17diA9PiBzZXRUYWIodiA9PT0gIlRpcHMiID8gInRpcHMiIDogdiA9PT0gIlNoYXJlIiA/ICJzaGFyZSIgOiAiYWxpZW5hdGlvbiIpfSAvPgoKICAgICAge3RhYiA9PT0gInRpcHMiICYmICgKICAgICAgICA8ZGl2PgogICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxNCwgbWFyZ2luQm90dG9tOiAxNiwgbGluZUhlaWdodDogMS42IH19PgogICAgICAgICAgICBIb3cgdG8gdGFsayB0byB5b3VyIHBhcnRuZXIgYWJvdXQgd2hhdCB5b3UncmUgZ29pbmcgdGhyb3VnaCDigJQgd2l0aG91dCBpdCB0dXJuaW5nIGludG8gYSBmaWdodC4KICAgICAgICAgIDwvcD4KICAgICAgICAgIHtQQVJUTkVSX1RJUFMubWFwKCh0LCBpKSA9PiAoCiAgICAgICAgICAgIDxidXR0b24ga2V5PXtpfSBvbkNsaWNrPXsoKSA9PiBzZXRFeHBhbmRlZFRpcChleHBhbmRlZFRpcCA9PT0gaSA/IG51bGwgOiBpKX0gc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDgsIHdpZHRoOiAiMTAwJSIsIHRleHRBbGlnbjogImxlZnQiLCBjdXJzb3I6ICJwb2ludGVyIiwgYm9yZGVyOiBgMXB4IHNvbGlkICR7ZXhwYW5kZWRUaXAgPT09IGkgPyBQLndhcm0gKyAiNDQiIDogUC5ib3JkZXJ9YCwgZm9udEZhbWlseTogImluaGVyaXQiIH19PgogICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBqdXN0aWZ5Q29udGVudDogInNwYWNlLWJldHdlZW4iLCBhbGlnbkl0ZW1zOiAiY2VudGVyIiB9fT4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFdlaWdodDogNTAwLCBmb250U2l6ZTogMTQgfX0+e3QudGl0bGV9PC9kaXY+CiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMiwgdHJhbnNmb3JtOiBleHBhbmRlZFRpcCA9PT0gaSA/ICJyb3RhdGUoMTgwZGVnKSIgOiAibm9uZSIsIHRyYW5zaXRpb246ICJ0cmFuc2Zvcm0gLjJzIiB9fT57Ilx1MjVCRSJ9PC9zcGFuPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTIsIG1hcmdpblRvcDogNCB9fT57dC5zaXR1YXRpb259PC9kaXY+CiAgICAgICAgICAgICAge2V4cGFuZGVkVGlwID09PSBpICYmICgKICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAxMiB9fT4KICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiAxNCwgYmFja2dyb3VuZDogUC5iZywgYm9yZGVyUmFkaXVzOiAxMCwgYm9yZGVyTGVmdDogYDNweCBzb2xpZCAke1AuZ3JlZW59NDRgLCBtYXJnaW5Cb3R0b206IDEwIH19PgogICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEwLCBtYXJnaW46ICIwIDAgNnB4IiwgdGV4dFRyYW5zZm9ybTogInVwcGVyY2FzZSIsIGxldHRlclNwYWNpbmc6ICIwLjA1ZW0iIH19PlRyeSBzYXlpbmc8L3A+CiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDEzLCBtYXJnaW46IDAsIGxpbmVIZWlnaHQ6IDEuNiwgZm9udFN0eWxlOiAiaXRhbGljIiB9fT57dC50aXB9PC9wPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiAxNCwgYmFja2dyb3VuZDogUC5iZywgYm9yZGVyUmFkaXVzOiAxMCwgYm9yZGVyTGVmdDogYDNweCBzb2xpZCAke1AuYmx1ZX00NGAgfX0+CiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTAsIG1hcmdpbjogIjAgMCA2cHgiLCB0ZXh0VHJhbnNmb3JtOiAidXBwZXJjYXNlIiwgbGV0dGVyU3BhY2luZzogIjAuMDVlbSIgfX0+V2h5IHRoaXMgd29ya3M8L3A+CiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMywgbWFyZ2luOiAwLCBsaW5lSGVpZ2h0OiAxLjYgfX0+e3Qud2h5fTwvcD4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICApfQogICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICkpfQogICAgICAgIDwvZGl2PgogICAgICApfQoKICAgICAge3RhYiA9PT0gInNoYXJlIiAmJiAoCiAgICAgICAgPGRpdj4KICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLm11dGVkLCBmb250U2l6ZTogMTQsIG1hcmdpbkJvdHRvbTogMTYsIGxpbmVIZWlnaHQ6IDEuNiB9fT4KICAgICAgICAgICAgU2hhcmUgYSBtb250aGx5IHN1bW1hcnkgd2l0aCB5b3VyIHBhcnRuZXIuIEl0IHNob3dzIHdoYXQgeW91J3ZlIGJlZW4gZG9pbmcsIHdoYXQncyB3b3JraW5nLCBhbmQgd2hhdCB5b3UgbmVlZCDigJQgYmFja2VkIGJ5IGRhdGEsIG5vdCBqdXN0IGZlZWxpbmdzLgogICAgICAgICAgPC9wPgogICAgICAgICAge3JlcG9ydCA/ICgKICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNiwgbWFyZ2luQm90dG9tOiAxMiB9fT4KICAgICAgICAgICAgICAgIDxwcmUgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMSwgbGluZUhlaWdodDogMS42LCBtYXJnaW46IDAsIHdoaXRlU3BhY2U6ICJwcmUtd3JhcCIsIHdvcmRCcmVhazogImJyZWFrLXdvcmQiLCBmb250RmFtaWx5OiAiaW5oZXJpdCIgfX0+e3JlcG9ydH08L3ByZT4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8QnRuIG9uQ2xpY2s9e2NvcHlSZXBvcnR9IGZ1bGw+e2NvcGllZCA/ICJDb3BpZWQhIiA6ICJDb3B5IHRvIGNsaXBib2FyZCJ9PC9CdG4+CiAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTEsIG1hcmdpblRvcDogMTAsIHRleHRBbGlnbjogImNlbnRlciIgfX0+UGFzdGUgaW50byBhIG1lc3NhZ2UsIGVtYWlsLCBvciBub3RlIHRvIHNoYXJlIHdpdGggeW91ciBwYXJ0bmVyLjwvcD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICApIDogKAogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHRleHRBbGlnbjogImNlbnRlciIsIHBhZGRpbmc6ICI0MHB4IDIwcHgiIH19PgogICAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDE0IH19PkxvZyBzb21lIGludGVyYWN0aW9ucyBmaXJzdCB0byBnZW5lcmF0ZSBhIHJlcG9ydC48L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKX0KICAgICAgICA8L2Rpdj4KICAgICAgKX0KCiAgICAgIHt0YWIgPT09ICJhbGllbmF0aW9uIiAmJiAoCiAgICAgICAgPGRpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDIwLCBtYXJnaW5Cb3R0b206IDEyLCBib3JkZXJMZWZ0OiBgM3B4IHNvbGlkICR7UC5yb3NlfWAgfX0+CiAgICAgICAgICAgIDxoMyBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTYsIGZvbnRGYW1pbHk6ICJHZW9yZ2lhLCAnVGltZXMgTmV3IFJvbWFuJywgc2VyaWYiLCBtYXJnaW46ICIwIDAgMTBweCIgfX0+e0FMSUVOQVRJT04udGl0bGV9PC9oMz4KICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMywgbGluZUhlaWdodDogMS43LCBtYXJnaW46IDAgfX0+e0FMSUVOQVRJT04uaW50cm99PC9wPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNiwgbWFyZ2luQm90dG9tOiAxMiB9fT4KICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5yb3NlLCBmb250U2l6ZTogMTMsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luQm90dG9tOiAxMCB9fT5XYXJuaW5nIHNpZ25zPC9kaXY+CiAgICAgICAgICAgIHtBTElFTkFUSU9OLnNpZ25zLm1hcCgocywgaSkgPT4gKAogICAgICAgICAgICAgIDxkaXYga2V5PXtpfSBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogOCwgbWFyZ2luQm90dG9tOiA4IH19PgogICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAucm9zZSwgZm9udFNpemU6IDExLCBtYXJnaW5Ub3A6IDIsIGZsZXhTaHJpbms6IDAgfX0+eyJcdTIwMjIifTwvc3Bhbj4KICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLm11dGVkLCBmb250U2l6ZTogMTMsIG1hcmdpbjogMCwgbGluZUhlaWdodDogMS41IH19PntzfTwvcD4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgKSl9CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIHtBTElFTkFUSU9OLmd1aWRhbmNlLm1hcCgoZywgaSkgPT4gKAogICAgICAgICAgICA8ZGl2IGtleT17aX0gc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDggfX0+CiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTQsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luQm90dG9tOiA2IH19PntnLnRpdGxlfTwvZGl2PgogICAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLm11dGVkLCBmb250U2l6ZTogMTMsIGxpbmVIZWlnaHQ6IDEuNiwgbWFyZ2luOiAwIH19PntnLnRleHR9PC9wPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICkpfQogICAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpblRvcDogNCwgYmFja2dyb3VuZDogYCR7UC5jYXJkMn04OGAsIGJvcmRlckxlZnQ6IGAzcHggc29saWQgJHtQLmJsdWV9NDRgIH19PgogICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMiwgbWFyZ2luOiAwLCBsaW5lSGVpZ2h0OiAxLjYgfX0+e0FMSUVOQVRJT04ubm90ZX08L3A+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgKX0KICAgIDwvZGl2PgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgQkVOQ0hNQVJLCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkApmdW5jdGlvbiBCZW5jaG1hcmsoeyBwcm9maWxlLCBzbmFwcywgZW50cmllcywgdGllciwgb3BlblNuYXAsIG9uRGVsZXRlU25hcCB9KSB7CiAgaWYgKHRpZXIgIT09ICJwcmVtaXVtIikgcmV0dXJuICgKICAgIDxQcmVtaXVtR2F0ZSBpbmxpbmUgZmVhdHVyZT0iWW91ciBCZW5jaG1hcmsiIGRlc2NyaXB0aW9uPSJTZWUgaG93IHlvdXIgc2l0dWF0aW9uIGNvbXBhcmVzIHRvIHJlc2VhcmNoLiBQZXJzb25hbGl6ZWQgYW5hbHlzaXMgYmFzZWQgb24gdGhlIGNoaWxkJ3MgYWdlLCBjdXN0b2R5IGFycmFuZ2VtZW50LCBsb3lhbHR5IGNvbmZsaWN0IGxldmVsLCBhbmQgeW91ciB0aW1lIGluIHRoZSByb2xlLiBUcmFjayBwcm9ncmVzcyB3aXRoIG1vbnRobHkgc25hcHNob3RzLiIgLz4KICApOwogIGlmICghcHJvZmlsZSkgcmV0dXJuIG51bGw7CiAgY29uc3QgYWdlID0gQkVOQ0guYWdlc1twcm9maWxlLmNoaWxkQWdlXTsKICBjb25zdCBjdXN0ID0gQkVOQ0guY3VzdG9keVtwcm9maWxlLmN1c3RvZHldOwogIGNvbnN0IGxveSA9IEJFTkNILmxveWFsdHlbcHJvZmlsZS5sb3lhbHR5Q29uZmxpY3RdOwoKICByZXR1cm4gKAogICAgPGRpdj4KICAgICAgPFNlY3Rpb25UaXRsZT5Zb3VyIFNpdHVhdGlvbjwvU2VjdGlvblRpdGxlPgogICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJncmlkIiwgZ3JpZFRlbXBsYXRlQ29sdW1uczogIjFmciAxZnIiLCBnYXA6IDgsIG1hcmdpbkJvdHRvbTogMTYgfX0+CiAgICAgICAgPEJlbmNoSXRlbSBsYWJlbD0iQ2hpbGQncyBhZ2UiIHZhbHVlPXtwcm9maWxlLmNoaWxkQWdlICsgIiB5cnMifSAvPgogICAgICAgIDxCZW5jaEl0ZW0gbGFiZWw9IkN1c3RvZHkiIHZhbHVlPXtwcm9maWxlLmN1c3RvZHl9IC8+CiAgICAgICAgPEJlbmNoSXRlbSBsYWJlbD0iTG95YWx0eSBjb25mbGljdCIgdmFsdWU9e3Byb2ZpbGUubG95YWx0eUNvbmZsaWN0fSAvPgogICAgICAgIDxCZW5jaEl0ZW0gbGFiZWw9IlRpbWUgaW4gcm9sZSIgdmFsdWU9e3Byb2ZpbGUueWVhcnNJblJvbGUgKyAiIHlyIiArIChwcm9maWxlLnllYXJzSW5Sb2xlICE9PSAiMSIgPyAicyIgOiAiIil9IC8+CiAgICAgIDwvZGl2PgoKICAgICAge2FnZSAmJiAoCiAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogMTAgfX0+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLndhcm0sIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDYgfX0+VHlwaWNhbCBpbnRlZ3JhdGlvbiB0aW1lbGluZTwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMjAsIGZvbnRGYW1pbHk6ICJHZW9yZ2lhLCAnVGltZXMgTmV3IFJvbWFuJywgc2VyaWYiLCBmb250V2VpZ2h0OiA1MDAsIG1hcmdpbkJvdHRvbTogOCB9fT57YWdlLnR9PC9kaXY+CiAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEzLCBtYXJnaW46IDAsIGxpbmVIZWlnaHQ6IDEuNiB9fT57YWdlLm5vdGV9PC9wPgogICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6IDEyLCBwYWRkaW5nOiAxMiwgYmFja2dyb3VuZDogUC5iZywgYm9yZGVyUmFkaXVzOiA4IH19PgogICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5ibHVlLCBmb250U2l6ZTogMTIsIG1hcmdpbjogMCB9fT4KICAgICAgICAgICAgICBZb3UncmUgfntwcm9maWxlLnllYXJzSW5Sb2xlfSB5ZWFye3Byb2ZpbGUueWVhcnNJblJvbGUgIT09ICIxIiA/ICJzIiA6ICIifSBpbi4KICAgICAgICAgICAgICB7cGFyc2VJbnQocHJvZmlsZS55ZWFyc0luUm9sZSkgPCA0ID8gIiBTdGlsbCBlYXJseSDigJQgZmFzdGVzdCBkb2N1bWVudGVkIGZ1bGwgaW50ZWdyYXRpb24gd2FzIDQgeWVhcnMuIiA6ICIifQogICAgICAgICAgICAgIHtwYXJzZUludChwcm9maWxlLnllYXJzSW5Sb2xlKSA+PSA3ID8gIiBZb3VyIHN1c3RhaW5lZCBwcmVzZW5jZSBtYXR0ZXJzLCByZWdhcmRsZXNzIG9mIHdoZXJlIHRoZSByZWxhdGlvbnNoaXAgaGFzIHNldHRsZWQuIiA6ICIifQogICAgICAgICAgICA8L3A+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgKX0KCiAgICAgIHtjdXN0ICYmIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDEwIH19PjxkaXYgc3R5bGU9e3sgY29sb3I6IFAud2FybSwgZm9udFNpemU6IDEzLCBmb250V2VpZ2h0OiA1MDAsIG1hcmdpbkJvdHRvbTogNiB9fT5DdXN0b2R5IGltcGFjdDwvZGl2PjxwIHN0eWxlPXt7IGNvbG9yOiBQLm11dGVkLCBmb250U2l6ZTogMTMsIG1hcmdpbjogMCwgbGluZUhlaWdodDogMS42IH19PntjdXN0fTwvcD48L2Rpdj59CiAgICAgIHtsb3kgJiYgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogMTAgfX0+PGRpdiBzdHlsZT17eyBjb2xvcjogUC53YXJtLCBmb250U2l6ZTogMTMsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luQm90dG9tOiA2IH19PkxveWFsdHkgZHluYW1pY3M8L2Rpdj48cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEzLCBtYXJnaW46IDAsIGxpbmVIZWlnaHQ6IDEuNiB9fT57bG95fTwvcD48L2Rpdj59CgogICAgICB7LyogT3V0Y29tZXMgKi99CiAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDEwIH19PgogICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAud2FybSwgZm9udFNpemU6IDEzLCBmb250V2VpZ2h0OiA1MDAsIG1hcmdpbkJvdHRvbTogMTAgfX0+UmVhbGlzdGljIG91dGNvbWUgc3BlY3RydW08L2Rpdj4KICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMiwgbWFyZ2luQm90dG9tOiAxMCB9fT5BbGwgb2YgdGhlc2UgYXJlIHZhbGlkIHN1Y2Nlc3Mgc3RhdGVzLjwvcD4KICAgICAgICB7QkVOQ0gub3V0Y29tZXMubWFwKChvLCBpKSA9PiAoCiAgICAgICAgICA8ZGl2IGtleT17aX0gc3R5bGU9e3sgcGFkZGluZzogIjEwcHggMTJweCIsIGJvcmRlckxlZnQ6IGAzcHggc29saWQgJHtvLmN9YCwgbWFyZ2luQm90dG9tOiA2LCBiYWNrZ3JvdW5kOiBQLmJnLCBib3JkZXJSYWRpdXM6ICIwIDhweCA4cHggMCIgfX0+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBqdXN0aWZ5Q29udGVudDogInNwYWNlLWJldHdlZW4iIH19PgogICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwIH19PntvLmx9PC9zcGFuPgogICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDExIH19PntvLnB9PC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTIsIG1hcmdpbjogIjNweCAwIDAiIH19PntvLmR9PC9wPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgKSl9CiAgICAgIDwvZGl2PgoKICAgICAgey8qIEZpcnN0IHZzIExhdGVzdCBzdW1tYXJ5ICovfQogICAgICB7c25hcHMubGVuZ3RoID49IDIgJiYgKCgpID0+IHsKICAgICAgICBjb25zdCBmaXJzdCA9IHNuYXBzWzBdOwogICAgICAgIGNvbnN0IGxhc3QgPSBzbmFwc1tzbmFwcy5sZW5ndGggLSAxXTsKICAgICAgICBjb25zdCBpbXByb3ZlZCA9IFNOQVBfUS5maWx0ZXIocSA9PiAobGFzdC5hbnN3ZXJzPy5bcS5pZF0gPz8gMCkgPiAoZmlyc3QuYW5zd2Vycz8uW3EuaWRdID8/IDApKS5sZW5ndGg7CiAgICAgICAgY29uc3QgZGVjbGluZWQgPSBTTkFQX1EuZmlsdGVyKHEgPT4gKGxhc3QuYW5zd2Vycz8uW3EuaWRdID8/IDApIDwgKGZpcnN0LmFuc3dlcnM/LltxLmlkXSA/PyAwKSkubGVuZ3RoOwogICAgICAgIGNvbnN0IHNhbWUgPSBTTkFQX1EubGVuZ3RoIC0gaW1wcm92ZWQgLSBkZWNsaW5lZDsKICAgICAgICBjb25zdCBkYXlzQmV0d2VlbiA9IE1hdGgucm91bmQoKG5ldyBEYXRlKGxhc3QuZGF0ZSkgLSBuZXcgRGF0ZShmaXJzdC5kYXRlKSkgLyA4NjQwMDAwMCk7CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE4LCBtYXJnaW5Cb3R0b206IDEwLCBib3JkZXJMZWZ0OiBgM3B4IHNvbGlkICR7aW1wcm92ZWQgPiBkZWNsaW5lZCA/IFAuZ3JlZW4gOiBpbXByb3ZlZCA8IGRlY2xpbmVkID8gUC5yb3NlIDogUC5ibHVlfWAgfX0+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDE1LCBmb250RmFtaWx5OiAiR2VvcmdpYSwgJ1RpbWVzIE5ldyBSb21hbicsIHNlcmlmIiwgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDggfX0+CiAgICAgICAgICAgICAge2ltcHJvdmVkID4gZGVjbGluZWQgPyAiVGhpbmdzIGFyZSBtb3ZpbmciIDogaW1wcm92ZWQgPCBkZWNsaW5lZCA/ICJBIGhhcmRlciBzdHJldGNoIiA6ICJIb2xkaW5nIHN0ZWFkeSJ9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEzLCBtYXJnaW46ICIwIDAgMTBweCIsIGxpbmVIZWlnaHQ6IDEuNSB9fT4KICAgICAgICAgICAgICBPdmVyIHtkYXlzQmV0d2Vlbn0gZGF5cyBhbmQge3NuYXBzLmxlbmd0aH0gc25hcHNob3RzOgogICAgICAgICAgICA8L3A+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBnYXA6IDEyIH19PgogICAgICAgICAgICAgIHtpbXByb3ZlZCA+IDAgJiYgPGRpdiBzdHlsZT17eyBmbGV4OiAxLCBwYWRkaW5nOiAxMCwgYmFja2dyb3VuZDogUC5iZywgYm9yZGVyUmFkaXVzOiA4LCB0ZXh0QWxpZ246ICJjZW50ZXIiIH19PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5ncmVlbiwgZm9udFNpemU6IDIwLCBmb250V2VpZ2h0OiA2MDAgfX0+e2ltcHJvdmVkfTwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMCB9fT5pbXByb3ZlZDwvZGl2PgogICAgICAgICAgICAgIDwvZGl2Pn0KICAgICAgICAgICAgICB7c2FtZSA+IDAgJiYgPGRpdiBzdHlsZT17eyBmbGV4OiAxLCBwYWRkaW5nOiAxMCwgYmFja2dyb3VuZDogUC5iZywgYm9yZGVyUmFkaXVzOiA4LCB0ZXh0QWxpZ246ICJjZW50ZXIiIH19PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5ibHVlLCBmb250U2l6ZTogMjAsIGZvbnRXZWlnaHQ6IDYwMCB9fT57c2FtZX08L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTAgfX0+c3RlYWR5PC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+fQogICAgICAgICAgICAgIHtkZWNsaW5lZCA+IDAgJiYgPGRpdiBzdHlsZT17eyBmbGV4OiAxLCBwYWRkaW5nOiAxMCwgYmFja2dyb3VuZDogUC5iZywgYm9yZGVyUmFkaXVzOiA4LCB0ZXh0QWxpZ246ICJjZW50ZXIiIH19PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5yb3NlLCBmb250U2l6ZTogMjAsIGZvbnRXZWlnaHQ6IDYwMCB9fT57ZGVjbGluZWR9PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEwIH19PmhhcmRlcjwvZGl2PgogICAgICAgICAgICAgIDwvZGl2Pn0KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICApOwogICAgICB9KSgpfQoKICAgICAgey8qIFNuYXBzaG90IHRyZW5kIGNoYXJ0cyDigJQgb25lIHBlciBxdWVzdGlvbiAqL30KICAgICAge3NuYXBzLmxlbmd0aCA+PSAyICYmICgKICAgICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNiwgbWFyZ2luQm90dG9tOiAxMCB9fT4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAud2FybSwgZm9udFNpemU6IDEzLCBmb250V2VpZ2h0OiA1MDAsIG1hcmdpbkJvdHRvbTogMTIgfX0+UHJvZ3Jlc3Mgb3ZlciB0aW1lPC9kaXY+CiAgICAgICAgICB7U05BUF9RLm1hcChxID0+IHsKICAgICAgICAgICAgY29uc3QgZGF0YVBvaW50cyA9IHNuYXBzLm1hcChzID0+ICh7IHZhbDogcy5hbnN3ZXJzPy5bcS5pZF0gPz8gbnVsbCwgZGF0ZTogcy5kYXRlIH0pKS5maWx0ZXIoZCA9PiBkLnZhbCAhPT0gbnVsbCk7CiAgICAgICAgICAgIGlmIChkYXRhUG9pbnRzLmxlbmd0aCA8IDIpIHJldHVybiBudWxsOwogICAgICAgICAgICBjb25zdCB2YWxzID0gZGF0YVBvaW50cy5tYXAoZCA9PiBkLnZhbCk7CiAgICAgICAgICAgIGNvbnN0IG1heCA9IHEucy5sZW5ndGggLSAxOwogICAgICAgICAgICBjb25zdCBmaXJzdCA9IHZhbHNbMF07CiAgICAgICAgICAgIGNvbnN0IGxhdGVzdCA9IHZhbHNbdmFscy5sZW5ndGggLSAxXTsKICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBsYXRlc3QgLSBmaXJzdDsKICAgICAgICAgICAgY29uc3QgZGVsdGFDb2xvciA9IGRlbHRhID4gMCA/IFAuZ3JlZW4gOiBkZWx0YSA8IDAgPyBQLnJlZCA6IFAuZGltOwogICAgICAgICAgICBjb25zdCB3ID0gMjYwLCBoID0gNTA7CiAgICAgICAgICAgIGNvbnN0IHhTdGVwID0gKHcgLSA4KSAvICh2YWxzLmxlbmd0aCAtIDEpOwogICAgICAgICAgICBjb25zdCBwdHMgPSB2YWxzLm1hcCgodiwgaSkgPT4gKHsgeDogNCArIGkgKiB4U3RlcCwgeTogaCAtIDYgLSAodiAvIG1heCkgKiAoaCAtIDEyKSB9KSk7CiAgICAgICAgICAgIGNvbnN0IHBhdGhEID0gcHRzLm1hcCgocCwgaSkgPT4gYCR7aSA9PT0gMCA/ICJNIiA6ICJMIn0ke3AueH0sJHtwLnl9YCkuam9pbigiICIpOwogICAgICAgICAgICAvLyBBcmVhIGZpbGwKICAgICAgICAgICAgY29uc3QgYXJlYUQgPSBwYXRoRCArIGAgTCR7cHRzW3B0cy5sZW5ndGggLSAxXS54fSwke2ggLSA2fSBMJHtwdHNbMF0ueH0sJHtoIC0gNn0gWmA7CiAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgPGRpdiBrZXk9e3EuaWR9IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogMTYgfX0+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLm11dGVkLCBmb250U2l6ZTogMTIsIG1hcmdpbkJvdHRvbTogMiwgbGluZUhlaWdodDogMS40IH19PntxLnF9PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiwgYWxpZ25JdGVtczogImNlbnRlciIsIG1hcmdpbkJvdHRvbTogNCB9fT4KICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTAgfX0+e3Euc1tmaXJzdF19PC9zcGFuPgogICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogZGVsdGFDb2xvciwgZm9udFNpemU6IDExLCBmb250V2VpZ2h0OiA1MDAgfX0+CiAgICAgICAgICAgICAgICAgICAge2RlbHRhID4gMCA/ICJcdTIxOTIgIiA6IGRlbHRhIDwgMCA/ICJcdTIxOTIgIiA6ICIifXtxLnNbbGF0ZXN0XX0ge2RlbHRhID4gMCA/ICJcdTIxOTEiIDogZGVsdGEgPCAwID8gIlx1MjE5MyIgOiAiPSJ9CiAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PXtgMCAwICR7d30gJHtofWB9IHN0eWxlPXt7IHdpZHRoOiAiMTAwJSIsIGhlaWdodDogaCwgZGlzcGxheTogImJsb2NrIiB9fSBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgICAgICAgICAgICAgIDxsaW5lIHgxPSI0IiB5MT17aCAtIDZ9IHgyPXt3IC0gNH0geTI9e2ggLSA2fSBzdHJva2U9e1AuYm9yZGVyfSBzdHJva2VXaWR0aD0iMC41IiAvPgogICAgICAgICAgICAgICAgICA8cGF0aCBkPXthcmVhRH0gZmlsbD17UC53YXJtICsgIjExIn0gLz4KICAgICAgICAgICAgICAgICAgPHBhdGggZD17cGF0aER9IGZpbGw9Im5vbmUiIHN0cm9rZT17UC53YXJtfSBzdHJva2VXaWR0aD0iMiIgLz4KICAgICAgICAgICAgICAgICAge3B0cy5tYXAoKHAsIGkpID0+ICgKICAgICAgICAgICAgICAgICAgICA8ZyBrZXk9e2l9PgogICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD17cC54fSBjeT17cC55fSByPXtpID09PSAwIHx8IGkgPT09IHB0cy5sZW5ndGggLSAxID8gNCA6IDIuNX0gZmlsbD17aSA9PT0gcHRzLmxlbmd0aCAtIDEgPyBQLndhcm0gOiBpID09PSAwID8gUC5kaW0gOiBQLmRpbX0gLz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICkpfQogICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiB9fT4KICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltbWVyLCBmb250U2l6ZTogOCB9fT57Zm10U2hvcnRZcihkYXRhUG9pbnRzWzBdLmRhdGUpfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltbWVyLCBmb250U2l6ZTogOCB9fT57Zm10U2hvcnRZcihkYXRhUG9pbnRzW2RhdGFQb2ludHMubGVuZ3RoIC0gMV0uZGF0ZSl9PC9zcGFuPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICk7CiAgICAgICAgICB9KX0KICAgICAgICA8L2Rpdj4KICAgICAgKX0KCiAgICAgIHsvKiBJbmRpdmlkdWFsIHNuYXBzaG90cyDigJQgY29tcGFjdCBsaXN0ICovfQogICAgICB7c25hcHMubGVuZ3RoID4gMCAmJiAoCiAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogMTAgfX0+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLndhcm0sIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDEwIH19PkFsbCBzbmFwc2hvdHMgKHtzbmFwcy5sZW5ndGh9KTwvZGl2PgogICAgICAgICAge1suLi5zbmFwc10ucmV2ZXJzZSgpLm1hcChzID0+ICgKICAgICAgICAgICAgPGRpdiBrZXk9e3MuaWR9IHN0eWxlPXt7IHBhZGRpbmc6ICI4cHggMCIsIGJvcmRlckJvdHRvbTogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAsIGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiwgYWxpZ25JdGVtczogImNlbnRlciIgfX0+CiAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxMiB9fT57Zm10RGF0ZShzLmRhdGUpfTwvc3Bhbj4KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEwLCBtYXJnaW5MZWZ0OiA4IH19PgogICAgICAgICAgICAgICAgICB7U05BUF9RLnNsaWNlKDAsIDIpLm1hcChxID0+IHMuYW5zd2Vycz8uW3EuaWRdICE9PSB1bmRlZmluZWQgPyBxLnNbcy5hbnN3ZXJzW3EuaWRdXSA6ICIiKS5maWx0ZXIoQm9vbGVhbikuam9pbigiIFx1MDBCNyAiKX0KICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IG9uRGVsZXRlU25hcChzLmlkKX0gc3R5bGU9e3sgYmFja2dyb3VuZDogIm5vbmUiLCBib3JkZXI6ICJub25lIiwgY29sb3I6IFAuZGltLCBjdXJzb3I6ICJwb2ludGVyIiwgZm9udFNpemU6IDExLCBwYWRkaW5nOiAiNHB4IDhweCIgfX0+eyJcdTI3MTUifTwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICkpfQogICAgICAgIDwvZGl2PgogICAgICApfQoKICAgICAgPEJ0biBvbkNsaWNrPXtvcGVuU25hcH0gZnVsbD5UYWtlIGEgUHJvZ3Jlc3MgU25hcHNob3Q8L0J0bj4KICAgIDwvZGl2PgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgRU5UUlkgTU9EQUwKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIEVudHJ5TW9kYWwoeyBlbnRyeSwgb25TYXZlLCBvbkRlbGV0ZSwgb25DbG9zZSB9KSB7CiAgY29uc3QgaXNFZGl0ID0gISFlbnRyeTsKICBjb25zdCBbYWN0aW9uLCBzZXRBY3Rpb25dID0gdXNlU3RhdGUoZW50cnk/LmFjdGlvbiB8fCAiIik7CiAgY29uc3QgW3Jlc3BvbnNlLCBzZXRSZXNwb25zZV0gPSB1c2VTdGF0ZShlbnRyeT8ucmVzcG9uc2UgfHwgIiIpOwogIGNvbnN0IFtub3RlLCBzZXROb3RlXSA9IHVzZVN0YXRlKGVudHJ5Py5ub3RlIHx8ICIiKTsKICBjb25zdCBbY3R4cywgc2V0Q3R4c10gPSB1c2VTdGF0ZShlbnRyeT8uY29udGV4dHMgfHwgW10pOwogIGNvbnN0IFtkYXRlLCBzZXREYXRlXSA9IHVzZVN0YXRlKGVudHJ5Py5kYXRlPy5zbGljZSgwLCAxMCkgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSk7CiAgY29uc3QgW2NvbmZpcm1EZWwsIHNldENvbmZpcm1EZWxdID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IFtwaG90bywgc2V0UGhvdG9dID0gdXNlU3RhdGUoZW50cnk/LnBob3RvIHx8IG51bGwpOwogIGNvbnN0IFtwaG90b1pvb20sIHNldFBob3RvWm9vbV0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW3N0b3JhZ2VQY3QsIHNldFN0b3JhZ2VQY3RdID0gdXNlU3RhdGUoMCk7CiAgY29uc3QgZmlsZVJlZiA9IHVzZVJlZihudWxsKTsKCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIGlmIChuYXZpZ2F0b3Iuc3RvcmFnZT8uZXN0aW1hdGUpIHsKICAgICAgbmF2aWdhdG9yLnN0b3JhZ2UuZXN0aW1hdGUoKS50aGVuKCh7IHVzYWdlLCBxdW90YSB9KSA9PiB7CiAgICAgICAgc2V0U3RvcmFnZVBjdChxdW90YSA+IDAgPyBNYXRoLnJvdW5kKCh1c2FnZSAvIHF1b3RhKSAqIDEwMCkgOiAwKTsKICAgICAgfSkuY2F0Y2goKCkgPT4ge30pOwogICAgfQogIH0sIFtdKTsKCiAgY29uc3QgdG9nZ2xlID0gKGMpID0+IHNldEN0eHMocCA9PiBwLmluY2x1ZGVzKGMpID8gcC5maWx0ZXIoeCA9PiB4ICE9PSBjKSA6IFsuLi5wLCBjXSk7CiAgY29uc3QgdmFsaWQgPSBhY3Rpb24gJiYgcmVzcG9uc2U7CiAgY29uc3QgcGhvdG9EaXNhYmxlZCA9IHN0b3JhZ2VQY3QgPj0gOTA7CiAgY29uc3QgcGhvdG9XYXJuaW5nID0gc3RvcmFnZVBjdCA+PSA3MDsKCiAgY29uc3QgaGFuZGxlUGhvdG8gPSAoZSkgPT4gewogICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgaWYgKCFmaWxlKSByZXR1cm47CiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgcmVhZGVyLm9ubG9hZCA9IChldikgPT4gewogICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHsKICAgICAgICBjb25zdCBtYXggPSA0MDA7CiAgICAgICAgbGV0IHcgPSBpbWcud2lkdGgsIGggPSBpbWcuaGVpZ2h0OwogICAgICAgIGlmICh3ID4gbWF4IHx8IGggPiBtYXgpIHsKICAgICAgICAgIGlmICh3ID4gaCkgeyBoID0gTWF0aC5yb3VuZChoICogbWF4IC8gdyk7IHcgPSBtYXg7IH0KICAgICAgICAgIGVsc2UgeyB3ID0gTWF0aC5yb3VuZCh3ICogbWF4IC8gaCk7IGggPSBtYXg7IH0KICAgICAgICB9CiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CiAgICAgICAgY2FudmFzLndpZHRoID0gdzsgY2FudmFzLmhlaWdodCA9IGg7CiAgICAgICAgY2FudmFzLmdldENvbnRleHQoIjJkIikuZHJhd0ltYWdlKGltZywgMCwgMCwgdywgaCk7CiAgICAgICAgc2V0UGhvdG8oY2FudmFzLnRvRGF0YVVSTCgiaW1hZ2UvanBlZyIsIDAuNSkpOwogICAgICB9OwogICAgICBpbWcuc3JjID0gZXYudGFyZ2V0LnJlc3VsdDsKICAgIH07CiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICB9OwoKICByZXR1cm4gKAogICAgPE1vZGFsIG9uQ2xvc2U9e29uQ2xvc2V9IHRpdGxlPXtpc0VkaXQgPyAiRWRpdCBJbnRlcmFjdGlvbiIgOiAiTG9nIGFuIEludGVyYWN0aW9uIn0+CiAgICAgIDxsYWJlbCBodG1sRm9yPSJlbnRyeS1kYXRlIiBzdHlsZT17Y3NzLmxhYmVsfT5EYXRlPC9sYWJlbD4KICAgICAgPGlucHV0IGlkPSJlbnRyeS1kYXRlIiB0eXBlPSJkYXRlIiB2YWx1ZT17ZGF0ZX0gb25DaGFuZ2U9e2UgPT4gc2V0RGF0ZShlLnRhcmdldC52YWx1ZSl9IHN0eWxlPXtjc3MuZGF0ZUlufSAvPgoKICAgICAgPGxhYmVsIHN0eWxlPXtjc3MubGFiZWx9PldoYXQgZGlkIHlvdSBkbz88L2xhYmVsPgogICAgICA8ZGl2IHN0eWxlPXtjc3MuY2hpcHN9PgogICAgICAgIHtBQ1RJT05TLm1hcChhID0+IDxDaGlwIGtleT17YS5pZH0gYWN0aXZlPXthY3Rpb24gPT09IGEuaWR9IGNvbG9yPXthLmN9IG9uQ2xpY2s9eygpID0+IHNldEFjdGlvbihhLmlkKX0+e2EuaWNvbn0ge2EubGFiZWx9PC9DaGlwPil9CiAgICAgIDwvZGl2PgoKICAgICAgPGxhYmVsIHN0eWxlPXtjc3MubGFiZWx9PkhvdyBkaWQgdGhleSByZXNwb25kPzwvbGFiZWw+CiAgICAgIDxkaXYgc3R5bGU9e2Nzcy5jaGlwc30+CiAgICAgICAge1JFU1BPTlNFUy5tYXAociA9PiA8Q2hpcCBrZXk9e3IuaWR9IGFjdGl2ZT17cmVzcG9uc2UgPT09IHIuaWR9IGNvbG9yPXtyLmN9IG9uQ2xpY2s9eygpID0+IHNldFJlc3BvbnNlKHIuaWQpfT57ci5pY29ufSB7ci5sYWJlbH08L0NoaXA+KX0KICAgICAgPC9kaXY+CgogICAgICA8bGFiZWwgc3R5bGU9e2Nzcy5sYWJlbH0+Q29udGV4dCA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRXZWlnaHQ6IDQwMCB9fT4ob3B0aW9uYWwpPC9zcGFuPjwvbGFiZWw+CiAgICAgIDxkaXYgc3R5bGU9e2Nzcy5jaGlwc30+CiAgICAgICAge0NPTlRFWFRTLm1hcChjID0+IDxDaGlwIGtleT17Y30gc21hbGwgYWN0aXZlPXtjdHhzLmluY2x1ZGVzKGMpfSBjb2xvcj17UC53YXJtfSBvbkNsaWNrPXsoKSA9PiB0b2dnbGUoYyl9PntjfTwvQ2hpcD4pfQogICAgICA8L2Rpdj4KCiAgICAgIDxsYWJlbCBzdHlsZT17Y3NzLmxhYmVsfT5QaG90byA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRXZWlnaHQ6IDQwMCB9fT4ob3B0aW9uYWwpPC9zcGFuPjwvbGFiZWw+CiAgICAgIHtwaG90b0Rpc2FibGVkICYmICgKICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5yZWQsIGZvbnRTaXplOiAxMiwgbWFyZ2luQm90dG9tOiAxMCwgbGluZUhlaWdodDogMS40IH19PlN0b3JhZ2UgaXMgYWxtb3N0IGZ1bGwgKHtzdG9yYWdlUGN0fSUgdXNlZCkuIFBob3RvcyBhcmUgZGlzYWJsZWQuIEV4cG9ydCBhIGJhY2t1cCBhbmQgY29uc2lkZXIgcmVtb3Zpbmcgb2xkIHBob3RvIGVudHJpZXMgdG8gZnJlZSB1cCBzcGFjZS48L3A+CiAgICAgICl9CiAgICAgIHshcGhvdG9EaXNhYmxlZCAmJiBwaG90b1dhcm5pbmcgJiYgKAogICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLndhcm0sIGZvbnRTaXplOiAxMSwgbWFyZ2luQm90dG9tOiA4LCBsaW5lSGVpZ2h0OiAxLjQgfX0+U3RvcmFnZSBpcyB7c3RvcmFnZVBjdH0lIGZ1bGwuIENvbnNpZGVyIGV4cG9ydGluZyBhIGJhY2t1cCBzb29uLjwvcD4KICAgICAgKX0KICAgICAge3Bob3RvID8gKAogICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAxNCB9fT4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICJyZWxhdGl2ZSIsIGRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLCBjdXJzb3I6ICJwb2ludGVyIiB9fSBvbkNsaWNrPXsoKSA9PiBzZXRQaG90b1pvb20odHJ1ZSl9PgogICAgICAgICAgICA8aW1nIHNyYz17cGhvdG99IGFsdD0iQXR0YWNoZWQgcGhvdG8g4oCUIHRhcCB0byBlbmxhcmdlIiBzdHlsZT17eyB3aWR0aDogIjEwMCUiLCBtYXhXaWR0aDogMjIwLCBib3JkZXJSYWRpdXM6IDEwLCBkaXNwbGF5OiAiYmxvY2siLCBib3JkZXI6IGAxcHggc29saWQgJHtQLmJvcmRlcn1gIH19IC8+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICJhYnNvbHV0ZSIsIGJvdHRvbTogNiwgbGVmdDogNiwgYmFja2dyb3VuZDogInJnYmEoMCwwLDAsMC42KSIsIGJvcmRlclJhZGl1czogNCwgcGFkZGluZzogIjJweCA2cHgiLCBmb250U2l6ZTogMTAsIGNvbG9yOiAiI2ZmZiIgfX0+VGFwIHRvIGVubGFyZ2U8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBzZXRQaG90byhudWxsKTsgaWYgKGZpbGVSZWYuY3VycmVudCkgZmlsZVJlZi5jdXJyZW50LnZhbHVlID0gIiI7IH19IGFyaWEtbGFiZWw9IlJlbW92ZSBwaG90byIgc3R5bGU9e3sgbWFyZ2luVG9wOiA2LCBiYWNrZ3JvdW5kOiAibm9uZSIsIGJvcmRlcjogIm5vbmUiLCBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMiwgY3Vyc29yOiAicG9pbnRlciIsIGZvbnRGYW1pbHk6ICJpbmhlcml0IiwgcGFkZGluZzogIjRweCAwIiB9fT5SZW1vdmUgcGhvdG88L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgKSA6ICFwaG90b0Rpc2FibGVkID8gKAogICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gZmlsZVJlZi5jdXJyZW50Py5jbGljaygpfSBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGFsaWduSXRlbXM6ICJjZW50ZXIiLCBnYXA6IDgsIHBhZGRpbmc6ICIxMHB4IDE0cHgiLCBib3JkZXJSYWRpdXM6IDksIGJvcmRlcjogYDFweCBkYXNoZWQgJHtQLmJvcmRlcjJ9YCwgYmFja2dyb3VuZDogInRyYW5zcGFyZW50IiwgY29sb3I6IFAuZGltLCBjdXJzb3I6ICJwb2ludGVyIiwgZm9udFNpemU6IDEzLCBmb250RmFtaWx5OiAiaW5oZXJpdCIsIG1hcmdpbkJvdHRvbTogMTQsIHdpZHRoOiAiMTAwJSIsIG1pbkhlaWdodDogNDQgfX0+CiAgICAgICAgICA8c3ZnIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlV2lkdGg9IjEuNSI+PHJlY3QgeD0iMyIgeT0iMyIgd2lkdGg9IjE4IiBoZWlnaHQ9IjE4IiByeD0iMyIvPjxjaXJjbGUgY3g9IjguNSIgY3k9IjguNSIgcj0iMS41Ii8+PHBhdGggZD0iTTIxIDE1bC01LTVMNSAyMSIvPjwvc3ZnPgogICAgICAgICAgQWRkIGEgcGhvdG8KICAgICAgICA8L2J1dHRvbj4KICAgICAgKSA6IG51bGx9CiAgICAgIDxpbnB1dCByZWY9e2ZpbGVSZWZ9IHR5cGU9ImZpbGUiIGFjY2VwdD0iaW1hZ2UvKiIgb25DaGFuZ2U9e2hhbmRsZVBob3RvfSBzdHlsZT17eyBkaXNwbGF5OiAibm9uZSIgfX0gYXJpYS1sYWJlbD0iQ2hvb3NlIHBob3RvIiAvPgoKICAgICAgPGxhYmVsIGh0bWxGb3I9ImVudHJ5LW5vdGVzIiBzdHlsZT17Y3NzLmxhYmVsfT5Ob3RlcyA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRXZWlnaHQ6IDQwMCB9fT4ob3B0aW9uYWwpPC9zcGFuPjwvbGFiZWw+CiAgICAgIDx0ZXh0YXJlYSBpZD0iZW50cnktbm90ZXMiIHZhbHVlPXtub3RlfSBvbkNoYW5nZT17ZSA9PiBzZXROb3RlKGUudGFyZ2V0LnZhbHVlKX0gcGxhY2Vob2xkZXI9IldoYXQgaGFwcGVuZWQ/IEhvdyBkaWQgaXQgZmVlbD8iIHN0eWxlPXtjc3MudGV4dGFyZWF9IHJvd3M9ezN9IC8+CgogICAgICA8QnRuIG9uQ2xpY2s9eygpID0+IHsgaWYgKHZhbGlkKSBvblNhdmUoeyBpZDogZW50cnk/LmlkIHx8IHVpZCgpLCBkYXRlOiBuZXcgRGF0ZShkYXRlICsgIlQxMjowMDowMCIpLnRvSVNPU3RyaW5nKCksIGFjdGlvbiwgcmVzcG9uc2UsIG5vdGUsIGNvbnRleHRzOiBjdHhzLCBwaG90bzogcGhvdG8gfHwgdW5kZWZpbmVkIH0pOyB9fSBmdWxsIGRpc2FibGVkPXshdmFsaWR9IHN0eWxlPXt7IG1hcmdpblRvcDogMTYgfX0+e2lzRWRpdCA/ICJVcGRhdGUiIDogIlNhdmUifTwvQnRuPgoKICAgICAge2lzRWRpdCAmJiBvbkRlbGV0ZSAmJiAoCiAgICAgICAgIWNvbmZpcm1EZWwKICAgICAgICAgID8gPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRDb25maXJtRGVsKHRydWUpfSBzdHlsZT17eyAuLi5jc3MudGV4dEJ0biwgY29sb3I6IFAuZGltLCBtYXJnaW5Ub3A6IDggfX0+RGVsZXRlIHRoaXMgZW50cnk8L2J1dHRvbj4KICAgICAgICAgIDogPGRpdiBzdHlsZT17eyB0ZXh0QWxpZ246ICJjZW50ZXIiLCBtYXJnaW5Ub3A6IDggfX0+CiAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAucmVkLCBmb250U2l6ZTogMTIsIG1hcmdpbjogIjAgMCA2cHgiIH19PkFyZSB5b3Ugc3VyZT88L3A+CiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBvbkRlbGV0ZShlbnRyeS5pZCl9IHN0eWxlPXt7IC4uLmNzcy50ZXh0QnRuLCBjb2xvcjogUC5yZWQgfX0+WWVzLCBkZWxldGU8L2J1dHRvbj4KICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldENvbmZpcm1EZWwoZmFsc2UpfSBzdHlsZT17eyAuLi5jc3MudGV4dEJ0biwgY29sb3I6IFAuZGltLCBtYXJnaW5MZWZ0OiAxMiB9fT5DYW5jZWw8L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICl9CgogICAgICB7LyogUGhvdG8gbGlnaHRib3ggKi99CiAgICAgIHtwaG90b1pvb20gJiYgcGhvdG8gJiYgKAogICAgICAgIDxkaXYgb25DbGljaz17KCkgPT4gc2V0UGhvdG9ab29tKGZhbHNlKX0gc3R5bGU9e3sgcG9zaXRpb246ICJmaXhlZCIsIGluc2V0OiAwLCBiYWNrZ3JvdW5kOiAicmdiYSgwLDAsMCwwLjkpIiwgekluZGV4OiAyMDAsIGRpc3BsYXk6ICJmbGV4IiwgYWxpZ25JdGVtczogImNlbnRlciIsIGp1c3RpZnlDb250ZW50OiAiY2VudGVyIiwgcGFkZGluZzogMjAsIGN1cnNvcjogInBvaW50ZXIiIH19PgogICAgICAgICAgPGltZyBzcmM9e3Bob3RvfSBhbHQ9IkZ1bGwgc2l6ZSBwaG90byIgc3R5bGU9e3sgbWF4V2lkdGg6ICIxMDAlIiwgbWF4SGVpZ2h0OiAiODV2aCIsIGJvcmRlclJhZGl1czogMTIsIG9iamVjdEZpdDogImNvbnRhaW4iIH19IC8+CiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFBob3RvWm9vbShmYWxzZSl9IGFyaWEtbGFiZWw9IkNsb3NlIHBob3RvIiBzdHlsZT17eyBwb3NpdGlvbjogImFic29sdXRlIiwgdG9wOiAxNiwgcmlnaHQ6IDE2LCBiYWNrZ3JvdW5kOiAicmdiYSgwLDAsMCwwLjcpIiwgYm9yZGVyOiAibm9uZSIsIGNvbG9yOiAiI2ZmZiIsIGJvcmRlclJhZGl1czogIjUwJSIsIHdpZHRoOiA0NCwgaGVpZ2h0OiA0NCwgZm9udFNpemU6IDE4LCBjdXJzb3I6ICJwb2ludGVyIiwgZGlzcGxheTogImZsZXgiLCBhbGlnbkl0ZW1zOiAiY2VudGVyIiwganVzdGlmeUNvbnRlbnQ6ICJjZW50ZXIiIH19PnsiXHUyNzE1In08L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgKX0KICAgIDwvTW9kYWw+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBDQVJEIChQRVJTUEVDVElWRSkgTU9EQUwKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIENhcmRNb2RhbCh7IGNhcmQsIG9uQ2xvc2UsIGF1dG8sIG9uRGlzYWJsZUF1dG8gfSkgewogIGNvbnN0IFtjaGVja2VkLCBzZXRDaGVja2VkXSA9IHVzZVN0YXRlKGZhbHNlKTsKICByZXR1cm4gKAogICAgPE1vZGFsIG9uQ2xvc2U9eygpID0+IHsgaWYgKGNoZWNrZWQgJiYgb25EaXNhYmxlQXV0bykgb25EaXNhYmxlQXV0bygpOyBvbkNsb3NlKCk7IH19IHRpdGxlPXtgXHUyNUM3ICR7Y2FyZC50aXRsZX1gfSB0aXRsZUNvbG9yPXtQLndhcm19PgogICAgICA8cCBzdHlsZT17eyBjb2xvcjogIiNEMUQ1REIiLCBmb250U2l6ZTogMTUsIGxpbmVIZWlnaHQ6IDEuNyB9fT57Y2FyZC5ib2R5fTwvcD4KICAgICAge2NhcmQuc3JjICYmIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmJsdWUsIGZvbnRTaXplOiAxMiwgZm9udFN0eWxlOiAiaXRhbGljIiwgbWFyZ2luVG9wOiAxMiB9fT5Tb3VyY2U6IHtjYXJkLnNyY308L3A+fQogICAgICB7Y2FyZC5xdW90ZSAmJiAoCiAgICAgICAgPGRpdiBzdHlsZT17eyBiYWNrZ3JvdW5kOiBQLmJnLCBib3JkZXJSYWRpdXM6IDEyLCBwYWRkaW5nOiAxNiwgbWFyZ2luVG9wOiAxNiwgYm9yZGVyTGVmdDogYDNweCBzb2xpZCAke1Aud2FybX00NGAgfX0+CiAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTQsIGxpbmVIZWlnaHQ6IDEuNywgZm9udFN0eWxlOiAiaXRhbGljIiwgbWFyZ2luOiAwIH19PntjYXJkLnF1b3RlfTwvcD4KICAgICAgICAgIHtjYXJkLndobyAmJiA8cCBzdHlsZT17eyBjb2xvcjogUC53YXJtLCBmb250U2l6ZTogMTIsIG1hcmdpblRvcDogOCwgbWFyZ2luQm90dG9tOiAwIH19PnsiXHUyMDE0In0ge2NhcmQud2hvfTwvcD59CiAgICAgICAgPC9kaXY+CiAgICAgICl9CiAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAyMCwgcGFkZGluZzogMTQsIGJhY2tncm91bmQ6IGAke1AuY2FyZDJ9ODhgLCBib3JkZXJSYWRpdXM6IDEwLCBib3JkZXJMZWZ0OiBgM3B4IHNvbGlkICR7UC5ncmVlbn0zM2AgfX0+CiAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTIsIG1hcmdpbjogMCwgbGluZUhlaWdodDogMS42IH19PgogICAgICAgICAgVGhpcyBwZXJzcGVjdGl2ZSBpc24ndCBhYm91dCBkaXNtaXNzaW5nIHlvdXIgcGFpbi4gV2hhdCB5b3UncmUgZmVlbGluZyBpcyByZWFsLiBUaGlzIGlzIGFib3V0IHNlcGFyYXRpbmcgd2hhdCdzIGhhcHBlbmluZyBmcm9tIHdoYXQgaXQgbWVhbnMg4oCUIGJlY2F1c2UgaW4gc3RlcGZhbWlseSBkeW5hbWljcywgdGhvc2UgYXJlIG9mdGVuIHZlcnkgZGlmZmVyZW50IHRoaW5ncy4KICAgICAgICA8L3A+CiAgICAgIDwvZGl2PgogICAgICB7YXV0byAmJiBvbkRpc2FibGVBdXRvICYmICgKICAgICAgICA8bGFiZWwgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBhbGlnbkl0ZW1zOiAiY2VudGVyIiwgZ2FwOiAxMCwgbWFyZ2luVG9wOiAxNiwgY3Vyc29yOiAicG9pbnRlciIsIHBhZGRpbmc6ICIxMHB4IDAiIH19PgogICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBjaGVja2VkPXtjaGVja2VkfSBvbkNoYW5nZT17KGUpID0+IHNldENoZWNrZWQoZS50YXJnZXQuY2hlY2tlZCl9IHN0eWxlPXt7IHdpZHRoOiAxOCwgaGVpZ2h0OiAxOCwgYWNjZW50Q29sb3I6IFAud2FybSwgZmxleFNocmluazogMCB9fSAvPgogICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTIsIGxpbmVIZWlnaHQ6IDEuNCB9fT5Eb24ndCBzaG93IHRoZXNlIGF1dG9tYXRpY2FsbHkgYWZ0ZXIgbG9nZ2luZzwvc3Bhbj4KICAgICAgICA8L2xhYmVsPgogICAgICApfQogICAgICB7YXV0byAmJiA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW1tZXIsIGZvbnRTaXplOiAxMSwgbWFyZ2luVG9wOiA0IH19PllvdSBjYW4gYWx3YXlzIGZpbmQgdGhlc2Ugb24gdGhlIFNoaWZ0IHRhYi48L3A+fQogICAgPC9Nb2RhbD4KICApOwp9CgovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKLy8gIFNOQVBTSE9UIE1PREFMCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkApmdW5jdGlvbiBTbmFwTW9kYWwoeyBzbmFwcywgb25TYXZlLCBvbkNsb3NlIH0pIHsKICBjb25zdCBbYW5zLCBzZXRBbnNdID0gdXNlU3RhdGUoe30pOwogIGNvbnN0IGRvbmUgPSBTTkFQX1EuZXZlcnkocSA9PiBhbnNbcS5pZF0gIT09IHVuZGVmaW5lZCk7CgogIHJldHVybiAoCiAgICA8TW9kYWwgb25DbG9zZT17b25DbG9zZX0gdGl0bGU9Ik1vbnRobHkgQ2hlY2staW4iPgogICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMywgbWFyZ2luQm90dG9tOiAxNiB9fT5BbnN3ZXIgaG9uZXN0bHkg4oCUIHRoaXMgaXMgZm9yIHlvdS4gVGhlc2Ugc25hcHNob3RzIGJlY29tZSB2YWx1YWJsZSB3aGVuIHlvdSBjb21wYXJlIHRoZW0gb3ZlciB0aW1lLjwvcD4KICAgICAge1NOQVBfUS5tYXAocSA9PiAoCiAgICAgICAgPGRpdiBrZXk9e3EuaWR9IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogMTggfX0+CiAgICAgICAgICA8bGFiZWwgc3R5bGU9e3sgLi4uY3NzLmxhYmVsLCBmb250U2l6ZTogMTMgfX0+e3EucX08L2xhYmVsPgogICAgICAgICAgPGRpdiBzdHlsZT17Y3NzLmNoaXBzfT4KICAgICAgICAgICAge3Eucy5tYXAoKHMsIGkpID0+IDxDaGlwIGtleT17aX0gc21hbGwgYWN0aXZlPXthbnNbcS5pZF0gPT09IGl9IGNvbG9yPXtQLndhcm19IG9uQ2xpY2s9eygpID0+IHNldEFucyhwID0+ICh7IC4uLnAsIFtxLmlkXTogaSB9KSl9PntzfTwvQ2hpcD4pfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICkpfQogICAgICA8QnRuIG9uQ2xpY2s9eygpID0+IHsgaWYgKGRvbmUpIG9uU2F2ZSh7IGlkOiB1aWQoKSwgZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLCBhbnN3ZXJzOiBhbnMgfSk7IH19IGZ1bGwgZGlzYWJsZWQ9eyFkb25lfT5TYXZlIFNuYXBzaG90PC9CdG4+CiAgICA8L01vZGFsPgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgU0VUVElOR1MgTU9EQUwKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIFNldHRpbmdzTW9kYWwoeyBvbkNsb3NlLCBvbkV4cG9ydCwgb25JbXBvcnQsIG9uUmVkbywgb25FcmFzZSwgdGllciwgb25TZXRUaWVyIH0pIHsKICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7CiAgY29uc3QgW3Nob3dQcml2YWN5LCBzZXRTaG93UHJpdmFjeV0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW2VyYXNlU3RlcCwgc2V0RXJhc2VTdGVwXSA9IHVzZVN0YXRlKDApOyAvLyAwPWhpZGRlbiwgMT1jb25maXJtLCAyPWZpbmFsCiAgcmV0dXJuICgKICAgIDxNb2RhbCBvbkNsb3NlPXtvbkNsb3NlfSB0aXRsZT0iU2V0dGluZ3MiIHNtYWxsPgogICAgICB7LyogRGV2IHRpZXIgdG9nZ2xlICovfQogICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6IDE0LCBiYWNrZ3JvdW5kOiB0aWVyID09PSAicHJlbWl1bSIgPyBQLmdyZWVuICsgIjExIiA6IFAuYmcsIGJvcmRlclJhZGl1czogMTAsIGJvcmRlcjogYDFweCBzb2xpZCAke3RpZXIgPT09ICJwcmVtaXVtIiA/IFAuZ3JlZW4gKyAiNDQiIDogUC5ib3JkZXJ9YCwgbWFyZ2luQm90dG9tOiAxNiB9fT4KICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiwgYWxpZ25JdGVtczogImNlbnRlciIsIG1hcmdpbkJvdHRvbTogOCB9fT4KICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwIH19Pnt0aWVyID09PSAicHJlbWl1bSIgPyAiXHUyQjUwIFByZW1pdW0iIDogIkZyZWUgUGxhbiJ9PC9zcGFuPgogICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltbWVyLCBmb250U2l6ZTogMTAsIGJhY2tncm91bmQ6IFAuY2FyZDIsIHBhZGRpbmc6ICIycHggOHB4IiwgYm9yZGVyUmFkaXVzOiA0IH19PkRFViBUT0dHTEU8L3NwYW4+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogOCB9fT4KICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gb25TZXRUaWVyKCJmcmVlIil9IHN0eWxlPXt7IGZsZXg6IDEsIHBhZGRpbmc6ICIxMHB4IDAiLCBib3JkZXJSYWRpdXM6IDgsIGJvcmRlcjogYDFweCBzb2xpZCAke3RpZXIgPT09ICJmcmVlIiA/IFAud2FybSA6IFAuYm9yZGVyfWAsIGJhY2tncm91bmQ6IHRpZXIgPT09ICJmcmVlIiA/IFAud2FybSArICIyMiIgOiAidHJhbnNwYXJlbnQiLCBjb2xvcjogdGllciA9PT0gImZyZWUiID8gUC53YXJtIDogUC5kaW0sIGN1cnNvcjogInBvaW50ZXIiLCBmb250U2l6ZTogMTMsIGZvbnRGYW1pbHk6ICJpbmhlcml0IiB9fT5GcmVlPC9idXR0b24+CiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IG9uU2V0VGllcigicHJlbWl1bSIpfSBzdHlsZT17eyBmbGV4OiAxLCBwYWRkaW5nOiAiMTBweCAwIiwgYm9yZGVyUmFkaXVzOiA4LCBib3JkZXI6IGAxcHggc29saWQgJHt0aWVyID09PSAicHJlbWl1bSIgPyBQLmdyZWVuIDogUC5ib3JkZXJ9YCwgYmFja2dyb3VuZDogdGllciA9PT0gInByZW1pdW0iID8gUC5ncmVlbiArICIyMiIgOiAidHJhbnNwYXJlbnQiLCBjb2xvcjogdGllciA9PT0gInByZW1pdW0iID8gUC5ncmVlbiA6IFAuZGltLCBjdXJzb3I6ICJwb2ludGVyIiwgZm9udFNpemU6IDEzLCBmb250RmFtaWx5OiAiaW5oZXJpdCIgfX0+UHJlbWl1bTwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbW1lciwgZm9udFNpemU6IDEwLCBtYXJnaW46ICI4cHggMCAwIiwgdGV4dEFsaWduOiAiY2VudGVyIiB9fT5UaGlzIHRvZ2dsZSB3aWxsIGJlIHJlcGxhY2VkIGJ5IFJldmVudWVDYXQgaW50ZWdyYXRpb248L3A+CiAgICAgIDwvZGl2PgoKICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTMsIG1hcmdpbkJvdHRvbTogMTQgfX0+WW91ciBkYXRhIGxpdmVzIG9uIHRoaXMgZGV2aWNlIG9ubHkuIEJhY2sgaXQgdXAgdG8ga2VlcCBpdCBzYWZlLjwvcD4KICAgICAgPEJ0biBvbkNsaWNrPXtvbkV4cG9ydH0gZnVsbD5FeHBvcnQgRGF0YSBCYWNrdXA8L0J0bj4KICAgICAgPEJ0biBvbkNsaWNrPXsoKSA9PiByZWYuY3VycmVudD8uY2xpY2soKX0gZnVsbCBzZWNvbmRhcnkgc3R5bGU9e3sgbWFyZ2luVG9wOiA4IH19PkltcG9ydCBEYXRhIEJhY2t1cDwvQnRuPgogICAgICA8aW5wdXQgcmVmPXtyZWZ9IHR5cGU9ImZpbGUiIGFjY2VwdD0iLmpzb24iIG9uQ2hhbmdlPXtvbkltcG9ydH0gc3R5bGU9e3sgZGlzcGxheTogIm5vbmUiIH19IGFyaWEtbGFiZWw9IkNob29zZSBiYWNrdXAgZmlsZSIgLz4KICAgICAgPGhyIHN0eWxlPXt7IGJvcmRlcjogIm5vbmUiLCBib3JkZXJUb3A6IGAxcHggc29saWQgJHtQLmJvcmRlcn1gLCBtYXJnaW46ICIyMHB4IDAgMTRweCIgfX0gLz4KICAgICAgPEJ0biBvbkNsaWNrPXtvblJlZG99IGZ1bGwgc2Vjb25kYXJ5PlJlZG8gT25ib2FyZGluZzwvQnRuPgogICAgICA8aHIgc3R5bGU9e3sgYm9yZGVyOiAibm9uZSIsIGJvcmRlclRvcDogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAsIG1hcmdpbjogIjIwcHggMCAxNHB4IiB9fSAvPgoKICAgICAge2VyYXNlU3RlcCA9PT0gMCAmJiAoCiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRFcmFzZVN0ZXAoMSl9IHN0eWxlPXt7IC4uLmNzcy50ZXh0QnRuLCBjb2xvcjogUC5yZWQsIHdpZHRoOiAiMTAwJSIsIHRleHRBbGlnbjogImNlbnRlciIsIGZvbnRTaXplOiAxMyB9fT4KICAgICAgICAgIEVyYXNlIEFsbCBEYXRhCiAgICAgICAgPC9idXR0b24+CiAgICAgICl9CiAgICAgIHtlcmFzZVN0ZXAgPT09IDEgJiYgKAogICAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogMTYsIGJhY2tncm91bmQ6IFAucmVkICsgIjExIiwgYm9yZGVyUmFkaXVzOiAxMCwgYm9yZGVyOiBgMXB4IHNvbGlkICR7UC5yZWR9MzNgIH19PgogICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAucmVkLCBmb250U2l6ZTogMTMsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luOiAiMCAwIDZweCIgfX0+QXJlIHlvdSBzdXJlPzwvcD4KICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLm11dGVkLCBmb250U2l6ZTogMTIsIG1hcmdpbjogIjAgMCAxMnB4IiwgbGluZUhlaWdodDogMS41IH19PlRoaXMgd2lsbCBwZXJtYW5lbnRseSBkZWxldGUgYWxsIGVudHJpZXMsIHNuYXBzaG90cywgcGhvdG9zLCBhbmQgeW91ciBwcm9maWxlLiBUaGlzIGNhbm5vdCBiZSB1bmRvbmUuIENvbnNpZGVyIGV4cG9ydGluZyBhIGJhY2t1cCBmaXJzdC48L3A+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiA4IH19PgogICAgICAgICAgICA8QnRuIG9uQ2xpY2s9eygpID0+IHNldEVyYXNlU3RlcCgyKX0gc3R5bGU9e3sgZmxleDogMSwgYmFja2dyb3VuZDogUC5yZWQsIGZvbnRTaXplOiAxMyB9fT5ZZXMsIGVyYXNlIGV2ZXJ5dGhpbmc8L0J0bj4KICAgICAgICAgICAgPEJ0biBvbkNsaWNrPXsoKSA9PiBzZXRFcmFzZVN0ZXAoMCl9IHNlY29uZGFyeSBzdHlsZT17eyBmbGV4OiAxLCBmb250U2l6ZTogMTMgfX0+Q2FuY2VsPC9CdG4+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgKX0KICAgICAge2VyYXNlU3RlcCA9PT0gMiAmJiAoCiAgICAgICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiAxNiwgYmFja2dyb3VuZDogUC5yZWQgKyAiMTEiLCBib3JkZXJSYWRpdXM6IDEwLCBib3JkZXI6IGAxcHggc29saWQgJHtQLnJlZH0zM2AgfX0+CiAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5yZWQsIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNjAwLCBtYXJnaW46ICIwIDAgNnB4IiB9fT5MYXN0IGNoYW5jZTwvcD4KICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLm11dGVkLCBmb250U2l6ZTogMTIsIG1hcmdpbjogIjAgMCAxMnB4IiwgbGluZUhlaWdodDogMS41IH19PkFsbCB5b3VyIGRhdGEgd2lsbCBiZSBnb25lIGZvcmV2ZXIuIFRoZXJlIGlzIG5vIHVuZG8uPC9wPgogICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogOCB9fT4KICAgICAgICAgICAgPEJ0biBvbkNsaWNrPXtvbkVyYXNlfSBzdHlsZT17eyBmbGV4OiAxLCBiYWNrZ3JvdW5kOiBQLnJlZCwgZm9udFNpemU6IDEzIH19PlBlcm1hbmVudGx5IGVyYXNlPC9CdG4+CiAgICAgICAgICAgIDxCdG4gb25DbGljaz17KCkgPT4gc2V0RXJhc2VTdGVwKDApfSBzZWNvbmRhcnkgc3R5bGU9e3sgZmxleDogMSwgZm9udFNpemU6IDEzIH19PktlZXAgbXkgZGF0YTwvQnRuPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICl9CgogICAgICA8aHIgc3R5bGU9e3sgYm9yZGVyOiAibm9uZSIsIGJvcmRlclRvcDogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAsIG1hcmdpbjogIjIwcHggMCAxNHB4IiB9fSAvPgogICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dQcml2YWN5KHAgPT4gIXApfSBzdHlsZT17eyAuLi5jc3MudGV4dEJ0biwgY29sb3I6IFAuZGltLCB3aWR0aDogIjEwMCUiLCB0ZXh0QWxpZ246ICJjZW50ZXIiLCBmb250U2l6ZTogMTIgfX0+CiAgICAgICAge3Nob3dQcml2YWN5ID8gIkhpZGUiIDogIlNob3cifSBQcml2YWN5IFBvbGljeQogICAgICA8L2J1dHRvbj4KICAgICAge3Nob3dQcml2YWN5ICYmICgKICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogMTAsIHBhZGRpbmc6IDE0LCBiYWNrZ3JvdW5kOiBQLmJnLCBib3JkZXJSYWRpdXM6IDEwLCBmb250U2l6ZTogMTEsIGNvbG9yOiBQLm11dGVkLCBsaW5lSGVpZ2h0OiAxLjcgfX0+CiAgICAgICAgICA8cCBzdHlsZT17eyBmb250V2VpZ2h0OiA2MDAsIGNvbG9yOiBQLnRleHQsIG1hcmdpbkJvdHRvbTogOCwgZm9udFNpemU6IDEyIH19PlByaXZhY3kgUG9saWN5PC9wPgogICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luOiAiMCAwIDhweCIgfX0+U3RlYWRmYXN0IHN0b3JlcyBhbGwgZGF0YSBsb2NhbGx5IG9uIHlvdXIgZGV2aWNlIHVzaW5nIEluZGV4ZWREQi4gVGhpcyBpbmNsdWRlcyBpbnRlcmFjdGlvbiBsb2dzLCBwcm9maWxlIHNldHRpbmdzLCBwcm9ncmVzcyBzbmFwc2hvdHMsIGFuZCBhbnkgcGhvdG9zIHlvdSBhdHRhY2guPC9wPgogICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luOiAiMCAwIDhweCIgfX0+PHN0cm9uZyBzdHlsZT17eyBjb2xvcjogUC50ZXh0IH19Pk5vIGRhdGEgaXMgY29sbGVjdGVkLCB0cmFuc21pdHRlZCwgb3Igc3RvcmVkIG9uIGFueSBzZXJ2ZXIuPC9zdHJvbmc+IFdlIGhhdmUgbm8gYWNjZXNzIHRvIHlvdXIgZGF0YS4gVGhlcmUgaXMgbm8gYWNjb3VudCwgbm8gbG9naW4sIG5vIGFuYWx5dGljcywgbm8gdHJhY2tpbmcsIGFuZCBubyBjb29raWVzLjwvcD4KICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbjogIjAgMCA4cHgiIH19Pk5vIGV4dGVybmFsIG5ldHdvcmsgcmVxdWVzdHMgYXJlIG1hZGUuIFRoZSBhcHAgdXNlcyBvbmx5IHN5c3RlbSBmb250cyBhbmQgcnVucyBlbnRpcmVseSBvZmZsaW5lIGFmdGVyIGZpcnN0IGxvYWQuPC9wPgogICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luOiAiMCAwIDhweCIgfX0+WW91IGNhbiBleHBvcnQgeW91ciBkYXRhIGFzIGEgSlNPTiBmaWxlIGF0IGFueSB0aW1lIHVzaW5nIHRoZSBFeHBvcnQgYnV0dG9uIGFib3ZlLiBZb3UgY2FuIGVyYXNlIGFsbCBkYXRhIHVzaW5nIHRoZSBFcmFzZSBBbGwgRGF0YSBvcHRpb24gYWJvdmUsIG9yIGJ5IGNsZWFyaW5nIHlvdXIgYnJvd3NlcidzIHNpdGUgZGF0YSBmb3IgdGhpcyBhcHAuPC9wPgogICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luOiAiMCAwIDhweCIgfX0+UGhvdG9zIHlvdSBhdHRhY2ggYXJlIHJlc2l6ZWQgYW5kIHN0b3JlZCBsb2NhbGx5IGFzIHBhcnQgb2YgeW91ciBlbnRyeSBkYXRhLiBUaGV5IGFyZSBuZXZlciB1cGxvYWRlZCBhbnl3aGVyZS48L3A+CiAgICAgICAgICA8cCBzdHlsZT17eyBtYXJnaW46IDAgfX0+Q29udGFjdDogW3lvdXIgZW1haWwgaGVyZV08L3A+CiAgICAgICAgPC9kaXY+CiAgICAgICl9CiAgICA8L01vZGFsPgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgT05CT0FSRElORwovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKZnVuY3Rpb24gT25ib2FyZGluZyh7IG9uRG9uZSB9KSB7CiAgY29uc3QgW3N0ZXAsIHNldFN0ZXBdID0gdXNlU3RhdGUoMCk7CiAgY29uc3QgW2QsIHNldERdID0gdXNlU3RhdGUoeyBjaGlsZEFnZTogIiIsIGN1c3RvZHk6ICIiLCBsb3lhbHR5Q29uZmxpY3Q6ICIiLCB5ZWFyc0luUm9sZTogIiIsIGN1cnJlbnRTdGF0ZTogIiIsIHN0YXJ0RGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pOwogIGNvbnN0IHVwZCA9IChrLCB2KSA9PiBzZXREKHAgPT4gKHsgLi4ucCwgW2tdOiB2IH0pKTsKCiAgY29uc3Qgc3RlcHMgPSBbCiAgICB7IHRpdGxlOiAiQmVmb3JlIHdlIHN0YXJ0Iiwgc3ViOiAiVGhpcyBuZWVkcyB0byBiZSBzYWlkIHVwZnJvbnQuIiwgY29udGVudDogKAogICAgICA8ZGl2PgogICAgICAgIDxwIHN0eWxlPXtjc3Mub2JUZXh0fT5UaGUgcGF0aCB0byBhIGZ1bmN0aW9uYWwgcmVsYXRpb25zaGlwIHdpdGggYSByZXNpc3RhbnQgc3RlcGNoaWxkIHR5cGljYWxseSB0YWtlcyA8c3Ryb25nIHN0eWxlPXt7IGNvbG9yOiBQLndhcm0gfX0+NyB0byAxMiB5ZWFyczwvc3Ryb25nPi4gVGhlIGZhc3Rlc3QgZG9jdW1lbnRlZCBmdWxsIGludGVncmF0aW9uIHdhcyA0IHllYXJzLiBTb21lIGZhbWlsaWVzIG5ldmVyIGdldCB0aGVyZSDigJQgYW5kIGEgc3RhYmxlLCByZXNwZWN0ZnVsIGRpc3RhbmNlIGlzIGEgdmFsaWQgb3V0Y29tZS48L3A+CiAgICAgICAgPHAgc3R5bGU9e2Nzcy5vYlRleHR9Pk5vIGFwcCB3aWxsIGNoYW5nZSB0aGF0IHRpbWVsaW5lLiBXaGF0IHRoaXMgdG9vbCBkb2VzIGlzIG1ha2UgdGhlIGludmlzaWJsZSB2aXNpYmxlIOKAlCBzbyB5b3UgY2FuIHNlZSB3aGV0aGVyIHlvdXIgZWZmb3J0cyBhcmUgcHJvZHVjaW5nIGNoYW5nZSwgZXZlbiB3aGVuIGl0IGRvZXNuJ3QgZmVlbCBsaWtlIGl0LjwvcD4KICAgICAgICA8cCBzdHlsZT17Y3NzLm9iVGV4dH0+WW91J3JlIG5vdCBoZXJlIGJlY2F1c2UgeW91IGZhaWxlZC4gWW91J3JlIGhlcmUgYmVjYXVzZSB5b3UgY2FyZSBlbm91Z2ggdG8gdHJhY2sgd2hhdCdzIGFjdHVhbGx5IGhhcHBlbmluZy48L3A+CiAgICAgIDwvZGl2PgogICAgKX0sCiAgICB7IHRpdGxlOiAiSG93IG9sZCBpcyB0aGUgY2hpbGQ/Iiwgc3ViOiAiQXQgdGhlIHRpbWUgeW91ciBmYW1pbHkgZm9ybWVkIiwgY29udGVudDogKAogICAgICA8ZGl2IHN0eWxlPXtjc3MuY2hpcHN9PntPYmplY3Qua2V5cyhCRU5DSC5hZ2VzKS5tYXAoYSA9PiA8T2JCdG4ga2V5PXthfSBhY3RpdmU9e2QuY2hpbGRBZ2UgPT09IGF9IG9uQ2xpY2s9eygpID0+IHVwZCgiY2hpbGRBZ2UiLCBhKX0+e2F9IHllYXJzPC9PYkJ0bj4pfTwvZGl2PgogICAgKX0sCiAgICB7IHRpdGxlOiAiQ3VzdG9keSBhcnJhbmdlbWVudCIsIGNvbnRlbnQ6ICgKICAgICAgPGRpdiBzdHlsZT17Y3NzLmNoaXBzfT57WyJmdWxsIiwgIjUwLTUwIiwgIndlZWtlbmRzIiwgIm90aGVyIl0ubWFwKGMgPT4gPE9iQnRuIGtleT17Y30gYWN0aXZlPXtkLmN1c3RvZHkgPT09IGN9IG9uQ2xpY2s9eygpID0+IHVwZCgiY3VzdG9keSIsIGMpfT57YyA9PT0gImZ1bGwiID8gIkZ1bGwtdGltZSIgOiBjID09PSAiNTAtNTAiID8gIjUwLzUwIiA6IGMgPT09ICJ3ZWVrZW5kcyIgPyAiV2Vla2VuZHMiIDogIk90aGVyIn08L09iQnRuPil9PC9kaXY+CiAgICApfSwKICAgIHsgdGl0bGU6ICJMb3lhbHR5IGNvbmZsaWN0PyIsIHN1YjogIkRvZXMgdGhlIGNoaWxkIHNlZW0gdG9ybiBiZXR3ZWVuIGFjY2VwdGluZyB5b3UgYW5kIHN0YXlpbmcgbG95YWwgdG8gdGhlaXIgYmlvbG9naWNhbCBwYXJlbnQ/IiwgY29udGVudDogKAogICAgICA8ZGl2IHN0eWxlPXtjc3MuY2hpcHN9PntbIm5vbmUiLCAibWlsZCIsICJzdHJvbmciLCAidW5rbm93biJdLm1hcChsID0+IDxPYkJ0biBrZXk9e2x9IGFjdGl2ZT17ZC5sb3lhbHR5Q29uZmxpY3QgPT09IGx9IG9uQ2xpY2s9eygpID0+IHVwZCgibG95YWx0eUNvbmZsaWN0IiwgbCl9PntsID09PSAibm9uZSIgPyAiTm8gdmlzaWJsZSBjb25mbGljdCIgOiBsID09PSAibWlsZCIgPyAiU29tZSB0ZW5zaW9uIiA6IGwgPT09ICJzdHJvbmciID8gIlN0cm9uZyAvIGFjdGl2ZSIgOiAiSSdtIG5vdCBzdXJlIn08L09iQnRuPil9PC9kaXY+CiAgICApfSwKICAgIHsgdGl0bGU6ICJIb3cgbG9uZyBpbiB0aGlzIHJvbGU/IiwgY29udGVudDogKAogICAgICA8ZGl2IHN0eWxlPXtjc3MuY2hpcHN9PntbIjwgMSIsICIxIiwgIjItMyIsICI0LTYiLCAiNysiXS5tYXAoeSA9PiA8T2JCdG4ga2V5PXt5fSBhY3RpdmU9e2QueWVhcnNJblJvbGUgPT09IHl9IG9uQ2xpY2s9eygpID0+IHVwZCgieWVhcnNJblJvbGUiLCB5KX0+e3l9IHlye3kgIT09ICIxIiAmJiB5ICE9PSAiPCAxIiA/ICJzIiA6ICIifTwvT2JCdG4+KX08L2Rpdj4KICAgICl9LAogICAgeyB0aXRsZTogIkN1cnJlbnQgcmVsYXRpb25zaGlwIHN0YXRlIiwgY29udGVudDogKAogICAgICA8ZGl2IHN0eWxlPXtjc3MuY2hpcHN9PntbImhvc3RpbGUiLCAiYXZvaWRhbnQiLCAidGVuc2UiLCAibmV1dHJhbCIsICJ3YXJtaW5nIl0ubWFwKHMgPT4gPE9iQnRuIGtleT17c30gYWN0aXZlPXtkLmN1cnJlbnRTdGF0ZSA9PT0gc30gb25DbGljaz17KCkgPT4gdXBkKCJjdXJyZW50U3RhdGUiLCBzKX0+e3MuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzLnNsaWNlKDEpfTwvT2JCdG4+KX08L2Rpdj4KICAgICl9LAogICAgeyB0aXRsZTogIllvdXIgcmVhbGlzdGljIGJlbmNobWFyayIsIGNvbnRlbnQ6ICgoKSA9PiB7CiAgICAgIGNvbnN0IGFnZSA9IEJFTkNILmFnZXNbZC5jaGlsZEFnZV07CiAgICAgIHJldHVybiAoCiAgICAgICAgPGRpdj4KICAgICAgICAgIHthZ2UgJiYgPD4KICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTMgfX0+QmFzZWQgb24gd2hhdCB5b3UndmUgc2hhcmVkLCByZXNlYXJjaCBzdWdnZXN0czo8L3A+CiAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAyMiwgZm9udEZhbWlseTogIkdlb3JnaWEsICdUaW1lcyBOZXcgUm9tYW4nLCBzZXJpZiIsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luOiAiMTJweCAwIiB9fT5UeXBpY2FsIHRpbWVsaW5lOiB7YWdlLnR9PC9wPgogICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEzLCBsaW5lSGVpZ2h0OiAxLjYgfX0+e2FnZS5ub3RlfTwvcD4KICAgICAgICAgIDwvPn0KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAxNiwgcGFkZGluZzogMTQsIGJhY2tncm91bmQ6IGAke1AuY2FyZDJ9ODhgLCBib3JkZXJSYWRpdXM6IDEwLCBib3JkZXJMZWZ0OiBgM3B4IHNvbGlkICR7UC53YXJtfTQ0YCB9fT4KICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDEzLCBsaW5lSGVpZ2h0OiAxLjYsIG1hcmdpbjogMCB9fT4KICAgICAgICAgICAgICBUaGlzIHRvb2wgd29uJ3Qgc2hvcnRlbiB0aGF0IHRpbWVsaW5lLiBJdCB3aWxsIG1ha2UgdGhlIHByb2dyZXNzIHdpdGhpbiBpdCB2aXNpYmxlIOKAlCBzbyB5b3UgZG9uJ3QgYWJhbmRvbiB3aGF0J3Mgd29ya2luZywgYW5kIHlvdSBkb24ndCBidXJuIG91dCBmcm9tIGVmZm9ydCB0aGF0IGZlZWxzIGludmlzaWJsZS4KICAgICAgICAgICAgPC9wPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICk7CiAgICB9KSgpfSwKICBdOwoKICBjb25zdCBjYW5HbyA9IHN0ZXAgPT09IDAgfHwgc3RlcCA9PT0gNgogICAgfHwgKHN0ZXAgPT09IDEgJiYgZC5jaGlsZEFnZSkgfHwgKHN0ZXAgPT09IDIgJiYgZC5jdXN0b2R5KQogICAgfHwgKHN0ZXAgPT09IDMgJiYgZC5sb3lhbHR5Q29uZmxpY3QpIHx8IChzdGVwID09PSA0ICYmIGQueWVhcnNJblJvbGUpCiAgICB8fCAoc3RlcCA9PT0gNSAmJiBkLmN1cnJlbnRTdGF0ZSk7CgogIHJldHVybiAoCiAgICA8ZGl2IHN0eWxlPXtjc3Mucm9vdH0+CiAgICAgIDxkaXYgc3R5bGU9e3sgbWF4V2lkdGg6IDUwMCwgbWFyZ2luOiAiMCBhdXRvIiwgcGFkZGluZzogIjQwcHggMjBweCIgfX0+CiAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogNCwgbWFyZ2luQm90dG9tOiAyOCB9fSByb2xlPSJwcm9ncmVzc2JhciIgYXJpYS12YWx1ZW5vdz17c3RlcCArIDF9IGFyaWEtdmFsdWVtaW49ezF9IGFyaWEtdmFsdWVtYXg9ezd9IGFyaWEtbGFiZWw9e2BTdGVwICR7c3RlcCArIDF9IG9mIDdgfT4KICAgICAgICAgIHtzdGVwcy5tYXAoKF8sIGkpID0+IDxkaXYga2V5PXtpfSBzdHlsZT17eyBmbGV4OiAxLCBoZWlnaHQ6IDMsIGJvcmRlclJhZGl1czogMiwgYmFja2dyb3VuZDogaSA8PSBzdGVwID8gUC53YXJtIDogUC5ib3JkZXIsIHRyYW5zaXRpb246ICJiYWNrZ3JvdW5kIC4zcyIgfX0gLz4pfQogICAgICAgIDwvZGl2PgogICAgICAgIDxoMiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMjIsIGZvbnRGYW1pbHk6ICJHZW9yZ2lhLCAnVGltZXMgTmV3IFJvbWFuJywgc2VyaWYiLCBtYXJnaW46ICIwIDAgNnB4IiB9fT57c3RlcHNbc3RlcF0udGl0bGV9PC9oMj4KICAgICAgICB7c3RlcHNbc3RlcF0uc3ViICYmIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDE0LCBtYXJnaW46ICIwIDAgMTZweCIgfX0+e3N0ZXBzW3N0ZXBdLnN1Yn08L3A+fQogICAgICAgIHtzdGVwc1tzdGVwXS5jb250ZW50fQogICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBnYXA6IDEwLCBtYXJnaW5Ub3A6IDI4IH19PgogICAgICAgICAge3N0ZXAgPiAwICYmIDxCdG4gb25DbGljaz17KCkgPT4gc2V0U3RlcChzID0+IHMgLSAxKX0gc2Vjb25kYXJ5PkJhY2s8L0J0bj59CiAgICAgICAgICA8QnRuIG9uQ2xpY2s9eygpID0+IHN0ZXAgPCBzdGVwcy5sZW5ndGggLSAxID8gc2V0U3RlcChzID0+IHMgKyAxKSA6IG9uRG9uZShkKX0gZGlzYWJsZWQ9eyFjYW5Hb30gc3R5bGU9e3sgZmxleDogMSB9fT4KICAgICAgICAgICAge3N0ZXAgPT09IHN0ZXBzLmxlbmd0aCAtIDEgPyAiR2V0IFN0YXJ0ZWQiIDogIkNvbnRpbnVlIn0KICAgICAgICAgIDwvQnRuPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKLy8gIFBSRU1JVU0gR0FURQovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKZnVuY3Rpb24gUHJlbWl1bUdhdGUoeyBmZWF0dXJlLCBkZXNjcmlwdGlvbiwgb25DbG9zZSwgaW5saW5lIH0pIHsKICBjb25zdCBjb250ZW50ID0gKAogICAgPGRpdiBzdHlsZT17eyB0ZXh0QWxpZ246ICJjZW50ZXIiLCBwYWRkaW5nOiBpbmxpbmUgPyAiMzJweCAxNnB4IiA6IDAgfX0+CiAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6IDMyLCBtYXJnaW5Cb3R0b206IDEyIH19PnsiXHUyQjUwIn08L2Rpdj4KICAgICAgPGgzIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxOCwgZm9udEZhbWlseTogIkdlb3JnaWEsICdUaW1lcyBOZXcgUm9tYW4nLCBzZXJpZiIsIG1hcmdpbjogIjAgMCA4cHgiLCBmb250V2VpZ2h0OiA1MDAgfX0+e2ZlYXR1cmV9PC9oMz4KICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxNCwgbGluZUhlaWdodDogMS42LCBtYXJnaW46ICIwIDAgMjBweCIgfX0+e2Rlc2NyaXB0aW9ufTwvcD4KICAgICAgPGRpdiBzdHlsZT17eyBiYWNrZ3JvdW5kOiBQLmJnLCBib3JkZXJSYWRpdXM6IDEyLCBwYWRkaW5nOiAxNiwgbWFyZ2luQm90dG9tOiAxNiB9fT4KICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC53YXJtLCBmb250U2l6ZTogMTYsIGZvbnRXZWlnaHQ6IDYwMCwgbWFyZ2luOiAiMCAwIDRweCIgfX0+U3RlYWRmYXN0IFByZW1pdW08L3A+CiAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTMsIG1hcmdpbjogIjAgMCAxMnB4IiB9fT5VbmxvY2sgZGVlcGVyIGluc2lnaHRzIGludG8geW91ciBqb3VybmV5PC9wPgogICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBmbGV4RGlyZWN0aW9uOiAiY29sdW1uIiwgZ2FwOiA4LCB0ZXh0QWxpZ246ICJsZWZ0IiwgbWF4V2lkdGg6IDI2MCwgbWFyZ2luOiAiMCBhdXRvIiB9fT4KICAgICAgICAgIHtbCiAgICAgICAgICAgICJDb250ZXh0ICYgaW5zaWdodCBwYXR0ZXJuIGFuYWx5c2lzIiwKICAgICAgICAgICAgIk1vbnRobHkgcHJvZ3Jlc3MgY2hlY2staW5zIiwKICAgICAgICAgICAgIlBlcnNvbmFsaXplZCBiZW5jaG1hcmtzIiwKICAgICAgICAgICAgIlBhcnRuZXIgc2hhcmluZyB2aWV3IiwKICAgICAgICAgICAgIlVubGltaXRlZCBwZXJzcGVjdGl2ZSBjYXJkcyIsCiAgICAgICAgICBdLm1hcCgoZiwgaSkgPT4gKAogICAgICAgICAgICA8ZGl2IGtleT17aX0gc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBnYXA6IDgsIGFsaWduSXRlbXM6ICJmbGV4LXN0YXJ0IiB9fT4KICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5ncmVlbiwgZm9udFNpemU6IDEzLCBmbGV4U2hyaW5rOiAwIH19PnsiXHUyNzEzIn08L3NwYW4+CiAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMyB9fT57Zn08L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKSl9CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW1tZXIsIGZvbnRTaXplOiAxMSwgbWFyZ2luOiAwIH19PkNvbWluZyBzb29uLiBZb3UgY2FuIHByZXZpZXcgcHJlbWl1bSBmZWF0dXJlcyBpbiBTZXR0aW5ncy48L3A+CiAgICA8L2Rpdj4KICApOwoKICBpZiAoaW5saW5lKSByZXR1cm4gY29udGVudDsKICByZXR1cm4gPE1vZGFsIG9uQ2xvc2U9e29uQ2xvc2V9IHRpdGxlPSJQcmVtaXVtIEZlYXR1cmUiIHNtYWxsPntjb250ZW50fTwvTW9kYWw+Owp9CgovLyAgU0hBUkVEIFVJIENPTVBPTkVOVFMKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIE1vZGFsKHsgY2hpbGRyZW4sIG9uQ2xvc2UsIHRpdGxlLCB0aXRsZUNvbG9yLCBzbWFsbCB9KSB7CiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIGNvbnN0IG9uS2V5ID0gKGUpID0+IHsgaWYgKGUua2V5ID09PSAiRXNjYXBlIikgb25DbG9zZSgpOyB9OwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIG9uS2V5KTsKICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgb25LZXkpOwogIH0sIFtvbkNsb3NlXSk7CgogIHJldHVybiAoCiAgICA8ZGl2IHN0eWxlPXtjc3Mub3ZlcmxheX0gb25DbGljaz17b25DbG9zZX0gcm9sZT0iZGlhbG9nIiBhcmlhLW1vZGFsPSJ0cnVlIiBhcmlhLWxhYmVsPXt0aXRsZX0+CiAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLm1vZGFsLCBtYXhXaWR0aDogc21hbGwgPyA0MDAgOiA2MDAgfX0gb25DbGljaz17ZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfT4KICAgICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5tb2RhbEhkciwgYm9yZGVyQm90dG9tOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCB9fT4KICAgICAgICAgIDxoMiBzdHlsZT17eyAuLi5jc3MubW9kYWxUaXRsZSwgY29sb3I6IHRpdGxlQ29sb3IgfHwgUC50ZXh0IH19IGlkPSJtb2RhbC10aXRsZSI+e3RpdGxlfTwvaDI+CiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9IHN0eWxlPXtjc3MuY2xvc2VCdG59IGFyaWEtbGFiZWw9IkNsb3NlIGRpYWxvZyI+eyJcdTI3MTUifTwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogIjE2cHggMjBweCAyNHB4Iiwgb3ZlcmZsb3dZOiAiYXV0byIsIGZsZXg6IDEsIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAidG91Y2giIH19PntjaGlsZHJlbn08L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICApOwp9CgpmdW5jdGlvbiBCdG4oeyBjaGlsZHJlbiwgb25DbGljaywgZnVsbCwgc2Vjb25kYXJ5LCBkaXNhYmxlZCwgc3R5bGUgfSkgewogIHJldHVybiAoCiAgICA8YnV0dG9uCiAgICAgIG9uQ2xpY2s9e2Rpc2FibGVkID8gdW5kZWZpbmVkIDogb25DbGlja30KICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfQogICAgICBhcmlhLWRpc2FibGVkPXtkaXNhYmxlZH0KICAgICAgc3R5bGU9e3sKICAgICAgICBiYWNrZ3JvdW5kOiBzZWNvbmRhcnkgPyBQLmNhcmQyIDogYGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICR7UC53YXJtfSwgI0M0OTU2QSlgLAogICAgICAgIGNvbG9yOiBzZWNvbmRhcnkgPyBQLm11dGVkIDogUC5iZywKICAgICAgICBib3JkZXI6IHNlY29uZGFyeSA/IGAxcHggc29saWQgJHtQLmJvcmRlcn1gIDogIm5vbmUiLAogICAgICAgIGJvcmRlclJhZGl1czogMTEsCiAgICAgICAgcGFkZGluZzogIjEycHggMjJweCIsCiAgICAgICAgZm9udFNpemU6IDE0LAogICAgICAgIGZvbnRXZWlnaHQ6IHNlY29uZGFyeSA/IDQwMCA6IDYwMCwKICAgICAgICBjdXJzb3I6IGRpc2FibGVkID8gImRlZmF1bHQiIDogInBvaW50ZXIiLAogICAgICAgIGZvbnRGYW1pbHk6ICJpbmhlcml0IiwKICAgICAgICB3aWR0aDogZnVsbCA/ICIxMDAlIiA6ICJhdXRvIiwKICAgICAgICBvcGFjaXR5OiBkaXNhYmxlZCA/IDAuNCA6IDEsCiAgICAgICAgdHJhbnNpdGlvbjogIm9wYWNpdHkgLjJzIiwKICAgICAgICAuLi5zdHlsZSwKICAgICAgfX0KICAgID4KICAgICAge2NoaWxkcmVufQogICAgPC9idXR0b24+CiAgKTsKfQoKZnVuY3Rpb24gQ2hpcCh7IGNoaWxkcmVuLCBhY3RpdmUsIGNvbG9yLCBvbkNsaWNrLCBzbWFsbCB9KSB7CiAgcmV0dXJuICgKICAgIDxidXR0b24gb25DbGljaz17b25DbGlja30gYXJpYS1wcmVzc2VkPXthY3RpdmV9IHN0eWxlPXt7CiAgICAgIHBhZGRpbmc6IHNtYWxsID8gIjZweCAxMnB4IiA6ICIxMHB4IDE2cHgiLAogICAgICBib3JkZXJSYWRpdXM6IHNtYWxsID8gNyA6IDksCiAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAke2FjdGl2ZSA/IGNvbG9yIDogUC5ib3JkZXJ9YCwKICAgICAgYmFja2dyb3VuZDogYWN0aXZlID8gY29sb3IgKyAiMjIiIDogInRyYW5zcGFyZW50IiwKICAgICAgY29sb3I6IGFjdGl2ZSA/IGNvbG9yIDogUC5kaW0sCiAgICAgIGN1cnNvcjogInBvaW50ZXIiLAogICAgICBmb250U2l6ZTogc21hbGwgPyAxMiA6IDEzLAogICAgICBmb250RmFtaWx5OiAiaW5oZXJpdCIsCiAgICAgIHRyYW5zaXRpb246ICJhbGwgLjE1cyIsCiAgICAgIHdoaXRlU3BhY2U6ICJub3dyYXAiLAogICAgICBtaW5IZWlnaHQ6IDQ0LAogICAgfX0+CiAgICAgIHtjaGlsZHJlbn0KICAgIDwvYnV0dG9uPgogICk7Cn0KCmZ1bmN0aW9uIE9iQnRuKHsgY2hpbGRyZW4sIGFjdGl2ZSwgb25DbGljayB9KSB7CiAgcmV0dXJuICgKICAgIDxidXR0b24gb25DbGljaz17b25DbGlja30gYXJpYS1wcmVzc2VkPXthY3RpdmV9IHN0eWxlPXt7CiAgICAgIHBhZGRpbmc6ICIxMnB4IDIwcHgiLAogICAgICBib3JkZXJSYWRpdXM6IDExLAogICAgICBib3JkZXI6IGAxcHggc29saWQgJHthY3RpdmUgPyBQLndhcm0gOiBQLmJvcmRlcn1gLAogICAgICBiYWNrZ3JvdW5kOiBhY3RpdmUgPyBQLndhcm0gKyAiMTgiIDogInRyYW5zcGFyZW50IiwKICAgICAgY29sb3I6IGFjdGl2ZSA/IFAud2FybSA6IFAubXV0ZWQsCiAgICAgIGN1cnNvcjogInBvaW50ZXIiLAogICAgICBmb250U2l6ZTogMTQsCiAgICAgIGZvbnRGYW1pbHk6ICJpbmhlcml0IiwKICAgICAgdHJhbnNpdGlvbjogImFsbCAuMTVzIiwKICAgICAgbWluSGVpZ2h0OiA0NCwKICAgIH19PgogICAgICB7Y2hpbGRyZW59CiAgICA8L2J1dHRvbj4KICApOwp9CgpmdW5jdGlvbiBTdGF0KHsgbiwgbCB9KSB7CiAgcmV0dXJuICgKICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgYmFja2dyb3VuZDogUC5jYXJkLCBib3JkZXJSYWRpdXM6IDExLCBwYWRkaW5nOiAiMTJweCAxMHB4IiwgdGV4dEFsaWduOiAiY2VudGVyIiwgYm9yZGVyOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCB9fT4KICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTgsIGZvbnRGYW1pbHk6ICJHZW9yZ2lhLCAnVGltZXMgTmV3IFJvbWFuJywgc2VyaWYiLCBmb250V2VpZ2h0OiA2MDAgfX0+e259PC9kaXY+CiAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTAsIG1hcmdpblRvcDogMiB9fT57bH08L2Rpdj4KICAgIDwvZGl2PgogICk7Cn0KCmZ1bmN0aW9uIFNlY3Rpb25UaXRsZSh7IGNoaWxkcmVuIH0pIHsKICByZXR1cm4gPGRpdiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMSwgdGV4dFRyYW5zZm9ybTogInVwcGVyY2FzZSIsIGxldHRlclNwYWNpbmc6ICIwLjA4ZW0iLCBtYXJnaW46ICIxNnB4IDAgOHB4IiwgZm9udFdlaWdodDogNTAwIH19PntjaGlsZHJlbn08L2Rpdj47Cn0KCmZ1bmN0aW9uIFRhYnMoeyBpdGVtcywgYWN0aXZlLCBvblBpY2sgfSkgewogIHJldHVybiAoCiAgICA8ZGl2IHJvbGU9InRhYmxpc3QiIHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiAzLCBtYXJnaW5Cb3R0b206IDE0LCBiYWNrZ3JvdW5kOiBQLmNhcmQsIGJvcmRlclJhZGl1czogOSwgcGFkZGluZzogMyB9fT4KICAgICAge2l0ZW1zLm1hcChpID0+ICgKICAgICAgICA8YnV0dG9uIGtleT17aX0gcm9sZT0idGFiIiBhcmlhLXNlbGVjdGVkPXthY3RpdmUgPT09IGl9IG9uQ2xpY2s9eygpID0+IG9uUGljayhpKX0gc3R5bGU9e3sKICAgICAgICAgIGZsZXg6IDEsIHBhZGRpbmc6ICI4cHggMTBweCIsIGJvcmRlclJhZGl1czogNywgYm9yZGVyOiAibm9uZSIsIGN1cnNvcjogInBvaW50ZXIiLAogICAgICAgICAgZm9udFNpemU6IDEyLCBmb250RmFtaWx5OiAiaW5oZXJpdCIsIGZvbnRXZWlnaHQ6IDUwMCwKICAgICAgICAgIGJhY2tncm91bmQ6IGFjdGl2ZSA9PT0gaSA/IFAud2FybSArICIyOCIgOiAidHJhbnNwYXJlbnQiLAogICAgICAgICAgY29sb3I6IGFjdGl2ZSA9PT0gaSA/IFAud2FybSA6IFAuZGltLAogICAgICAgICAgdHJhbnNpdGlvbjogImFsbCAuMTVzIiwKICAgICAgICB9fT4KICAgICAgICAgIHtpfQogICAgICAgIDwvYnV0dG9uPgogICAgICApKX0KICAgIDwvZGl2PgogICk7Cn0KCmZ1bmN0aW9uIEVudHJ5Um93KHsgZW50cnksIG9uQ2xpY2sgfSkgewogIGNvbnN0IGEgPSBBQ1RJT05TLmZpbmQoeCA9PiB4LmlkID09PSBlbnRyeS5hY3Rpb24pOwogIGNvbnN0IHIgPSBSRVNQT05TRVMuZmluZCh4ID0+IHguaWQgPT09IGVudHJ5LnJlc3BvbnNlKTsKICByZXR1cm4gKAogICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkNsaWNrfSBhcmlhLWxhYmVsPXtgJHthPy5sYWJlbCB8fCAiRW50cnkifSAtICR7cj8ubGFiZWwgfHwgIiJ9IG9uICR7Zm10U2hvcnRZcihlbnRyeS5kYXRlKX1gfSBzdHlsZT17eyAuLi5jc3MuY2FyZCwgd2lkdGg6ICIxMDAlIiwgcGFkZGluZzogMTIsIG1hcmdpbkJvdHRvbTogNiwgdGV4dEFsaWduOiAibGVmdCIsIGN1cnNvcjogInBvaW50ZXIiLCBmb250RmFtaWx5OiAiaW5oZXJpdCIsIGJvcmRlcjogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAgfX0+CiAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBnYXA6IDEwIH19PgogICAgICAgIHtlbnRyeS5waG90byAmJiAoCiAgICAgICAgICA8aW1nIHNyYz17ZW50cnkucGhvdG99IGFsdD0iIiBzdHlsZT17eyB3aWR0aDogNDQsIGhlaWdodDogNDQsIGJvcmRlclJhZGl1czogNywgb2JqZWN0Rml0OiAiY292ZXIiLCBmbGV4U2hyaW5rOiAwLCBib3JkZXI6IGAxcHggc29saWQgJHtQLmJvcmRlcn1gIH19IC8+CiAgICAgICAgKX0KICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IDEsIG1pbldpZHRoOiAwIH19PgogICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGp1c3RpZnlDb250ZW50OiAic3BhY2UtYmV0d2VlbiIsIGFsaWduSXRlbXM6ICJjZW50ZXIiLCBtYXJnaW5Cb3R0b206IGVudHJ5Lm5vdGUgPyA0IDogMCwgZmxleFdyYXA6ICJ3cmFwIiwgZ2FwOiA0IH19PgogICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMSB9fT57Zm10U2hvcnRZcihlbnRyeS5kYXRlKX08L3NwYW4+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBnYXA6IDUsIGFsaWduSXRlbXM6ICJjZW50ZXIiIH19PgogICAgICAgICAgICAgIHthICYmIDxzcGFuIHN0eWxlPXt7IHBhZGRpbmc6ICIycHggN3B4IiwgYm9yZGVyUmFkaXVzOiA1LCBmb250U2l6ZTogMTEsIGJhY2tncm91bmQ6IGEuYyArICIxYSIsIGNvbG9yOiBhLmMgfX0+e2EuaWNvbn0ge2EubGFiZWx9PC9zcGFuPn0KICAgICAgICAgICAgICB7ciAmJiA8c3BhbiBzdHlsZT17eyBwYWRkaW5nOiAiMnB4IDdweCIsIGJvcmRlclJhZGl1czogNSwgZm9udFNpemU6IDExLCBiYWNrZ3JvdW5kOiByLmMgKyAiMWEiLCBjb2xvcjogci5jIH19PntyLmljb259PC9zcGFuPn0KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIHtlbnRyeS5ub3RlICYmIDxwIHN0eWxlPXt7IGNvbG9yOiBQLm11dGVkLCBmb250U2l6ZTogMTIsIG1hcmdpbjogMCwgbGluZUhlaWdodDogMS40IH19PntlbnRyeS5ub3RlLnNsaWNlKDAsIDEwMCl9e2VudHJ5Lm5vdGUubGVuZ3RoID4gMTAwID8gIuKApiIgOiAiIn08L3A+fQogICAgICAgICAge2VudHJ5LmNvbnRleHRzPy5sZW5ndGggPiAwICYmICgKICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogMywgZmxleFdyYXA6ICJ3cmFwIiwgbWFyZ2luVG9wOiA0IH19PgogICAgICAgICAgICAgIHtlbnRyeS5jb250ZXh0cy5tYXAoYyA9PiA8c3BhbiBrZXk9e2N9IHN0eWxlPXt7IHBhZGRpbmc6ICIxcHggNXB4IiwgYm9yZGVyUmFkaXVzOiAzLCBmb250U2l6ZTogOSwgY29sb3I6IFAuZGltLCBiYWNrZ3JvdW5kOiBQLmNhcmQyIH19PntjfTwvc3Bhbj4pfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICl9CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgPC9idXR0b24+CiAgKTsKfQoKZnVuY3Rpb24gQmVuY2hJdGVtKHsgbGFiZWwsIHZhbHVlIH0pIHsKICByZXR1cm4gKAogICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTEsIGRpc3BsYXk6ICJmbGV4IiwgZmxleERpcmVjdGlvbjogImNvbHVtbiIsIGdhcDogMyB9fT4KICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTEgfX0+e2xhYmVsfTwvc3Bhbj4KICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDEzLCB0ZXh0VHJhbnNmb3JtOiAiY2FwaXRhbGl6ZSIgfX0+e3ZhbHVlfTwvc3Bhbj4KICAgIDwvZGl2PgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgU1RZTEVTCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkApjb25zdCBjc3NfY2hpcCA9IChhY3RpdmUsIGNvbG9yKSA9PiAoewogIHBhZGRpbmc6ICI0cHggOXB4IiwKICBib3JkZXJSYWRpdXM6IDcsCiAgYm9yZGVyOiBgMXB4IHNvbGlkICR7YWN0aXZlID8gY29sb3IgOiBQLmJvcmRlcn1gLAogIGJhY2tncm91bmQ6IGFjdGl2ZSA/IGNvbG9yICsgIjIyIiA6ICJ0cmFuc3BhcmVudCIsCiAgY29sb3I6IGFjdGl2ZSA/IGNvbG9yIDogUC5kaW0sCiAgY3Vyc29yOiAicG9pbnRlciIsCiAgZm9udFNpemU6IDExLAogIGZvbnRGYW1pbHk6ICJpbmhlcml0IiwKICB3aGl0ZVNwYWNlOiAibm93cmFwIiwKfSk7Cgpjb25zdCBjc3MgPSB7CiAgcm9vdDogeyBiYWNrZ3JvdW5kOiBQLmJnLCBtaW5IZWlnaHQ6ICIxMDB2aCIsIGZvbnRGYW1pbHk6ICItYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICdTZWdvZSBVSScsIFJvYm90bywgc2Fucy1zZXJpZiIsIGNvbG9yOiAiI0QxRDVEQiIsIFdlYmtpdEZvbnRTbW9vdGhpbmc6ICJhbnRpYWxpYXNlZCIgfSwKICBzaGVsbDogeyBtYXhXaWR0aDogNjAwLCBtYXJnaW46ICIwIGF1dG8iLCBwb3NpdGlvbjogInJlbGF0aXZlIiB9LAogIGhkcjogeyBwYWRkaW5nOiAibWF4KDIycHgsIGNhbGMoZW52KHNhZmUtYXJlYS1pbnNldC10b3AsIDIycHgpICsgOHB4KSkgMTZweCAxMHB4IiwgZGlzcGxheTogImZsZXgiLCBqdXN0aWZ5Q29udGVudDogInNwYWNlLWJldHdlZW4iLCBhbGlnbkl0ZW1zOiAiZmxleC1zdGFydCIgfSwKICBsb2dvOiB7IGZvbnRTaXplOiAyNiwgZm9udEZhbWlseTogIkdlb3JnaWEsICdUaW1lcyBOZXcgUm9tYW4nLCBzZXJpZiIsIGNvbG9yOiBQLnRleHQsIG1hcmdpbjogMCwgZm9udFdlaWdodDogNTAwLCBsZXR0ZXJTcGFjaW5nOiAiLTAuMDJlbSIgfSwKICBzdWI6IHsgZm9udFNpemU6IDExLCBjb2xvcjogUC5kaW0sIG1hcmdpbjogIjJweCAwIDAiLCBmb250U3R5bGU6ICJpdGFsaWMiIH0sCiAgaWNvbkJ0bjogeyBiYWNrZ3JvdW5kOiAibm9uZSIsIGJvcmRlcjogIm5vbmUiLCBjb2xvcjogUC5kaW0sIGN1cnNvcjogInBvaW50ZXIiLCBwYWRkaW5nOiAxMiwgZm9udFNpemU6IDE4LCBtaW5XaWR0aDogNDQsIG1pbkhlaWdodDogNDQsIGRpc3BsYXk6ICJmbGV4IiwgYWxpZ25JdGVtczogImNlbnRlciIsIGp1c3RpZnlDb250ZW50OiAiY2VudGVyIiB9LAogIG5hdjogeyBkaXNwbGF5OiAiZmxleCIsIGJvcmRlckJvdHRvbTogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAsIHBhZGRpbmc6ICIwIDhweCIsIG92ZXJmbG93WDogImF1dG8iIH0sCiAgbmF2QnRuOiB7IGZsZXg6IDEsIGJhY2tncm91bmQ6ICJub25lIiwgYm9yZGVyOiAibm9uZSIsIGN1cnNvcjogInBvaW50ZXIiLCBwYWRkaW5nOiAiMTJweCA2cHggMTBweCIsIG1pbkhlaWdodDogNDgsIGRpc3BsYXk6ICJmbGV4IiwgZmxleERpcmVjdGlvbjogImNvbHVtbiIsIGFsaWduSXRlbXM6ICJjZW50ZXIiLCBnYXA6IDIsIGZvbnRGYW1pbHk6ICJpbmhlcml0IiwgdHJhbnNpdGlvbjogImNvbG9yIC4ycyIgfSwKICBmYWI6IHsgcG9zaXRpb246ICJmaXhlZCIsIGJvdHRvbTogMjIsIHJpZ2h0OiAyMiwgd2lkdGg6IDU0LCBoZWlnaHQ6IDU0LCBib3JkZXJSYWRpdXM6IDI3LCBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHtQLndhcm19LCAjQzQ5NTZBKWAsIGNvbG9yOiBQLmJnLCBib3JkZXI6ICJub25lIiwgY3Vyc29yOiAicG9pbnRlciIsIGRpc3BsYXk6ICJmbGV4IiwgYWxpZ25JdGVtczogImNlbnRlciIsIGp1c3RpZnlDb250ZW50OiAiY2VudGVyIiwgYm94U2hhZG93OiBgMCA0cHggMjBweCAke1Aud2FybX00NGAsIHpJbmRleDogNTAgfSwKICBjYXJkOiB7IGJhY2tncm91bmQ6IFAuY2FyZCwgYm9yZGVyUmFkaXVzOiAxMiwgYm9yZGVyOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCB9LAogIHByb21wdDogeyB3aWR0aDogIjEwMCUiLCBiYWNrZ3JvdW5kOiBQLmNhcmQsIGJvcmRlcjogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAsIGJvcmRlclJhZGl1czogMTIsIHBhZGRpbmc6IDE0LCBkaXNwbGF5OiAiZmxleCIsIGdhcDogMTAsIGFsaWduSXRlbXM6ICJmbGV4LXN0YXJ0IiwgY3Vyc29yOiAicG9pbnRlciIsIHRleHRBbGlnbjogImxlZnQiLCBtYXJnaW5Cb3R0b206IDEwLCBmb250RmFtaWx5OiAiaW5oZXJpdCIgfSwKICBvdmVybGF5OiB7IHBvc2l0aW9uOiAiZml4ZWQiLCBpbnNldDogMCwgYmFja2dyb3VuZDogInJnYmEoMCwwLDAsLjcyKSIsIGJhY2tkcm9wRmlsdGVyOiAiYmx1cig0cHgpIiwgekluZGV4OiAxMDAsIGRpc3BsYXk6ICJmbGV4IiwgYWxpZ25JdGVtczogImZsZXgtZW5kIiwganVzdGlmeUNvbnRlbnQ6ICJjZW50ZXIiIH0sCiAgbW9kYWw6IHsgYmFja2dyb3VuZDogUC5jYXJkLCBib3JkZXJSYWRpdXM6ICIxOHB4IDE4cHggMCAwIiwgd2lkdGg6ICIxMDAlIiwgbWF4SGVpZ2h0OiAibWluKDg1dmgsIGNhbGMoMTAwZHZoIC0gNDBweCkpIiwgb3ZlcmZsb3c6ICJoaWRkZW4iLCBib3JkZXI6IGAxcHggc29saWQgJHtQLmJvcmRlcn1gLCBib3JkZXJCb3R0b206ICJub25lIiwgZGlzcGxheTogImZsZXgiLCBmbGV4RGlyZWN0aW9uOiAiY29sdW1uIiB9LAogIG1vZGFsSGRyOiB7IGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiwgYWxpZ25JdGVtczogImNlbnRlciIsIHBhZGRpbmc6ICIxNHB4IDE2cHggMCIsIGZsZXhTaHJpbms6IDAsIGJhY2tncm91bmQ6IFAuY2FyZCwgekluZGV4OiAxMCB9LAogIG1vZGFsVGl0bGU6IHsgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDE3LCBmb250RmFtaWx5OiAiR2VvcmdpYSwgJ1RpbWVzIE5ldyBSb21hbicsIHNlcmlmIiwgbWFyZ2luOiAwLCBmb250V2VpZ2h0OiA1MDAgfSwKICBjbG9zZUJ0bjogeyBiYWNrZ3JvdW5kOiAibm9uZSIsIGJvcmRlcjogIm5vbmUiLCBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxNywgY3Vyc29yOiAicG9pbnRlciIsIHBhZGRpbmc6IDEyLCBtaW5XaWR0aDogNDQsIG1pbkhlaWdodDogNDQsIGRpc3BsYXk6ICJmbGV4IiwgYWxpZ25JdGVtczogImNlbnRlciIsIGp1c3RpZnlDb250ZW50OiAiY2VudGVyIiB9LAogIGxhYmVsOiB7IGRpc3BsYXk6ICJibG9jayIsIGNvbG9yOiBQLm11dGVkLCBmb250U2l6ZTogMTIsIG1hcmdpbkJvdHRvbTogNywgZm9udFdlaWdodDogNTAwIH0sCiAgZGF0ZUluOiB7IGJhY2tncm91bmQ6IFAuYmcsIGJvcmRlcjogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAsIGJvcmRlclJhZGl1czogOCwgcGFkZGluZzogIjlweCAxMXB4IiwgY29sb3I6ICIjRDFENURCIiwgZm9udFNpemU6IDE0LCBmb250RmFtaWx5OiAiaW5oZXJpdCIsIG1hcmdpbkJvdHRvbTogMTQsIHdpZHRoOiAiMTAwJSIsIGJveFNpemluZzogImJvcmRlci1ib3giLCBjb2xvclNjaGVtZTogImRhcmsiIH0sCiAgY2hpcHM6IHsgZGlzcGxheTogImZsZXgiLCBmbGV4V3JhcDogIndyYXAiLCBnYXA6IDcsIG1hcmdpbkJvdHRvbTogMTQgfSwKICB0ZXh0YXJlYTogeyB3aWR0aDogIjEwMCUiLCBiYWNrZ3JvdW5kOiBQLmJnLCBib3JkZXI6IGAxcHggc29saWQgJHtQLmJvcmRlcn1gLCBib3JkZXJSYWRpdXM6IDksIHBhZGRpbmc6IDExLCBjb2xvcjogIiNEMUQ1REIiLCBmb250U2l6ZTogMTQsIGZvbnRGYW1pbHk6ICJpbmhlcml0IiwgcmVzaXplOiAidmVydGljYWwiLCBib3hTaXppbmc6ICJib3JkZXItYm94IiwgbGluZUhlaWdodDogMS41IH0sCiAgdGV4dEJ0bjogeyBiYWNrZ3JvdW5kOiAibm9uZSIsIGJvcmRlcjogIm5vbmUiLCBjdXJzb3I6ICJwb2ludGVyIiwgZm9udFNpemU6IDEzLCBmb250RmFtaWx5OiAiaW5oZXJpdCIsIHBhZGRpbmc6ICI2cHggMTRweCIgfSwKICBvYlRleHQ6IHsgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxNSwgbGluZUhlaWdodDogMS43LCBtYXJnaW46ICIwIDAgMTJweCIgfSwKICB0aDogeyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMCwgZm9udFdlaWdodDogNTAwLCBwYWRkaW5nOiAiNnB4IDRweCIsIGJvcmRlckJvdHRvbTogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAsIHRleHRBbGlnbjogImNlbnRlciIgfSwKICB0ZDogeyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDExLCBwYWRkaW5nOiAiOHB4IDRweCIsIGJvcmRlckJvdHRvbTogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAsIHZlcnRpY2FsQWxpZ246ICJ0b3AiIH0sCn07ClJlYWN0RE9NLmNyZWF0ZVJvb3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJvb3QiKSkucmVuZGVyKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXBwKSk7"),function(c){return c.charCodeAt(0)});
var c=new TextDecoder("utf-8").decode(b);
var t=Babel.transform(c,{presets:["react","env"]}).code;
var s=document.createElement("script");
s.textContent=t;
document.body.appendChild(s);
</script>
</body>
</html>
