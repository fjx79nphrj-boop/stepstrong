<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#0f1117">
<title>Steadfast</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html, body, #root { min-height: 100vh; background: #0f1117; }
body { overscroll-behavior: none; }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.24.7/babel.min.js"></script>
</head>
<body>
<div id="root"></div>
<script>
var c=atob("Y29uc3QgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZU1lbW8gfSA9IFJlYWN0OwoKCi8qIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAogICBTVEVBREZBU1Qg4oCUIFN0ZXBwYXJlbnQgUmVsYXRpb25zaGlwIFRyYWNrZXIKICAgTG9jYWwtZmlyc3QgUFdBIOKAoiBObyBiYWNrZW5kIOKAoiBJbmRleGVkREIKICAg4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQICovCgovLyDilIDilIAgRm9udHM6IHN5c3RlbSBmb250cyBvbmx5IChubyBleHRlcm5hbCByZXF1ZXN0cykg4pSA4pSACgovLyDilIDilIAgSW5kZXhlZERCIOKUgOKUgApjb25zdCBEQiA9ICJzdGVhZGZhc3RfdjEiOwpjb25zdCBWRVIgPSAxOwpjb25zdCBTID0geyBlbnRyaWVzOiAiZW50cmllcyIsIHByb2ZpbGU6ICJwcm9maWxlIiwgc25hcHNob3RzOiAic25hcHNob3RzIiB9OwoKZnVuY3Rpb24gaWRiKCkgewogIHJldHVybiBuZXcgUHJvbWlzZSgob2ssIGZhaWwpID0+IHsKICAgIGNvbnN0IHIgPSBpbmRleGVkREIub3BlbihEQiwgVkVSKTsKICAgIHIub251cGdyYWRlbmVlZGVkID0gKGUpID0+IHsKICAgICAgY29uc3QgZCA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgaWYgKCFkLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoUy5lbnRyaWVzKSkgewogICAgICAgIGNvbnN0IHMgPSBkLmNyZWF0ZU9iamVjdFN0b3JlKFMuZW50cmllcywgeyBrZXlQYXRoOiAiaWQiIH0pOwogICAgICAgIHMuY3JlYXRlSW5kZXgoImRhdGUiLCAiZGF0ZSIpOwogICAgICB9CiAgICAgIGlmICghZC5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKFMucHJvZmlsZSkpCiAgICAgICAgZC5jcmVhdGVPYmplY3RTdG9yZShTLnByb2ZpbGUsIHsga2V5UGF0aDogImtleSIgfSk7CiAgICAgIGlmICghZC5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKFMuc25hcHNob3RzKSkKICAgICAgICBkLmNyZWF0ZU9iamVjdFN0b3JlKFMuc25hcHNob3RzLCB7IGtleVBhdGg6ICJpZCIgfSk7CiAgICB9OwogICAgci5vbnN1Y2Nlc3MgPSAoKSA9PiBvayhyLnJlc3VsdCk7CiAgICByLm9uZXJyb3IgPSAoKSA9PiBmYWlsKHIuZXJyb3IpOwogIH0pOwp9CmFzeW5jIGZ1bmN0aW9uIHB1dChzLCBkKSB7IGNvbnN0IGRiID0gYXdhaXQgaWRiKCk7IHJldHVybiBuZXcgUHJvbWlzZSgob2ssIGYpID0+IHsgY29uc3QgdCA9IGRiLnRyYW5zYWN0aW9uKHMsICJyZWFkd3JpdGUiKTsgdC5vYmplY3RTdG9yZShzKS5wdXQoZCk7IHQub25jb21wbGV0ZSA9ICgpID0+IG9rKCk7IHQub25lcnJvciA9ICgpID0+IGYodC5lcnJvcik7IH0pOyB9CmFzeW5jIGZ1bmN0aW9uIGdldEFsbChzKSB7IGNvbnN0IGRiID0gYXdhaXQgaWRiKCk7IHJldHVybiBuZXcgUHJvbWlzZSgob2ssIGYpID0+IHsgY29uc3QgciA9IGRiLnRyYW5zYWN0aW9uKHMsICJyZWFkb25seSIpLm9iamVjdFN0b3JlKHMpLmdldEFsbCgpOyByLm9uc3VjY2VzcyA9ICgpID0+IG9rKHIucmVzdWx0KTsgci5vbmVycm9yID0gKCkgPT4gZihyLmVycm9yKTsgfSk7IH0KYXN5bmMgZnVuY3Rpb24gZ2V0KHMsIGspIHsgY29uc3QgZGIgPSBhd2FpdCBpZGIoKTsgcmV0dXJuIG5ldyBQcm9taXNlKChvaywgZikgPT4geyBjb25zdCByID0gZGIudHJhbnNhY3Rpb24ocywgInJlYWRvbmx5Iikub2JqZWN0U3RvcmUocykuZ2V0KGspOyByLm9uc3VjY2VzcyA9ICgpID0+IG9rKHIucmVzdWx0KTsgci5vbmVycm9yID0gKCkgPT4gZihyLmVycm9yKTsgfSk7IH0KYXN5bmMgZnVuY3Rpb24gZGVsKHMsIGspIHsgY29uc3QgZGIgPSBhd2FpdCBpZGIoKTsgcmV0dXJuIG5ldyBQcm9taXNlKChvaywgZikgPT4geyBjb25zdCB0ID0gZGIudHJhbnNhY3Rpb24ocywgInJlYWR3cml0ZSIpOyB0Lm9iamVjdFN0b3JlKHMpLmRlbGV0ZShrKTsgdC5vbmNvbXBsZXRlID0gKCkgPT4gb2soKTsgdC5vbmVycm9yID0gKCkgPT4gZih0LmVycm9yKTsgfSk7IH0KCi8vIOKUgOKUgCBDb25zdGFudHMg4pSA4pSACmNvbnN0IEFDVElPTlMgPSBbCiAgeyBpZDogInNlcnZpY2UiLCBsYWJlbDogIlF1aWV0IGFjdCBvZiBzZXJ2aWNlIiwgaWNvbjogIvCfq6ciLCBjOiAiIzdFQjhBMiIgfSwKICB7IGlkOiAiYWN0aXZpdHkiLCBsYWJlbDogIlNoYXJlZCBhY3Rpdml0eSIsIGljb246ICLwn46vIiwgYzogIiM4QkFFRDQiIH0sCiAgeyBpZDogImNvbnZlcnNhdGlvbiIsIGxhYmVsOiAiRGlyZWN0IGNvbnZlcnNhdGlvbiIsIGljb246ICLwn5KsIiwgYzogIiNDNEE2RDgiIH0sCiAgeyBpZDogImdpZnQiLCBsYWJlbDogIkdpZnQgb3IgdHJlYXQiLCBpY29uOiAi8J+OgSIsIGM6ICIjRDRBNTc0IiB9LAogIHsgaWQ6ICJwcmVzZW5jZSIsIGxhYmVsOiAiQmVpbmcgcHJlc2VudCIsIGljb246ICLwn6qRIiwgYzogIiNBOEM1QTAiIH0sCiAgeyBpZDogInNwYWNlIiwgbGFiZWw6ICJHYXZlIHNwYWNlIiwgaWNvbjogIvCfjL8iLCBjOiAiIzlEQjhDNyIgfSwKICB7IGlkOiAiYm91bmRhcnkiLCBsYWJlbDogIkJvdW5kYXJ5LXNldHRpbmciLCBpY29uOiAi8J+boe+4jyIsIGM6ICIjQzlBMEEwIiB9LApdOwoKY29uc3QgUkVTUE9OU0VTID0gWwogIHsgaWQ6ICJwb3NpdGl2ZSIsIGxhYmVsOiAiUG9zaXRpdmUgZW5nYWdlbWVudCIsIGljb246ICLinKgiLCBjOiAiIzdFQjhBMiIsIHNjb3JlOiA0IH0sCiAgeyBpZDogIm5ldXRyYWwiLCBsYWJlbDogIk5ldXRyYWwgYWNrbm93bGVkZ21lbnQiLCBpY29uOiAi4p6WIiwgYzogIiM5REI4QzciLCBzY29yZTogMyB9LAogIHsgaWQ6ICJ3aXRoZHJhd2FsIiwgbGFiZWw6ICJQYXNzaXZlIHdpdGhkcmF3YWwiLCBpY29uOiAi8J+aqiIsIGM6ICIjQzlBMEEwIiwgc2NvcmU6IDIgfSwKICB7IGlkOiAicmVqZWN0aW9uIiwgbGFiZWw6ICJBY3RpdmUgcmVqZWN0aW9uIiwgaWNvbjogIvCflLQiLCBjOiAiI0Q0Nzk2QiIsIHNjb3JlOiAxIH0sCiAgeyBpZDogImVzY2FsYXRpb24iLCBsYWJlbDogIkVzY2FsYXRpb24iLCBpY29uOiAi4pqhIiwgYzogIiNCODVDNEYiLCBzY29yZTogMCB9LApdOwoKY29uc3QgQ09OVEVYVFMgPSBbCiAgIk1vcm5pbmciLCAiQWZ0ZXJub29uIiwgIkV2ZW5pbmciLCAiTmlnaHQiLAogICJBZnRlciBjdXN0b2R5IHRyYW5zaXRpb24iLCAiQWZ0ZXIgYmlvLXBhcmVudCBjb250YWN0IiwKICAiQWZ0ZXIgZGlzY2lwbGluZSBtb21lbnQiLCAiRHVyaW5nIHNoYXJlZCBhY3Rpdml0eSIsCiAgIkF0IG1lYWx0aW1lIiwgIkF0IGJlZHRpbWUiLCAiV2Vla2VuZCIsICJTY2hvb2wgZGF5IiwKICAiSG9saWRheSAvIHNwZWNpYWwgb2NjYXNpb24iLCAiQWZ0ZXIgYXJndW1lbnQgd2l0aCBwYXJ0bmVyIiwKXTsKCmNvbnN0IENBUkRTID0gWwogIHsKICAgIHRyaWdnZXJzOiBbInJlamVjdGlvbiIsICJlc2NhbGF0aW9uIl0sCiAgICB0aXRsZTogIlRoZSBMb3lhbHR5IEJpbmQiLAogICAgYm9keTogIkNoaWxkcmVuIG9mdGVuIHJlamVjdCBzdGVwcGFyZW50cyBub3QgYmVjYXVzZSB0aGV5IGRpc2xpa2UgdGhlbSwgYnV0IGJlY2F1c2UgYWNjZXB0YW5jZSBmZWVscyBsaWtlIGJldHJheWluZyB0aGVpciBiaW9sb2dpY2FsIHBhcmVudC4gVGhlIHJlamVjdGlvbiB5b3UncmUgZmVlbGluZyBpcyByYXJlbHkgYWJvdXQgeW91IOKAlCBpdCdzIGFib3V0IHRoZSBpbXBvc3NpYmxlIGVtb3Rpb25hbCBtYXRoIHRoZSBjaGlsZCBpcyB0cnlpbmcgdG8gc29sdmUuIiwKICAgIHNyYzogIkJyYWl0aHdhaXRlIGV0IGFsLiwgMjAxOCIsCiAgICBxdW90ZTogIlwiSXQgd2FzIGFsbCBpbiBteSBoZWFkLiBJIHdvdWxkbid0IHdhbnQgdG8gZ28gb3V0IHdpdGggbXkgZGFkJ3MgZmFtaWx5LCBiZWNhdXNlIEkgZGlkbid0IGZlZWwgY29tZm9ydGFibGUsIG5vciBkaWQgSSBmZWVsIGxpa2UgSSBmaXQgaW4uIEl0IHdhc24ndCBteSBzdGVwbW9tJ3MgZmF1bHQsIG5vciBteSBkYWQncy5cIiIsCiAgICB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBub3cgMzAiLAogIH0sCiAgewogICAgdHJpZ2dlcnM6IFsicmVqZWN0aW9uIl0sCiAgICB0aXRsZTogIldoYXQgVGhleSdsbCBSZW1lbWJlciIsCiAgICBib2R5OiAiQWR1bHQgc3RlcGNoaWxkcmVuIGNvbnNpc3RlbnRseSByZXBvcnQgdGhhdCB0aGUgdGhpbmdzIHRoZXkgcmVtZW1iZXIgbW9zdCBhcmUgTk9UIGdyYW5kIGdlc3R1cmVzLiBJdCdzIHRoZSBpcm9uZWQgc2hpcnQuIFRoZSBtZWRpY2luZSBsZWZ0IHdpdGhvdXQgYSB3b3JkLiBUaGUgY29sbGVnZSBmZWVzIHBhaWQgcXVpZXRseS4gVGhpbmdzIGRvbmUgd2l0aG91dCBhbnkgZXhwZWN0YXRpb24gb2YgYWNrbm93bGVkZ21lbnQuIiwKICAgIHF1b3RlOiAiXCJTaGUgc3RvcHBlZCB0cnlpbmcgdG8gYm9uZC4gQnV0IHNoZSBzdGlsbCBsZWZ0IG1lZGljaW5lIG9uIG15IGJlZHNpZGUgd2hlbiBJIHdhcyBzaWNrLiBTdGlsbCBwYWlkIG15IGNvbGxlZ2UgYXBwbGljYXRpb24gZmVlcyBxdWlldGx5LiBPbiBteSBmaXJzdCBqb2IgaW50ZXJ2aWV3IGRheSwgc2hlIGlyb25lZCBteSBzaGlydCBhbmQgc2FpZCBub3RoaW5nIGVsc2UuIFRoYXQgaHVydCBtb3JlIHRoYW4gYW55IGFyZ3VtZW50LlwiIiwKICAgIHdobzogIkFkdWx0IHN0ZXBjaGlsZCByZWZsZWN0aW9uIiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbInJlamVjdGlvbiIsICJlc2NhbGF0aW9uIl0sCiAgICB0aXRsZTogIlwiWW91J3JlIE5vdCBNeSBSZWFsIFBhcmVudFwiIiwKICAgIGJvZHk6ICJUaGlzIHBocmFzZSBpcyB0aGUgbW9zdCBjb21tb25seSBjaXRlZCB2ZXJiYWwgd2VhcG9uLiBCdXQgcmVzZWFyY2ggc2hvd3MgaXQgcmVmbGVjdHMgdGhlIGNoaWxkJ3MgZmVhciBvZiBsb3NpbmcgdGhlaXIgYmlvbG9naWNhbCBwYXJlbnQsIG5vdCBhIGdlbnVpbmUgYXNzZXNzbWVudC4gQ2hpbGRyZW4gdXNlIGl0IHByZWNpc2VseSBiZWNhdXNlIHRoZXkga25vdyBpdCB3aWxsIGxhbmQg4oCUIHdoaWNoIHBhcmFkb3hpY2FsbHkgbWVhbnMgdGhlIHJlbGF0aW9uc2hpcCBtYXR0ZXJzIGVub3VnaCB0byB3ZWFwb25pemUuIiwKICAgIHF1b3RlOiAiXCJJJ20gc29ycnkgSSBuZXZlciBnYXZlIHlvdSBhIGNoYW5jZTsgYSBmYWlyLCBlcXVhbCBjaGFuY2UuIEkgY29tcGFyZWQgeW91IHRvIG15IGZhdGhlciwgYW5kIHRob3VnaHQgeW91IHdlcmUgc3RlYWxpbmcgbXkgbW90aGVyLiBJIHdhcyBhZnJhaWQgSSB3YXMgbG9zaW5nIGhlci4gWW91IHRhdWdodCBtZSB3aGF0IGEgbWFuIHNob3VsZCBiZSB0byBhIHdvbWFuLlwiIiwKICAgIHdobzogIkFkdWx0IHN0ZXBjaGlsZCwgbG9va2luZyBiYWNrIiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbIndpdGhkcmF3YWwiXSwKICAgIHRpdGxlOiAiV2l0aGRyYXdhbCBJc24ndCBSZWplY3Rpb24iLAogICAgYm9keTogIldoZW4gYSBjaGlsZCB3aXRoZHJhd3Mg4oCUIGxlYXZlcyB0aGUgcm9vbSwgZ29lcyBzaWxlbnQsIGF2b2lkcyDigJQgaXQgZmVlbHMgbGlrZSByZWplY3Rpb24uIEJ1dCB3aXRoZHJhd2FsIGlzIG9mdGVuIGEgc2VsZi1wcm90ZWN0aXZlIG1lY2hhbmlzbSwgbm90IGFuIG9mZmVuc2l2ZSBvbmUuIFRoZSBjaGlsZCBtYXkgYmUgb3ZlcndoZWxtZWQsIHByb2Nlc3NpbmcsIG9yIHNpbXBseSBub3QgcmVhZHkuIFdpdGhkcmF3YWwgaXMgb2Z0ZW4gYSBzaWduIHRoZXkncmUgYXdhcmUgb2YgdGhlIHJlbGF0aW9uc2hpcCwgbm90IGluZGlmZmVyZW50IHRvIGl0LiIsCiAgICBxdW90ZTogIlwiV2hlbiBJIGZlbHQgaGVyIHB1bGxiYWNrIGFzIGEga2lkLCBJIGZlbHQgc2hlIGRpZG4ndCBjYXJlIGlmIEkgd2FzIHRoZXJlIG9yIG5vdCBhcyBsb25nIGFzIHNoZSBoYWQgbXkgZGFkLiBBbmQgdGhhdCdzIHdoYXQgd2UgZG9uJ3Qgd2FudCBvdXIgYm9udXMgY2hpbGRyZW4gdGhpbmtpbmcsIHRoZXkgYXJlbid0IHdhbnRlZC5cIiIsCiAgICB3aG86ICJGb3JtZXIgc3RlcGNoaWxkIHBlcnNwZWN0aXZlIiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbIm5ldXRyYWwiLCAicG9zaXRpdmUiXSwKICAgIHRpdGxlOiAiTmV1dHJhbCBJcyBQcm9ncmVzcyIsCiAgICBib2R5OiAiSW4gc3RlcGZhbWlseSBkeW5hbWljcywgYSBuZXV0cmFsIHJlc3BvbnNlIElTIGEgcG9zaXRpdmUgc2lnbmFsLiBJZiB0aGUgY2hpbGQgYWNjZXB0ZWQgd2hhdCB5b3Ugb2ZmZXJlZCB3aXRob3V0IHJlc2lzdGFuY2Ug4oCUIGV2ZW4gd2l0aG91dCB3YXJtdGgg4oCUIHRoYXQncyBtb3ZlbWVudC4gVGhlIHBhdGggdHlwaWNhbGx5IGdvZXM6IGhvc3RpbGl0eSDihpIgYXZvaWRhbmNlIOKGkiB0b2xlcmFuY2Ug4oaSIG5ldXRyYWwgYWNjZXB0YW5jZSDihpIgb2NjYXNpb25hbCB3YXJtdGguIFlvdSBtYXkgYmUgZnVydGhlciBhbG9uZyB0aGFuIHlvdSB0aGluay4iLAogICAgc3JjOiAiU3RlcGZhbWlseSBpbnRlZ3JhdGlvbiB0eXBpY2FsbHkgdGFrZXMgN+KAkzEyIHllYXJzLiBOZXV0cmFsIGFjY2VwdGFuY2UgaXMgYSBtYWpvciBtaWxlc3RvbmUuIiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbInJlamVjdGlvbiIsICJ3aXRoZHJhd2FsIiwgImVzY2FsYXRpb24iXSwKICAgIHRpdGxlOiAiVGhlIDIgQU0gVHJ1dGgiLAogICAgYm9keTogIlJpZ2h0IG5vdywgZXZlcnl0aGluZyBmZWVscyBhbXBsaWZpZWQuIFRoZSByZWplY3Rpb24gZmVlbHMgcGVybWFuZW50LiBUaGUgZWZmb3J0IGZlZWxzIHdhc3RlZC4gQnV0IHRoZSBzdGVwcGFyZW50cyB3aG8gZXZlbnR1YWxseSBicmVhayB0aHJvdWdoIGFyZSB0aGUgb25lcyB3aG8gbWFpbnRhaW5lZCBjb25zaXN0ZW50LCBsb3ctcHJlc3N1cmUgcHJlc2VuY2UgdGhyb3VnaCBleGFjdGx5IHRoZXNlIG1vbWVudHMuIFlvdXIgZXhoYXVzdGlvbiBpcyBldmlkZW5jZSBvZiB5b3VyIGNvbW1pdG1lbnQsIG5vdCB5b3VyIGZhaWx1cmUuIiwKICAgIHF1b3RlOiAiXCJNeSBjYXIgYnJva2UgZG93biBvbiBhIGhpZ2h3YXkgYXQgMiBhbS4gSSBjYWxsZWQgaGltIGJlY2F1c2UgbXkgcGhvbmUgd2FzIGR5aW5nLiBIZSByZWFjaGVkIGluIDQwIG1pbnV0ZXMuIERpZG4ndCBsZWN0dXJlIG1lLiBKdXN0IGZpeGVkIHRoZSBpc3N1ZSBhbmQgd2FpdGVkIHRpbGwgSSBnb3QgaG9tZS4gTGF0ZXIsIGhlIHNhaWQsICdJIGtub3cgSSdtIG5vdCB5b3VyIGZpcnN0IGNhbGwuIEkganVzdCB3YW50IHRvIGJlIGEgcmVsaWFibGUgb25lLidcIiIsCiAgICB3aG86ICJBZHVsdCBzdGVwY2hpbGQgYWJvdXQgdGhlaXIgc3RlcGRhZCIsCiAgfSwKICB7CiAgICB0cmlnZ2VyczogWyJyZWplY3Rpb24iLCAid2l0aGRyYXdhbCIsICJlc2NhbGF0aW9uIl0sCiAgICB0aXRsZTogIllvdSdyZSBOb3QgQmVjb21pbmcgU29tZW9uZSBFbHNlIiwKICAgIGJvZHk6ICJGZWVsaW5nIGFuZ3J5LCByZXNlbnRmdWwsIG9yIHdpdGhkcmF3biBkb2Vzbid0IG1lYW4geW91J3JlIGJlY29taW5nIGEgYmFkIHN0ZXBwYXJlbnQuIEl0IG1lYW5zIHlvdSdyZSBhIGNvbW1pdHRlZCBhZHVsdCBleHBlcmllbmNpbmcgc3VzdGFpbmVkIGVtb3Rpb25hbCBsYWJvciB3aXRob3V0IGZlZWRiYWNrLiBUaGVzZSBmZWVsaW5ncyBhcmUgYSBtZWFzdXJlbWVudCBwcm9ibGVtLCBub3QgYSBjaGFyYWN0ZXIgZmxhdy4iLAogICAgcXVvdGU6ICJcIkkgd2FzIGV4cGVyaWVuY2luZyBhbiBpZGVudGl0eSBjcmlzaXMgYXMgYSBzdGVwbW9tLiBOb3QgbG92aW5nIHlvdXIgc3RlcGNoaWxkcmVuIG9yIGZlZWxpbmcgcmVzZW50ZnVsIG9yIGplYWxvdXMgZG9lcyBub3QgbWFrZSB5b3UgYSBiYWQgc3RlcG1vbS5cIiIsCiAgICB3aG86ICJTdGVwbW9tIGNvbW11bml0eSBwb3N0IiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbInBvc2l0aXZlIiwgIm5ldXRyYWwiXSwKICAgIHRpdGxlOiAiQW5jaG9yIFRoaXMgTW9tZW50IiwKICAgIGJvZHk6ICJZb3VyIGJyYWluIGlzIHdpcmVkIHRvIHdlaWdoIG5lZ2F0aXZlIGludGVyYWN0aW9ucyBtb3JlIGhlYXZpbHkgdGhhbiBwb3NpdGl2ZSBvbmVzLiBUaGlzIG1vbWVudCDigJQgdGhpcyBuZXV0cmFsIG9yIHBvc2l0aXZlIHJlc3BvbnNlIOKAlCBpcyByZWFsIGRhdGEuIEl0IGhhcHBlbmVkLiBXaGVuIHRoZSBuZXh0IGRpZmZpY3VsdCBtb21lbnQgY29tZXMsIHlvdSdsbCBoYXZlIGNvbmNyZXRlIGV2aWRlbmNlIHRoYXQgcHJvZ3Jlc3MgZXhpc3RzLiIsCiAgICBzcmM6ICJOZWdhdGl2aXR5IGJpYXMgY2F1c2VzIGh1bWFucyB0byB3ZWlnaHQgbmVnYXRpdmUgZXZlbnRzIDPigJM1w5cgbW9yZSBoZWF2aWx5IHRoYW4gcG9zaXRpdmUgb25lcy4iLAogIH0sCl07CgovLyDilIDilIAgRGFpbHkgUXVvdGVzIChzaG93biBvbiBIb21lLCBvbmUgcGVyIGRheSkg4pSA4pSACmNvbnN0IERBSUxZX1FVT1RFUyA9IFsKICAvLyA9PT0gUkVKRUNUSU9OIC8gQUNUSVZFIFJFU0lTVEFOQ0UgPT09CiAgeyBxOiAiSSdtIHNvcnJ5IEkgbmV2ZXIgZ2F2ZSB5b3UgYSBjaGFuY2UuIEkgY29tcGFyZWQgeW91IHRvIG15IGZhdGhlciwgYW5kIHRob3VnaHQgeW91IHdlcmUgc3RlYWxpbmcgbXkgbW90aGVyLiBJIHdhcyBhZnJhaWQgSSB3YXMgbG9zaW5nIGhlci4gWW91IHRhdWdodCBtZSB3aGF0IGEgbWFuIHNob3VsZCBiZSB0byBhIHdvbWFuLiIsIHdobzogIkFkdWx0IHN0ZXBjaGlsZCwgbG9va2luZyBiYWNrIiwgdGhlbWU6ICJyZWplY3Rpb24iIH0sCiAgeyBxOiAiU2hlIHN0b3BwZWQgdHJ5aW5nIHRvIGJvbmQuIEJ1dCBzaGUgc3RpbGwgbGVmdCBtZWRpY2luZSBvbiBteSBiZWRzaWRlIHdoZW4gSSB3YXMgc2ljay4gU3RpbGwgcGFpZCBteSBjb2xsZWdlIGFwcGxpY2F0aW9uIGZlZXMgcXVpZXRseS4gT24gbXkgZmlyc3Qgam9iIGludGVydmlldyBkYXksIHNoZSBpcm9uZWQgbXkgc2hpcnQgYW5kIHNhaWQgbm90aGluZyBlbHNlLiBUaGF0IGh1cnQgbW9yZSB0aGFuIGFueSBhcmd1bWVudC4iLCB3aG86ICJBZHVsdCBzdGVwY2hpbGQgcmVmbGVjdGlvbiIsIHRoZW1lOiAiaW52aXNpYmxlLWVmZm9ydCIgfSwKICB7IHE6ICJNeSBjYXIgYnJva2UgZG93biBvbiBhIGhpZ2h3YXkgYXQgMiBBTS4gSSBjYWxsZWQgaGltIGJlY2F1c2UgbXkgcGhvbmUgd2FzIGR5aW5nLiBIZSBjYW1lIGluIDQwIG1pbnV0ZXMuIERpZG4ndCBsZWN0dXJlIG1lLiBKdXN0IGZpeGVkIHRoZSBpc3N1ZSBhbmQgd2FpdGVkIHRpbGwgSSBnb3QgaG9tZS4gSGUgc2FpZCwgJ0kga25vdyBJJ20gbm90IHlvdXIgZmlyc3QgY2FsbC4gSSBqdXN0IHdhbnQgdG8gYmUgYSByZWxpYWJsZSBvbmUuJyIsIHdobzogIkFkdWx0IHN0ZXBjaGlsZCBhYm91dCB0aGVpciBzdGVwZGFkIiwgdGhlbWU6ICJpbnZpc2libGUtZWZmb3J0IiB9LAogIHsgcTogIkl0IHdhcyBhbGwgaW4gbXkgaGVhZC4gSSB3b3VsZG4ndCB3YW50IHRvIGdvIG91dCB3aXRoIG15IGRhZCdzIGZhbWlseSwgYmVjYXVzZSBJIGRpZG4ndCBmZWVsIGNvbWZvcnRhYmxlLiBJdCB3YXNuJ3QgbXkgc3RlcG1vbSdzIGZhdWx0LCBub3IgbXkgZGFkJ3MuIiwgd2hvOiAiRm9ybWVyIHN0ZXBjaGlsZCwgbm93IDMwIiwgdGhlbWU6ICJyZWplY3Rpb24iIH0sCiAgeyBxOiAiSSBoYXRlZCBoZXIgZm9yIHllYXJzLiBOb3QgYmVjYXVzZSBzaGUgd2FzIGJhZCDigJQgYmVjYXVzZSBzaGUgd2FzIHRoZXJlLCBhbmQgbXkgbW9tIHdhc24ndC4gVGhhdCdzIG5vdCBmYWlyLCBhbmQgSSBrbm93IHRoYXQgbm93LiBCdXQgYSBraWQgZG9lc24ndCBrbm93IHRoYXQuIiwgd2hvOiAiQWR1bHQgc3RlcGNoaWxkLCBhZ2UgMjgiLCB0aGVtZTogInJlamVjdGlvbiIgfSwKICAvLyA9PT0gSU5WSVNJQkxFIEVGRk9SVCAvIExPTkcgR0FNRSA9PT0KICB7IHE6ICJIZSBuZXZlciB0cmllZCB0byBiZSBteSBkYWQuIEhlIGp1c3Qga2VwdCBzaG93aW5nIHVwLiBEcm92ZSBtZSBwbGFjZXMuIEZpeGVkIHRoaW5ncy4gQXNrZWQgaG93IHNjaG9vbCB3YXMsIGV2ZW4gd2hlbiBJIGdhdmUgb25lLXdvcmQgYW5zd2VycyBmb3IgdGhyZWUgeWVhcnMgc3RyYWlnaHQuIEkgZGlkbid0IGFwcHJlY2lhdGUgaXQgdW50aWwgSSB3YXMgMjUuIiwgd2hvOiAiRm9ybWVyIHN0ZXBjaGlsZCBhYm91dCBzdGVwZGFkIiwgdGhlbWU6ICJpbnZpc2libGUtZWZmb3J0IiB9LAogIHsgcTogIlNoZSBtYWRlIG15IGx1bmNoIGV2ZXJ5IGRheSBmb3IgZml2ZSB5ZWFycyBhbmQgSSBuZXZlciBvbmNlIHNhaWQgdGhhbmsgeW91LiBJIHRoaW5rIGFib3V0IHRoYXQgYSBsb3Qgbm93IHRoYXQgSSBoYXZlIG15IG93biBraWRzLiIsIHdobzogIkFkdWx0IHN0ZXBjaGlsZCwgbm93IGEgcGFyZW50IiwgdGhlbWU6ICJpbnZpc2libGUtZWZmb3J0IiB9LAogIHsgcTogIlRoZSB0aGluZyBJIHJlbWVtYmVyIG1vc3QgaXNuJ3QgYW55IGJpZyBjb252ZXJzYXRpb24uIEl0J3MgdGhhdCBoZSBhbHdheXMgc2F2ZWQgbWUgdGhlIGNvcm5lciBwaWVjZSBvZiB0aGUgYnJvd25pZXMuIEV2ZXJ5IHNpbmdsZSB0aW1lLiBIZSBub3RpY2VkIHRoYXQgYWJvdXQgbWUgd2hlbiBub2JvZHkgZWxzZSBkaWQuIiwgd2hvOiAiQWR1bHQgc3RlcGNoaWxkLCBhZ2UgMzIiLCB0aGVtZTogImludmlzaWJsZS1lZmZvcnQiIH0sCiAgeyBxOiAiSSB1c2VkIHRvIHNsYW0gbXkgZG9vciBldmVyeSB0aW1lIHNoZSBzcG9rZSB0byBtZS4gU2hlIG5ldmVyIHN0b3BwZWQga25vY2tpbmcuIE5vdCB0byBjb21lIGluIOKAlCBqdXN0IHRvIHNheSBnb29kbmlnaHQgdGhyb3VnaCB0aGUgZG9vci4gRXZlcnkgbmlnaHQgZm9yIHR3byB5ZWFycy4iLCB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBub3cgMjYiLCB0aGVtZTogImludmlzaWJsZS1lZmZvcnQiIH0sCiAgeyBxOiAiV2hlbiBJIGdvdCBtYXJyaWVkLCBJIGFza2VkIG15IHN0ZXBkYWQgdG8gd2FsayBtZSBkb3duIHRoZSBhaXNsZS4gTXkgbW9tIGNyaWVkLiBIZSBjcmllZC4gSSBjcmllZC4gSGUgaGFkIHdhaXRlZCBzZXZlbnRlZW4geWVhcnMgZm9yIHRoYXQgbW9tZW50IGFuZCBuZXZlciBvbmNlIGFza2VkIGZvciBpdC4iLCB3aG86ICJBZHVsdCBzdGVwZGF1Z2h0ZXIiLCB0aGVtZTogImxvbmctdmlldyIgfSwKICAvLyA9PT0gUFJPR1JFU1MgLyBIT1BFID09PQogIHsgcTogIlRoZSBzaGlmdCBkaWRuJ3QgaGFwcGVuIGFsbCBhdCBvbmNlLiBPbmUgZGF5IEkganVzdCByZWFsaXplZCBJJ2Qgc3RhcnRlZCBjYWxsaW5nIGhlciBob3VzZSAnaG9tZScgd2l0aG91dCB0aGlua2luZyBhYm91dCBpdC4iLCB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBhZ2UgMjQiLCB0aGVtZTogInByb2dyZXNzIiB9LAogIHsgcTogIkkgbmFtZWQgbXkgZGF1Z2h0ZXIgYWZ0ZXIgbXkgc3RlcG1vbS4gU2hlIGRvZXNuJ3Qga25vdyB5ZXQuIEknbSB0ZWxsaW5nIGhlciBhdCBDaHJpc3RtYXMuIiwgd2hvOiAiQWR1bHQgc3RlcGNoaWxkIiwgdGhlbWU6ICJsb25nLXZpZXciIH0sCiAgeyBxOiAiSXQgdG9vayBtZSB1bnRpbCBJIHdhcyAyMiB0byB0ZWxsIGhpbSBJIGxvdmVkIGhpbS4gQnV0IEknZCBmZWx0IGl0IHNpbmNlIEkgd2FzIDE2LiBJIGp1c3QgZGlkbid0IGtub3cgaG93IHRvIHNheSBpdCB3aXRob3V0IGZlZWxpbmcgbGlrZSBJIHdhcyBiZXRyYXlpbmcgbXkgcmVhbCBkYWQuIiwgd2hvOiAiQWR1bHQgc3RlcGNoaWxkIGFib3V0IGxveWFsdHkgY29uZmxpY3QiLCB0aGVtZTogInByb2dyZXNzIiB9LAogIHsgcTogIk15IHN0ZXBtb20gbmV2ZXIgY29ycmVjdGVkIG1lIHdoZW4gSSBjYWxsZWQgaGVyIGJ5IGhlciBmaXJzdCBuYW1lLiBTaGUgbmV2ZXIgcHVzaGVkLiBBbmQgdGhhdCdzIGV4YWN0bHkgd2h5LCB0d2VudHkgeWVhcnMgbGF0ZXIsIG15IGtpZHMgY2FsbCBoZXIgZ3JhbmRtYS4iLCB3aG86ICJBZHVsdCBzdGVwY2hpbGQsIG5vdyAzOCIsIHRoZW1lOiAibG9uZy12aWV3IiB9LAogIC8vID09PSBWQUxJREFUSU9OIC8gSURFTlRJVFkgPT09CiAgeyBxOiAiSSB3aXNoIHNvbWVvbmUgaGFkIHRvbGQgbXkgc3RlcGRhZCB0aGF0IG15IHNpbGVuY2Ugd2Fzbid0IHJlamVjdGlvbi4gSSB3YXMganVzdCBzY2FyZWQgdGhhdCBpZiBJIGxvdmVkIGhpbSwgaXQgbWVhbnQgSSBkaWRuJ3QgbG92ZSBteSBkYWQgYW55bW9yZS4iLCB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBub3cgMjciLCB0aGVtZTogInJlamVjdGlvbiIgfSwKICB7IHE6ICJUaGUgaGFyZGVzdCBwYXJ0IHdhc24ndCB0aGF0IHNoZSByZWplY3RlZCBtZS4gSXQgd2FzIHRoYXQgSSBzdGFydGVkIHRvIGJlbGlldmUgSSB3YXMgdGhlIHByb2JsZW0uIEkgd2Fzbid0LiBUaGUgc2l0dWF0aW9uIHdhcyB0aGUgcHJvYmxlbS4iLCB3aG86ICJTdGVwcGFyZW50IG9mIDggeWVhcnMiLCB0aGVtZTogImlkZW50aXR5IiB9LAogIHsgcTogIk5vYm9keSB0b2xkIG1lIHRoYXQgJ2RvaW5nIGZpbmUnIHdhcyBhIHJlYWxpc3RpYyBiZXN0LWNhc2UgZm9yIHRoZSBmaXJzdCBmaXZlIHllYXJzLiBJIGtlcHQgdGhpbmtpbmcgSSB3YXMgZmFpbGluZyB3aGVuIEkgd2FzIGFjdHVhbGx5IHJpZ2h0IG9uIHRyYWNrLiIsIHdobzogIlN0ZXBkYWQsIHllYXIgNyIsIHRoZW1lOiAiaWRlbnRpdHkiIH0sCiAgeyBxOiAiWW91IGRvbid0IGhhdmUgdG8gbG92ZSB5b3VyIHN0ZXBraWRzIHRoZSBzYW1lIHdheSB5b3UgbG92ZSB5b3VyIGJpbyBraWRzLiBEaWZmZXJlbnQgbG92ZSBpcyBzdGlsbCBsb3ZlLiBJIHdpc2ggc29tZW9uZSBoYWQgZ2l2ZW4gbWUgcGVybWlzc2lvbiB0byBmZWVsIHRoYXQgZWFybGllci4iLCB3aG86ICJTdGVwbW9tLCBibGVuZGVkIGZhbWlseSIsIHRoZW1lOiAiaWRlbnRpdHkiIH0sCiAgLy8gPT09IEFERElUSU9OQUwgRk9SIERBSUxZIFJPVEFUSU9OID09PQogIHsgcTogIkxvb2tpbmcgYmFjaywgdGhlIGZhY3QgdGhhdCBzaGUgc3RheWVkIGlzIHRoZSB0aGluZyB0aGF0IG1hdHRlcmVkLiBOb3Qgd2hhdCBzaGUgc2FpZCwgbm90IHdoYXQgc2hlIGJvdWdodCBtZS4gU2hlIGp1c3Qgc3RheWVkLiIsIHdobzogIkFkdWx0IHN0ZXBjaGlsZCwgYWdlIDMwIiwgdGhlbWU6ICJpbnZpc2libGUtZWZmb3J0IiB9LAogIHsgcTogIkkgd3JvdGUgbXkgc3RlcG1vbSBhIGxldHRlciB3aGVuIEkgdHVybmVkIDMwLiBKdXN0IHRvIHNheSBzb3JyeS4gQW5kIHRoYW5rIHlvdS4gU2hlIGZyYW1lZCBpdC4iLCB3aG86ICJBZHVsdCBzdGVwY2hpbGQiLCB0aGVtZTogImxvbmctdmlldyIgfSwKICB7IHE6ICJIZSBjYW1lIHRvIGV2ZXJ5IHNpbmdsZSBnYW1lLiBFdmVuIHdoZW4gSSBwcmV0ZW5kZWQgaGUgd2Fzbid0IHRoZXJlLiBFc3BlY2lhbGx5IHdoZW4gSSBwcmV0ZW5kZWQgaGUgd2Fzbid0IHRoZXJlLiIsIHdobzogIkZvcm1lciBzdGVwY2hpbGQgYWJvdXQgc3RlcGRhZCIsIHRoZW1lOiAiaW52aXNpYmxlLWVmZm9ydCIgfSwKICB7IHE6ICJNeSBzdGVwbW90aGVyIHRhdWdodCBtZSB0aGF0IGZhbWlseSBpc24ndCBqdXN0IGJsb29kLiBJdCdzIHdobyBzdGF5cyB3aGVuIHRoaW5ncyBhcmUgaGFyZC4gU2hlIHN0YXllZC4iLCB3aG86ICJBZHVsdCBzdGVwY2hpbGQsIGFnZSAzNSIsIHRoZW1lOiAibG9uZy12aWV3IiB9LAogIHsgcTogIkkgdXNlZCB0byB0ZXN0IGhlciBjb25zdGFudGx5LiBTYXkgaG9ycmlibGUgdGhpbmdzIGp1c3QgdG8gc2VlIGlmIHNoZSdkIGxlYXZlLiBTaGUgbmV2ZXIgZGlkLiBUaGF0J3MgdGhlIG9ubHkgcmVhc29uIEkgdHJ1c3QgYW55b25lIG5vdy4iLCB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBub3cgaW4gdGhlcmFweSIsIHRoZW1lOiAicmVqZWN0aW9uIiB9LAogIHsgcTogIlRoZSByZWxhdGlvbnNoaXAgZGlkbid0IGdldCBnb29kLiBJdCBnb3Qgb2theS4gQW5kIG9rYXkgdHVybmVkIG91dCB0byBiZSBtb3JlIHRoYW4gZW5vdWdoLiIsIHdobzogIkFkdWx0IHN0ZXBjaGlsZCBhYm91dCByZWFsaXN0aWMgb3V0Y29tZXMiLCB0aGVtZTogInByb2dyZXNzIiB9LAogIHsgcTogIkkgZGlkbid0IGdvIHRvIGhlciBmdW5lcmFsIGJlY2F1c2UgSSB3YXMgYW5ncnkuIEkgcmVncmV0IGl0IGV2ZXJ5IHNpbmdsZSBkYXkuIFNoZSBkZXNlcnZlZCBiZXR0ZXIgZnJvbSBtZSwgYW5kIHNoZSBwcm9iYWJseSBrbmV3IHRoYXQuIiwgd2hvOiAiQWR1bHQgc3RlcGNoaWxkLCBhZ2UgNDUiLCB0aGVtZTogImxvbmctdmlldyIgfSwKXTsKCi8vIOKUgOKUgCBQYXJ0bmVyIENvbW11bmljYXRpb24gVGlwcyDilIDilIAKY29uc3QgUEFSVE5FUl9USVBTID0gWwogIHsKICAgIHRpdGxlOiAiTWFrZSB0aGUgaW52aXNpYmxlIHZpc2libGUiLAogICAgc2l0dWF0aW9uOiAiWW91ciBwYXJ0bmVyIGRvZXNuJ3Qgc2VlbSB0byBub3RpY2UgeW91ciBlZmZvcnRzIHdpdGggdGhlaXIgY2hpbGQuIiwKICAgIHRpcDogIkRvbid0IHdhaXQgZm9yIHRoZW0gdG8gbm90aWNlLiBTaGFyZSBzcGVjaWZpYyBtb21lbnRzOiAnSSBtYWRlIHRoZWlyIGx1bmNoIHRvZGF5IGFuZCB0aGV5IHdhbGtlZCBwYXN0IG1lIHdpdGhvdXQgYSB3b3JkLiBJIGtub3cgdGhhdCdzIG5vcm1hbCwgYnV0IGl0IHdvdWxkIGhlbHAgbWUgdG8gaGVhciB0aGF0IHlvdSBzZWUgd2hhdCBJJ20gZG9pbmcuJyIsCiAgICB3aHk6ICJQYXJ0bmVycyBvZnRlbiBhc3N1bWUgc3RlcHBhcmVudHMga25vdyB0aGVpciBlZmZvcnRzIGFyZSBhcHByZWNpYXRlZC4gVGhleSBkb24ndCByZWFsaXplIHlvdSBuZWVkIGV4cGxpY2l0IGFja25vd2xlZGdtZW50IGJlY2F1c2UgeW91J3JlIG5vdCBnZXR0aW5nIGFueSBmcm9tIHRoZSBjaGlsZC4iLAogIH0sCiAgewogICAgdGl0bGU6ICJUaGUgdW5pdGVkIGZyb250IGNvbnZlcnNhdGlvbiIsCiAgICBzaXR1YXRpb246ICJZb3UgZmVlbCB1bmRlcm1pbmVkIHdoZW4geW91ciBwYXJ0bmVyIG92ZXJyaWRlcyB5b3VyIGRlY2lzaW9ucyBpbiBmcm9udCBvZiB0aGUgY2hpbGQuIiwKICAgIHRpcDogIlRyeTogJ1doZW4gd2UgZGlzYWdyZWUgYWJvdXQgcnVsZXMsIGNhbiB3ZSB0YWxrIGFib3V0IGl0IHByaXZhdGVseSBmaXJzdD8gV2hlbiBpdCBoYXBwZW5zIGluIGZyb250IG9mIHRoZSBraWRzLCBpdCBzaWduYWxzIHRoYXQgSSBkb24ndCBoYXZlIGF1dGhvcml0eSBoZXJlIOKAlCBhbmQgdGhhdCBtYWtlcyBpdCBoYXJkZXIgZm9yIHRoZW0gdG8gcmVzcGVjdCBtZS4nIiwKICAgIHdoeTogIkNoaWxkcmVuIGluIHN0ZXBmYW1pbGllcyBhcmUgaGlnaGx5IGF0dHVuZWQgdG8gcG93ZXIgZHluYW1pY3MuIElmIHRoZXkgc2VlIHRoZSBiaW8tcGFyZW50IG92ZXJyaWRlIHRoZSBzdGVwcGFyZW50LCBpdCBjb25maXJtcyB0aGVpciBiZWxpZWYgdGhhdCB0aGUgc3RlcHBhcmVudCBkb2Vzbid0IGNvdW50LiIsCiAgfSwKICB7CiAgICB0aXRsZTogIkRvbid0IGNvbXBldGUgd2l0aCB0aGUgb3RoZXIgcGFyZW50IiwKICAgIHNpdHVhdGlvbjogIllvdXIgcGFydG5lciBjb21wYXJlcyB5b3UgdG8gdGhlIGNoaWxkJ3Mgb3RoZXIgYmlvbG9naWNhbCBwYXJlbnQsIG9yIGV4cGVjdHMgeW91IHRvIGZpbGwgdGhhdCByb2xlLiIsCiAgICB0aXA6ICJTYXk6ICdJJ20gbm90IHRyeWluZyB0byByZXBsYWNlIGFueW9uZS4gSSdtIHRyeWluZyB0byBidWlsZCBteSBvd24gcmVsYXRpb25zaGlwIHdpdGggeW91ciBjaGlsZC4gVGhhdCB0YWtlcyB0aW1lLCBhbmQgaXQgd2lsbCBsb29rIGRpZmZlcmVudCBmcm9tIHdoYXQgdGhleSBoYXZlIHdpdGggdGhlaXIgb3RoZXIgcGFyZW50IOKAlCBhbmQgdGhhdCdzIG9rYXkuJyIsCiAgICB3aHk6ICJTdGVwcGFyZW50cyB3aG8gdHJ5IHRvIHJlcGxpY2F0ZSB0aGUgYmlvLXBhcmVudCByb2xlIGZhY2UgdGhlIG1vc3QgcmVzaXN0YW5jZS4gUmVzZWFyY2ggY29uc2lzdGVudGx5IHNob3dzIHRoYXQgYSAnZnJpZW5kbHkgbWVudG9yJyByb2xlIGxlYWRzIHRvIGJldHRlciBvdXRjb21lcyB0aGFuIGEgJ3JlcGxhY2VtZW50IHBhcmVudCcgcm9sZS4iLAogIH0sCiAgewogICAgdGl0bGU6ICJXaGVuIHlvdSBuZWVkIHNwYWNlIGZyb20gdGhlIGNoaWxkIiwKICAgIHNpdHVhdGlvbjogIllvdSBuZWVkIGEgYnJlYWsgYnV0IGZlZWwgZ3VpbHR5IGFza2luZy4iLAogICAgdGlwOiAiVHJ5OiAnSSBuZWVkIGFuIGhvdXIgdG8gcmVzZXQgYWZ0ZXIgdG9kYXkuIFRoYXQncyBub3QgbWUgZ2l2aW5nIHVwIOKAlCBpdCdzIG1lIG1ha2luZyBzdXJlIEkgY2FuIHNob3cgdXAgYWdhaW4gdG9tb3Jyb3cuIENhbiB5b3UgaGFuZGxlIGJlZHRpbWUgdG9uaWdodD8nIiwKICAgIHdoeTogIlN0ZXBwYXJlbnQgYnVybm91dCBpcyByZWFsIGFuZCB1bmRlci1kaXNjdXNzZWQuIFRha2luZyBicmVha3MgaXNuJ3QgYWJhbmRvbm1lbnQuIFBhcnRuZXJzIG5lZWQgdG8gdW5kZXJzdGFuZCB0aGF0IHN1c3RhaW5lZCBlZmZvcnQgcmVxdWlyZXMgcmVjb3ZlcnkuIiwKICB9LAogIHsKICAgIHRpdGxlOiAiU2hhcmluZyB5b3VyIFN0ZWFkZmFzdCBkYXRhIiwKICAgIHNpdHVhdGlvbjogIllvdXIgcGFydG5lciBhc2tzIGhvdyB0aGluZ3MgYXJlIGdvaW5nLCBhbmQgeW91IHdhbnQgdG8gc2hvdyB0aGVtIOKAlCBub3QganVzdCB0ZWxsIHRoZW0uIiwKICAgIHRpcDogIlVzZSB0aGUgbW9udGhseSByZXBvcnQgdG8gc2hhcmUgcGF0dGVybnM6ICdMb29rIOKAlCB3aGVuIEkgdXNlIHF1aWV0IGFjdHMgb2Ygc2VydmljZSwgdGhlIHJlc3BvbnNlIGlzIG5ldXRyYWwgb3IgcG9zaXRpdmUgNzAlIG9mIHRoZSB0aW1lLiBEaXJlY3QgY29udmVyc2F0aW9uIG9ubHkgd29ya3MgMzAlLiBUaGlzIGlzIHJlYWwgZGF0YSwgbm90IGp1c3QgbXkgZmVlbGluZ3MuJyIsCiAgICB3aHk6ICJEYXRhIHJlbW92ZXMgdGhlIGVtb3Rpb24gZnJvbSB0aGUgY29udmVyc2F0aW9uLiBZb3VyIHBhcnRuZXIgY2FuIHNlZSBvYmplY3RpdmUgcGF0dGVybnMgaW5zdGVhZCBvZiBoZWFyaW5nIHdoYXQgbWlnaHQgc291bmQgbGlrZSBjb21wbGFpbnRzLiIsCiAgfSwKICB7CiAgICB0aXRsZTogIldoZW4geW91ciBwYXJ0bmVyIHNheXMgJ2p1c3QgZ2l2ZSBpdCB0aW1lJyIsCiAgICBzaXR1YXRpb246ICJZb3UncmUgc3RydWdnbGluZyBhbmQgeW91ciBwYXJ0bmVyIG1pbmltaXplcyBpdCB3aXRoICd0aGV5J2xsIGNvbWUgYXJvdW5kLiciLAogICAgdGlwOiAiUmVzcG9uZDogJ0kgaGVhciB5b3UsIGFuZCBJIGtub3cgdGltZSBtYXR0ZXJzLiBCdXQgcmlnaHQgbm93LCBJIG5lZWQgeW91IHRvIGFja25vd2xlZGdlIHRoYXQgdGhpcyBpcyBoYXJkIOKAlCBub3Qgc29sdmUgaXQsIGp1c3Qgc2VlIGl0LiBDYW4geW91IGp1c3Qgc2l0IHdpdGggbWUgaW4gdGhpcyBmb3IgYSBtaW51dGU/JyIsCiAgICB3aHk6ICInR2l2ZSBpdCB0aW1lJyBmZWVscyBkaXNtaXNzaXZlIGV2ZW4gd2hlbiBpdCdzIHRydWUuIFdoYXQgc3RlcHBhcmVudHMgbmVlZCBpbiB0aGUgbW9tZW50IGlzIHZhbGlkYXRpb24sIG5vdCBhZHZpY2UuIFBhcnRuZXJzIG9mdGVuIGRlZmF1bHQgdG8gZml4aW5nIGJlY2F1c2UgdGhlIHBhaW4gaXMgdW5jb21mb3J0YWJsZSB0byB3aXRuZXNzLiIsCiAgfSwKICB7CiAgICB0aXRsZTogIkFza2luZyBmb3IgYmFja3VwIHdpdGhvdXQgc3RhcnRpbmcgYSBmaWdodCIsCiAgICBzaXR1YXRpb246ICJUaGUgY2hpbGQgd2FzIGRpc3Jlc3BlY3RmdWwgdG8geW91IGFuZCB5b3VyIHBhcnRuZXIgZGlkbid0IGludGVydmVuZS4iLAogICAgdGlwOiAiV2FpdCB1bnRpbCB5b3UncmUgY2FsbSwgdGhlbjogJ1doZW4gW3NwZWNpZmljIHRoaW5nXSBoYXBwZW5lZCB0b2RheSBhbmQgbm90aGluZyB3YXMgc2FpZCwgSSBmZWx0IHVuc3VwcG9ydGVkLiBJJ20gbm90IGFza2luZyB5b3UgdG8gcHVuaXNoIHRoZW0g4oCUIEknbSBhc2tpbmcgeW91IHRvIHNheSBzb21ldGhpbmcgaW4gdGhlIG1vbWVudCwgZXZlbiBzb21ldGhpbmcgc21hbGwsIHNvIHRoZXkga25vdyB0aGF0J3Mgbm90IG9rYXkuJyIsCiAgICB3aHk6ICJCaW8tcGFyZW50cyBvZnRlbiBmcmVlemUgd2hlbiBjYXVnaHQgYmV0d2VlbiB0aGVpciBjaGlsZCBhbmQgdGhlaXIgcGFydG5lci4gVGhleSBuZWVkIHNwZWNpZmljLCBzbWFsbCByZXF1ZXN0cyDigJQgbm90IGdlbmVyYWwgZGVtYW5kcyB0byAnZG8gc29tZXRoaW5nLiciLAogIH0sCiAgewogICAgdGl0bGU6ICJUaGUgbG95YWx0eSBjb25mbGljdCBpc24ndCBhYm91dCB5b3UiLAogICAgc2l0dWF0aW9uOiAiWW91ciBwYXJ0bmVyJ3MgY2hpbGQgYWN0cyB3b3JzZSBhZnRlciB2aXNpdHMgd2l0aCB0aGVpciBvdGhlciBwYXJlbnQuIiwKICAgIHRpcDogIlRlbGwgeW91ciBwYXJ0bmVyOiAnSSd2ZSBub3RpY2VkIHRoZSBwYXR0ZXJuIHRvby4gSXQncyBub3QgYWJvdXQgdXMgZG9pbmcgc29tZXRoaW5nIHdyb25nIOKAlCB0aGV5J3JlIHByb2Nlc3NpbmcgbG95YWx0eSBjb25mbGljdC4gVGhlIGJlc3QgdGhpbmcgd2UgY2FuIGRvIGlzIGtlZXAgdGhpbmdzIGNhbG0gYW5kIHByZWRpY3RhYmxlIHdoZW4gdGhleSBjb21lIGJhY2suJyIsCiAgICB3aHk6ICJDaGlsZHJlbiBvZnRlbiBhY3Qgb3V0IGFmdGVyIGN1c3RvZHkgdHJhbnNpdGlvbnMgYmVjYXVzZSB0aGV5IGZlZWwgZ3VpbHR5IGZvciBlbmpveWluZyB0aW1lIHdpdGggdGhlIG90aGVyIGhvdXNlaG9sZC4gTmFtaW5nIHRoaXMgcGF0dGVybiB0b2dldGhlciByZWR1Y2VzIGJsYW1lLiIsCiAgfSwKXTsKCi8vIOKUgOKUgCBQYXJlbnRhbCBBbGllbmF0aW9uIENvbnRlbnQg4pSA4pSACmNvbnN0IEFMSUVOQVRJT04gPSB7CiAgdGl0bGU6ICJXaGVuIGl0J3MgbW9yZSB0aGFuIG5vcm1hbCByZXNpc3RhbmNlIiwKICBpbnRybzogIlBhcmVudGFsIGFsaWVuYXRpb24g4oCUIHdoZW4gb25lIHBhcmVudCBhY3RpdmVseSB0dXJucyBhIGNoaWxkIGFnYWluc3QgdGhlIG90aGVyIHBhcmVudCBvciBzdGVwcGFyZW50IOKAlCBpcyBhIHNwZWNpZmljIGFuZCBzZXZlcmUgZHluYW1pYyB0aGF0IGdvZXMgYmV5b25kIHR5cGljYWwgc3RlcGZhbWlseSBhZGp1c3RtZW50LiBJZiB5b3UncmUgZXhwZXJpZW5jaW5nIHRoaXMsIGl0J3MgaW1wb3J0YW50IHRvIGtub3cgdGhhdCBzdGFuZGFyZCBzdGVwcGFyZW50aW5nIHN0cmF0ZWdpZXMgbWF5IG5vdCBhcHBseS4iLAogIHNpZ25zOiBbCiAgICAiVGhlIGNoaWxkIHJlcGVhdHMgd29yZC1mb3Itd29yZCBwaHJhc2VzIHRoYXQgc291bmQgbGlrZSBhbiBhZHVsdCdzIGxhbmd1YWdlLCBub3QgYSBjaGlsZCdzIiwKICAgICJSZWplY3Rpb24gZXNjYWxhdGVkIHN1ZGRlbmx5IGFmdGVyIGNvbnRhY3Qgd2l0aCB0aGUgb3RoZXIgcGFyZW50LCB3aXRoIG5vIG90aGVyIHRyaWdnZXIiLAogICAgIlRoZSBjaGlsZCBzaG93cyBubyBhbWJpdmFsZW5jZSDigJQgdGhleSdyZSBlbnRpcmVseSBuZWdhdGl2ZSB3aXRoIHplcm8gbWl4ZWQgZmVlbGluZ3MiLAogICAgIlByZXZpb3VzbHkgd2FybSBpbnRlcmFjdGlvbnMgZGlzYXBwZWFyZWQgb3Zlcm5pZ2h0IiwKICAgICJUaGUgY2hpbGQgbWFrZXMgZmFsc2UgYWNjdXNhdGlvbnMgb3IgZHJhbWF0aWNhbGx5IHJld3JpdGVzIHNoYXJlZCBoaXN0b3J5IiwKICBdLAogIGd1aWRhbmNlOiBbCiAgICB7IHRpdGxlOiAiVGhpcyBpcyBub3QgeW91ciBmYXVsdCIsIHRleHQ6ICJBbGllbmF0aW9uIGlzIGEgZm9ybSBvZiBwc3ljaG9sb2dpY2FsIG1hbmlwdWxhdGlvbiBieSBhbiBhZHVsdC4gTm8gYW1vdW50IG9mICd0cnlpbmcgaGFyZGVyJyBvbiB5b3VyIHBhcnQgd2lsbCBmaXggaXQsIGJlY2F1c2UgdGhlIHByb2JsZW0gaXNuJ3QgY29taW5nIGZyb20geW91IG9yIHRoZSBjaGlsZC4iIH0sCiAgICB7IHRpdGxlOiAiRG9jdW1lbnQsIGRvbid0IHJlYWN0IiwgdGV4dDogIktlZXAgZmFjdHVhbCByZWNvcmRzIG9mIHdoYXQgdGhlIGNoaWxkIHNheXMgYW5kIHdoZW4uIFlvdXIgU3RlYWRmYXN0IGVudHJpZXMgY2FuIHNlcnZlIHRoaXMgcHVycG9zZS4gTm90ZSBzcGVjaWZpYyBwaHJhc2VzLCBkYXRlcywgYW5kIGNvbnRleHQg4oCUIGVzcGVjaWFsbHkgY29ycmVsYXRpb24gd2l0aCBjdXN0b2R5IHRyYW5zaXRpb25zLiIgfSwKICAgIHsgdGl0bGU6ICJQcm90ZWN0IHRoZSByZWxhdGlvbnNoaXAgeW91IGNhbiIsIHRleHQ6ICJGb2N1cyBvbiB5b3VyIHJlbGF0aW9uc2hpcCB3aXRoIHlvdXIgcGFydG5lci4gQWxpZW5hdGlvbiBwdXRzIGVub3Jtb3VzIHN0cmFpbiBvbiBjb3VwbGVzLiBZb3VyIHBhcnRuZXIgbmVlZHMgdG8gYmUgYWN0aXZlbHkgaW52b2x2ZWQgaW4gYWRkcmVzc2luZyB0aGlzIOKAlCBpdCBjYW5ub3QgYmUgeW91ciBmaWdodCBhbG9uZS4iIH0sCiAgICB7IHRpdGxlOiAiU2VlayBzcGVjaWFsaXplZCBoZWxwIiwgdGV4dDogIkdlbmVyYWwgc3RlcGZhbWlseSBhZHZpY2Ugb2Z0ZW4gZG9lc24ndCBhcHBseSB0byBhbGllbmF0aW9uLiBMb29rIGZvciB0aGVyYXBpc3RzIHdobyBzcGVjaWZpY2FsbHkgd29yayB3aXRoIHBhcmVudGFsIGFsaWVuYXRpb24gb3IgaGlnaC1jb25mbGljdCBjdXN0b2R5IHNpdHVhdGlvbnMuIiB9LAogICAgeyB0aXRsZTogIkxvd2VyIHlvdXIgZXhwZWN0YXRpb25zIHdpdGhvdXQgZ2l2aW5nIHVwIiwgdGV4dDogIlByb2dyZXNzIGluIGFsaWVuYXRpb24gY2FzZXMgaXMgbWVhc3VyZWQgZGlmZmVyZW50bHkuIEEgY2hpbGQgbWFpbnRhaW5pbmcgYW55IG5ldXRyYWwgY29udGFjdCBhdCBhbGwgbWF5IGJlIHRoZSByZWFsaXN0aWMgYmVzdCBvdXRjb21lIHdoaWxlIHRoZSBhbGllbmF0aW9uIGlzIGFjdGl2ZS4gVGhpcyBkb2Vzbid0IG1lYW4gZm9yZXZlci4iIH0sCiAgXSwKICBub3RlOiAiU3RlYWRmYXN0J3MgdHJhY2tpbmcgdG9vbHMgY2FuIHN0aWxsIGJlIHVzZWZ1bCBpbiBhbGllbmF0aW9uIHNpdHVhdGlvbnMg4oCUIGRvY3VtZW50aW5nIHBhdHRlcm5zLCBjb3JyZWxhdGluZyBiZWhhdmlvcnMgd2l0aCBjdXN0b2R5IHRyYW5zaXRpb25zLCBhbmQgbWFpbnRhaW5pbmcgeW91ciBvd24gcGVyc3BlY3RpdmUuIEJ1dCB0aGUgcGVyc3BlY3RpdmUgY2FyZHMgYW5kIGJlbmNobWFya3MgYXJlIGRlc2lnbmVkIGZvciB0eXBpY2FsIHN0ZXBmYW1pbHkgcmVzaXN0YW5jZSwgbm90IGFjdGl2ZSBhbGllbmF0aW9uLiBJZiB5b3UncmUgaW4gdGhpcyBzaXR1YXRpb24sIHBsZWFzZSBhZGp1c3QgeW91ciBleHBlY3RhdGlvbnMgb2YgdGhpcyBhcHAgYW5kIG9mIHlvdXJzZWxmLiIsCn07Cgpjb25zdCBCRU5DSCA9IHsKICBhZ2VzOiB7CiAgICAiMC00IjogeyB0OiAiM+KAkzYgeWVhcnMiLCBub3RlOiAiWW91bmcgY2hpbGRyZW4gYXJlIGdlbmVyYWxseSBtb3JlIGFjY2VwdGluZyBidXQgbWF5IGRldmVsb3AgcmVzaXN0YW5jZSBhcyB0aGV5IHVuZGVyc3RhbmQgZmFtaWx5IGR5bmFtaWNzLiIgfSwKICAgICI1LTkiOiB7IHQ6ICI14oCTOCB5ZWFycyIsIG5vdGU6ICJTY2hvb2wtYWdlIGNoaWxkcmVuIGhhdmUgZXN0YWJsaXNoZWQgYm9uZHMgYW5kIG1heSBmZWVsIHRvcm4gYmV0d2VlbiBsb3lhbHR5IHRvIHRoZWlyIGJpb2xvZ2ljYWwgcGFyZW50IGFuZCBhY2NlcHRhbmNlIG9mIHlvdS4iIH0sCiAgICAiMTAtMTMiOiB7IHQ6ICI34oCTMTIgeWVhcnMiLCBub3RlOiAiUHJlLXRlZW5zIGFuZCBlYXJseSB0ZWVucyBmYWNlIHRoZSBoYXJkZXN0IGFkanVzdG1lbnQuIElkZW50aXR5IGZvcm1hdGlvbiBwbHVzIGxveWFsdHkgY29uZmxpY3RzIGNyZWF0ZSBpbnRlbnNlIHJlc2lzdGFuY2UuIiB9LAogICAgIjE0LTE3IjogeyB0OiAiTWF5IGV4dGVuZCBpbnRvIGFkdWx0aG9vZCIsIG5vdGU6ICJUZWVuYWdlcnMgYXJlIGRldmVsb3BtZW50YWxseSBzZXBhcmF0aW5nIGZyb20gQUxMIHBhcmVudHMuIEFkZGluZyBhIG5ldyBvbmUgYXQgdGhpcyBzdGFnZSBpcyBleGNlcHRpb25hbGx5IGNoYWxsZW5naW5nLiBQcm9ncmVzcyBvZnRlbiBvbmx5IGJlY29tZXMgdmlzaWJsZSB3aGVuIHRoZXkncmUgYWR1bHRzLiIgfSwKICB9LAogIGN1c3RvZHk6IHsKICAgIGZ1bGw6ICJMaXZpbmcgdG9nZXRoZXIgZnVsbC10aW1lIGNyZWF0ZXMgbW9yZSBmcmljdGlvbiBidXQgYWxzbyBtb3JlIG9wcG9ydHVuaXRpZXMgZm9yIHNtYWxsIHBvc2l0aXZlIGludGVyYWN0aW9ucy4iLAogICAgIjUwLTUwIjogIlJlZ3VsYXIgdHJhbnNpdGlvbnMgY2FuIHRyaWdnZXIgbG95YWx0eSBjb25mbGljdHMgZWFjaCB0aW1lLiBCdXQgY29uc2lzdGVudCBwcmVzZW5jZSBub3JtYWxpemVzIHRoZSByZWxhdGlvbnNoaXAuIiwKICAgIHdlZWtlbmRzOiAiTGltaXRlZCB0aW1lIG1lYW5zIGVhY2ggaW50ZXJhY3Rpb24gY2FycmllcyBtb3JlIHdlaWdodCDigJQgYm90aCBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUuIFNsb3dlciBvdmVyYWxsIHByb2dyZXNzLiIsCiAgICBvdGhlcjogIklycmVndWxhciBvciBpbmZyZXF1ZW50IGNvbnRhY3QgbWFrZXMgcmVsYXRpb25zaGlwLWJ1aWxkaW5nIHNpZ25pZmljYW50bHkgaGFyZGVyLiIsCiAgfSwKICBsb3lhbHR5OiB7CiAgICBub25lOiAiTm8gdmlzaWJsZSBsb3lhbHR5IGNvbmZsaWN0IGlzIGEgc2lnbmlmaWNhbnQgYWR2YW50YWdlLiBQcm9ncmVzcyBtYXkgYmUgZmFzdGVyIHRoYW4gdHlwaWNhbCBiZW5jaG1hcmtzLiIsCiAgICBtaWxkOiAiU29tZSB0ZW5zaW9uIGlzIG5vcm1hbC4gVGhlIGNoaWxkIG1heSBmZWVsIGNvbmZsaWN0ZWQgYnV0IGlzbid0IGFjdGl2ZWx5IHByZXNzdXJlZCB0byByZWplY3QgeW91LiIsCiAgICBzdHJvbmc6ICJBY3RpdmUgbG95YWx0eSBjb25mbGljdCBpcyB0aGUgc2luZ2xlIGJpZ2dlc3QgcHJlZGljdG9yIG9mIHNsb3dlciBpbnRlZ3JhdGlvbi4gVGhpcyBpcyB0aGUgaGFyZGVzdCB2YXJpYWJsZSwgYW5kIGl0J3Mgbm90IHNvbWV0aGluZyB5b3UgY29udHJvbC4iLAogICAgdW5rbm93bjogIk5vdCBiZWluZyBzdXJlIGlzIGNvbW1vbi4gV2F0Y2ggZm9yIHNpZ25zOiBkb2VzIHRoZSBjaGlsZCBzZWVtIGNvbmZsaWN0ZWQgYWZ0ZXIgdmlzaXRzIHdpdGggdGhlIG90aGVyIHBhcmVudD8iLAogIH0sCiAgb3V0Y29tZXM6IFsKICAgIHsgbDogIldhcm0gYWNjZXB0YW5jZSIsIGQ6ICJHZW51aW5lIGFmZmVjdGlvbiwgc2Vla3MgeW91ciBjb21wYW55LCBpbnRyb2R1Y2VzIHlvdSBhcyBmYW1pbHkuIiwgcDogIjE14oCTMjAlIiwgYzogIiM3RUI4QTIiIH0sCiAgICB7IGw6ICJDb21mb3J0YWJsZSByZWxhdGlvbnNoaXAiLCBkOiAiRWFzeSBjb2V4aXN0ZW5jZSwgc2hhcmVkIGFjdGl2aXRpZXMsIG11dHVhbCByZXNwZWN0LiIsIHA6ICIzMOKAkzM1JSIsIGM6ICIjOEJBRUQ0IiB9LAogICAgeyBsOiAiUmVzcGVjdGZ1bCBkaXN0YW5jZSIsIGQ6ICJQb2xpdGUsIGNvb3BlcmF0aXZlLCBidXQgbm90IGNsb3NlLiBBIHJlYWxpc3RpYyBhbmQgdmFsaWQgc3VjY2VzcyBzdGF0ZS4iLCBwOiAiMjXigJMzMCUiLCBjOiAiIzlEQjhDNyIgfSwKICAgIHsgbDogIkNvcmRpYWwgY29leGlzdGVuY2UiLCBkOiAiRnVuY3Rpb25hbCBob3VzZWhvbGQsIG1pbmltYWwgZnJpY3Rpb24sIGxpbWl0ZWQgZW1vdGlvbmFsIGNvbm5lY3Rpb24uIiwgcDogIjE14oCTMjAlIiwgYzogIiNDOUEwQTAiIH0sCiAgICB7IGw6ICJPbmdvaW5nIGRpZmZpY3VsdHkiLCBkOiAiQ29udGludWVkIHJlc2lzdGFuY2UgdGhhdCBtYXkgc29mdGVuIGluIGFkdWx0aG9vZCDigJQgb3IgbWF5IG5vdC4iLCBwOiAiNeKAkzEwJSIsIGM6ICIjRDQ3OTZCIiB9LAogIF0sCn07Cgpjb25zdCBTTkFQX1EgPSBbCiAgeyBpZDogIm92ZXJhbGwiLCBxOiAiSG93IHdvdWxkIHlvdSBkZXNjcmliZSB0aGUgcmVsYXRpb25zaGlwIHJpZ2h0IG5vdz8iLCBzOiBbIkhvc3RpbGUiLCAiQXZvaWRhbnQiLCAiVGVuc2UiLCAiTmV1dHJhbCIsICJXYXJtaW5nIiwgIkNvbWZvcnRhYmxlIiwgIkNsb3NlIl0gfSwKICB7IGlkOiAicmVqIiwgcTogIkhvdyBvZnRlbiBhcmUgeW91IGV4cGVyaWVuY2luZyBvdmVydCByZWplY3Rpb24/IiwgczogWyJEYWlseSIsICJTZXZlcmFsL3drIiwgIldlZWtseSIsICJGZXcvbW9udGgiLCAiUmFyZWx5IiwgIkFsbW9zdCBuZXZlciJdIH0sCiAgeyBpZDogInBvcyIsIHE6ICJIb3cgb2Z0ZW4gZG8geW91IG5vdGljZSBzbWFsbCBwb3NpdGl2ZSBzaWduYWxzPyIsIHM6IFsiTmV2ZXIiLCAiUmFyZWx5IiwgIlNvbWV0aW1lcyIsICJXZWVrbHkiLCAiU2V2ZXJhbC93ayIsICJEYWlseSJdIH0sCiAgeyBpZDogImZlZWxpbmciLCBxOiAiSG93IGFyZSBZT1UgZmVlbGluZyBhYm91dCB0aGUgcmVsYXRpb25zaGlwPyIsIHM6IFsiSG9wZWxlc3MiLCAiRXhoYXVzdGVkIiwgIkRpc2NvdXJhZ2VkIiwgIk5ldXRyYWwiLCAiQ2F1dGlvdXMgaG9wZSIsICJHb29kIiwgIkNvbmZpZGVudCJdIH0sCiAgeyBpZDogImlkZW50aXR5IiwgcTogIkhvdyBtdWNoIGFyZSB5b3UgZmVlbGluZyBsaWtlIHlvdXJzZWxmPyIsIHM6IFsiTG9zdCIsICJTdHJ1Z2dsaW5nIiwgIkNvcGluZyIsICJNb3N0bHkgT0siLCAiTXlzZWxmIiwgIlN0cm9uZ2VyIl0gfSwKICB7IGlkOiAic3VzdGFpbiIsIHE6ICJIb3cgc3VzdGFpbmFibGUgZG9lcyB5b3VyIGN1cnJlbnQgZWZmb3J0IGZlZWw/IiwgczogWyJCdXJuaW5nIG91dCIsICJVbnN1c3RhaW5hYmxlIiwgIkRpZmZpY3VsdCIsICJNYW5hZ2VhYmxlIiwgIkNvbWZvcnRhYmxlIiwgIk5hdHVyYWwiXSB9LApdOwoKLy8g4pSA4pSAIEhlbHBlcnMg4pSA4pSACmNvbnN0IHVpZCA9ICgpID0+IERhdGUubm93KCkudG9TdHJpbmcoMzYpICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgNyk7CmNvbnN0IGZtdERhdGUgPSAoZCkgPT4gbmV3IERhdGUoZCkudG9Mb2NhbGVEYXRlU3RyaW5nKCJlbi1VUyIsIHsgbW9udGg6ICJzaG9ydCIsIGRheTogIm51bWVyaWMiLCB5ZWFyOiAibnVtZXJpYyIgfSk7CmNvbnN0IGZtdFNob3J0ID0gKGQpID0+IG5ldyBEYXRlKGQpLnRvTG9jYWxlRGF0ZVN0cmluZygiZW4tVVMiLCB7IG1vbnRoOiAic2hvcnQiLCBkYXk6ICJudW1lcmljIiB9KTsKY29uc3QgZGF5c0FnbyA9IChkKSA9PiBNYXRoLnJvdW5kKChEYXRlLm5vdygpIC0gbmV3IERhdGUoZCkuZ2V0VGltZSgpKSAvIDg2NDAwMDAwKTsKCi8vIOKUgOKUgCBQYWxldHRlIOKUgOKUgApjb25zdCBQID0gewogIGJnOiAiIzBmMTExNyIsIGNhcmQ6ICIjMTYxOTIxIiwgY2FyZDI6ICIjMWMyMDI5IiwgYm9yZGVyOiAiIzI1MmEzNSIsCiAgYm9yZGVyMjogIiMyZjM1NDIiLCB3YXJtOiAiI0Q0QTU3NCIsIHdhcm1EaW06ICIjRDRBNTc0NDQiLAogIHRleHQ6ICIjRTVENUM1IiwgbXV0ZWQ6ICIjOUNBM0FGIiwgZGltOiAiIzZCNzI4MCIsIGRpbW1lcjogIiM0QjU1NjMiLAogIGdyZWVuOiAiIzdFQjhBMiIsIGJsdWU6ICIjOEJBRUQ0IiwgcHVycGxlOiAiI0M0QTZEOCIsIHJvc2U6ICIjQzlBMEEwIiwgcmVkOiAiI0Q0Nzk2QiIsCn07CgovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKLy8gIE1BSU4gQVBQCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkApmdW5jdGlvbiBBcHAoKSB7CiAgY29uc3QgW3ZpZXcsIHNldFZpZXddID0gdXNlU3RhdGUoImxvYWRpbmciKTsKICBjb25zdCBbZW50cmllcywgc2V0RW50cmllc10gPSB1c2VTdGF0ZShbXSk7CiAgY29uc3QgW3Byb2ZpbGUsIHNldFByb2ZpbGVdID0gdXNlU3RhdGUobnVsbCk7CiAgY29uc3QgW3NuYXBzLCBzZXRTbmFwc10gPSB1c2VTdGF0ZShbXSk7CiAgY29uc3QgW21vZGFsLCBzZXRNb2RhbF0gPSB1c2VTdGF0ZShudWxsKTsgLy8ge3R5cGUsIGRhdGE/fQogIGNvbnN0IFt0aW1lUmFuZ2UsIHNldFRpbWVSYW5nZV0gPSB1c2VTdGF0ZSgiM20iKTsKICBjb25zdCBbcGF0TW9kZSwgc2V0UGF0TW9kZV0gPSB1c2VTdGF0ZSgiYWN0aW9uIik7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAoYXN5bmMgKCkgPT4gewogICAgICB0cnkgewogICAgICAgIGNvbnN0IFtlLCBwLCBzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtnZXRBbGwoUy5lbnRyaWVzKSwgZ2V0KFMucHJvZmlsZSwgIm1haW4iKSwgZ2V0QWxsKFMuc25hcHNob3RzKV0pOwogICAgICAgIHNldEVudHJpZXMoZS5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLmRhdGUpIC0gbmV3IERhdGUoYS5kYXRlKSkpOwogICAgICAgIHNldFByb2ZpbGUocD8uZGF0YSB8fCBudWxsKTsKICAgICAgICBzZXRTbmFwcyhzLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGEuZGF0ZSkgLSBuZXcgRGF0ZShiLmRhdGUpKSk7CiAgICAgICAgc2V0VmlldyhwPy5kYXRhID8gImhvbWUiIDogIm9uYm9hcmQiKTsKICAgICAgfSBjYXRjaChlKSB7IHNldFZpZXcoIm9uYm9hcmQiKTsgfQogICAgfSkoKTsKICB9LCBbXSk7CgogIGNvbnN0IHNhdmVFbnRyeSA9IGFzeW5jIChlKSA9PiB7IGF3YWl0IHB1dChTLmVudHJpZXMsIGUpOyBzZXRFbnRyaWVzKHByZXYgPT4gW2UsIC4uLnByZXYuZmlsdGVyKHggPT4geC5pZCAhPT0gZS5pZCldLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIuZGF0ZSkgLSBuZXcgRGF0ZShhLmRhdGUpKSk7IH07CiAgY29uc3QgZGVsRW50cnkgPSBhc3luYyAoaWQpID0+IHsgYXdhaXQgZGVsKFMuZW50cmllcywgaWQpOyBzZXRFbnRyaWVzKHByZXYgPT4gcHJldi5maWx0ZXIoeCA9PiB4LmlkICE9PSBpZCkpOyB9OwogIGNvbnN0IHNhdmVQcm9maWxlID0gYXN5bmMgKGQpID0+IHsgYXdhaXQgcHV0KFMucHJvZmlsZSwgeyBrZXk6ICJtYWluIiwgZGF0YTogZCB9KTsgc2V0UHJvZmlsZShkKTsgfTsKICBjb25zdCBzYXZlU25hcCA9IGFzeW5jIChzKSA9PiB7IGF3YWl0IHB1dChTLnNuYXBzaG90cywgcyk7IHNldFNuYXBzKHByZXYgPT4gWy4uLnByZXYuZmlsdGVyKHggPT4geC5pZCAhPT0gcy5pZCksIHNdLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGEuZGF0ZSkgLSBuZXcgRGF0ZShiLmRhdGUpKSk7IH07CiAgY29uc3QgZGVsU25hcCA9IGFzeW5jIChpZCkgPT4geyBhd2FpdCBkZWwoUy5zbmFwc2hvdHMsIGlkKTsgc2V0U25hcHMocHJldiA9PiBwcmV2LmZpbHRlcih4ID0+IHguaWQgIT09IGlkKSk7IH07CgogIGNvbnN0IGV4cG9ydERhdGEgPSAoKSA9PiB7CiAgICBjb25zdCBkID0gSlNPTi5zdHJpbmdpZnkoeyBlbnRyaWVzLCBwcm9maWxlLCBzbmFwc2hvdHM6IHNuYXBzLCBleHBvcnRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0sIG51bGwsIDIpOwogICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgIGEuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2RdLCB7IHR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiB9KSk7CiAgICBhLmRvd25sb2FkID0gYHN0ZWFkZmFzdC1iYWNrdXAtJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApfS5qc29uYDsKICAgIGEuY2xpY2soKTsKICB9OwoKICBjb25zdCBpbXBvcnREYXRhID0gKGV2dCkgPT4gewogICAgY29uc3QgZiA9IGV2dC50YXJnZXQuZmlsZXNbMF07CiAgICBpZiAoIWYpIHJldHVybjsKICAgIGNvbnN0IHIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgci5vbmxvYWQgPSBhc3luYyAoZSkgPT4gewogICAgICB0cnkgewogICAgICAgIGNvbnN0IGQgPSBKU09OLnBhcnNlKGUudGFyZ2V0LnJlc3VsdCk7CiAgICAgICAgaWYgKGQuZW50cmllcykgZm9yIChjb25zdCB4IG9mIGQuZW50cmllcykgYXdhaXQgcHV0KFMuZW50cmllcywgeCk7CiAgICAgICAgaWYgKGQucHJvZmlsZSkgYXdhaXQgcHV0KFMucHJvZmlsZSwgeyBrZXk6ICJtYWluIiwgZGF0YTogZC5wcm9maWxlIH0pOwogICAgICAgIGlmIChkLnNuYXBzaG90cykgZm9yIChjb25zdCB4IG9mIGQuc25hcHNob3RzKSBhd2FpdCBwdXQoUy5zbmFwc2hvdHMsIHgpOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSBjYXRjaChlKSB7IGFsZXJ0KCJJbnZhbGlkIGJhY2t1cCBmaWxlLiIpOyB9CiAgICB9OwogICAgci5yZWFkQXNUZXh0KGYpOwogIH07CgogIGNvbnN0IG9wZW5FbnRyeSA9IChlID0gbnVsbCkgPT4gc2V0TW9kYWwoeyB0eXBlOiAiZW50cnkiLCBkYXRhOiBlIH0pOwogIGNvbnN0IGNsb3NlID0gKCkgPT4gc2V0TW9kYWwobnVsbCk7CgogIGlmICh2aWV3ID09PSAibG9hZGluZyIpIHJldHVybiAoCiAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5yb290LCBkaXNwbGF5OiAiZmxleCIsIGFsaWduSXRlbXM6ICJjZW50ZXIiLCBqdXN0aWZ5Q29udGVudDogImNlbnRlciIsIG1pbkhlaWdodDogIjEwMHZoIiB9fT4KICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250RmFtaWx5OiAiR2VvcmdpYSwgJ1RpbWVzIE5ldyBSb21hbicsIHNlcmlmIiwgZm9udFNpemU6IDE4IH19PkxvYWRpbmcuLi48L3A+CiAgICA8L2Rpdj4KICApOwoKICBpZiAodmlldyA9PT0gIm9uYm9hcmQiKSByZXR1cm4gPE9uYm9hcmRpbmcgb25Eb25lPXsoZCkgPT4geyBzYXZlUHJvZmlsZShkKTsgc2V0VmlldygiaG9tZSIpOyB9fSAvPjsKCiAgcmV0dXJuICgKICAgIDxkaXYgc3R5bGU9e2Nzcy5yb290fT4KICAgICAgPGRpdiBzdHlsZT17Y3NzLnNoZWxsfT4KICAgICAgICB7LyogTW9kYWwgbGF5ZXIgKi99CiAgICAgICAge21vZGFsPy50eXBlID09PSAiZW50cnkiICYmICgKICAgICAgICAgIDxFbnRyeU1vZGFsCiAgICAgICAgICAgIGVudHJ5PXttb2RhbC5kYXRhfQogICAgICAgICAgICBvblNhdmU9eyhlKSA9PiB7CiAgICAgICAgICAgICAgc2F2ZUVudHJ5KGUpOyBjbG9zZSgpOwogICAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlID09PSAicmVqZWN0aW9uIiB8fCBlLnJlc3BvbnNlID09PSAiZXNjYWxhdGlvbiIpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGNzID0gQ0FSRFMuZmlsdGVyKGMgPT4gYy50cmlnZ2Vycy5pbmNsdWRlcyhlLnJlc3BvbnNlKSk7CiAgICAgICAgICAgICAgICBpZiAoY3MubGVuZ3RoKSBzZXRUaW1lb3V0KCgpID0+IHNldE1vZGFsKHsgdHlwZTogImNhcmQiLCBkYXRhOiBjc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjcy5sZW5ndGgpXSB9KSwgMzAwKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH19CiAgICAgICAgICAgIG9uRGVsZXRlPXttb2RhbC5kYXRhID8gKGlkKSA9PiB7IGRlbEVudHJ5KGlkKTsgY2xvc2UoKTsgfSA6IG51bGx9CiAgICAgICAgICAgIG9uQ2xvc2U9e2Nsb3NlfQogICAgICAgICAgLz4KICAgICAgICApfQogICAgICAgIHttb2RhbD8udHlwZSA9PT0gImNhcmQiICYmIDxDYXJkTW9kYWwgY2FyZD17bW9kYWwuZGF0YX0gb25DbG9zZT17Y2xvc2V9IC8+fQogICAgICAgIHttb2RhbD8udHlwZSA9PT0gInNuYXAiICYmIDxTbmFwTW9kYWwgc25hcHM9e3NuYXBzfSBvblNhdmU9eyhzKSA9PiB7IHNhdmVTbmFwKHMpOyBjbG9zZSgpOyB9fSBvbkNsb3NlPXtjbG9zZX0gLz59CiAgICAgICAge21vZGFsPy50eXBlID09PSAic2V0dGluZ3MiICYmIDxTZXR0aW5nc01vZGFsIG9uQ2xvc2U9e2Nsb3NlfSBvbkV4cG9ydD17ZXhwb3J0RGF0YX0gb25JbXBvcnQ9e2ltcG9ydERhdGF9IG9uUmVkbz17KCkgPT4geyBzZXRWaWV3KCJvbmJvYXJkIik7IGNsb3NlKCk7IH19IC8+fQoKICAgICAgICB7LyogSGVhZGVyICovfQogICAgICAgIDxoZWFkZXIgc3R5bGU9e2Nzcy5oZHJ9PgogICAgICAgICAgPGRpdj4KICAgICAgICAgICAgPGgxIHN0eWxlPXtjc3MubG9nb30+U3RlYWRmYXN0PC9oMT4KICAgICAgICAgICAgPHAgc3R5bGU9e2Nzcy5zdWJ9PllvdXIgcHJvZ3Jlc3MgaXMgcmVhbCwgZXZlbiB3aGVuIGl0J3MgaW52aXNpYmxlPC9wPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldE1vZGFsKHsgdHlwZTogInNldHRpbmdzIiB9KX0gc3R5bGU9e2Nzcy5pY29uQnRufSBhcmlhLWxhYmVsPSJTZXR0aW5ncyI+4pqZPC9idXR0b24+CiAgICAgICAgPC9oZWFkZXI+CgogICAgICAgIDxOYXYgdmlldz17dmlld30gZ289e3NldFZpZXd9IC8+CgogICAgICAgIDxtYWluIHN0eWxlPXt7IHBhZGRpbmc6ICI0cHggMTZweCAxMjBweCIgfX0+CiAgICAgICAgICB7dmlldyA9PT0gImhvbWUiICYmIDxIb21lIGVudHJpZXM9e2VudHJpZXN9IHByb2ZpbGU9e3Byb2ZpbGV9IHNuYXBzPXtzbmFwc30gb3BlbkVudHJ5PXtvcGVuRW50cnl9IG9wZW5TbmFwPXsoKSA9PiBzZXRNb2RhbCh7IHR5cGU6ICJzbmFwIiB9KX0gb3BlbkNhcmQ9eygpID0+IHsgY29uc3QgYyA9IENBUkRTW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIENBUkRTLmxlbmd0aCldOyBzZXRNb2RhbCh7IHR5cGU6ICJjYXJkIiwgZGF0YTogYyB9KTsgfX0gLz59CiAgICAgICAgICB7dmlldyA9PT0gInRpbWVsaW5lIiAmJiA8VGltZWxpbmUgZW50cmllcz17ZW50cmllc30gc25hcHM9e3NuYXBzfSByYW5nZT17dGltZVJhbmdlfSBzZXRSYW5nZT17c2V0VGltZVJhbmdlfSBvcGVuRW50cnk9e29wZW5FbnRyeX0gLz59CiAgICAgICAgICB7dmlldyA9PT0gInBhdHRlcm5zIiAmJiA8UGF0dGVybnMgZW50cmllcz17ZW50cmllc30gbW9kZT17cGF0TW9kZX0gc2V0TW9kZT17c2V0UGF0TW9kZX0gLz59CiAgICAgICAgICB7dmlldyA9PT0gInBlcnNwZWN0aXZlIiAmJiA8UGVyc3BlY3RpdmUgZW50cmllcz17ZW50cmllc30gb3BlbkNhcmQ9eyhjKSA9PiBzZXRNb2RhbCh7IHR5cGU6ICJjYXJkIiwgZGF0YTogYyB9KX0gLz59CiAgICAgICAgICB7dmlldyA9PT0gInBhcnRuZXIiICYmIDxQYXJ0bmVyIGVudHJpZXM9e2VudHJpZXN9IHByb2ZpbGU9e3Byb2ZpbGV9IHNuYXBzPXtzbmFwc30gLz59CiAgICAgICAgICB7dmlldyA9PT0gImJlbmNobWFyayIgJiYgPEJlbmNobWFyayBwcm9maWxlPXtwcm9maWxlfSBzbmFwcz17c25hcHN9IGVudHJpZXM9e2VudHJpZXN9IG9wZW5TbmFwPXsoKSA9PiBzZXRNb2RhbCh7IHR5cGU6ICJzbmFwIiB9KX0gb25EZWxldGVTbmFwPXtkZWxTbmFwfSAvPn0KICAgICAgICA8L21haW4+CgogICAgICAgIHsvKiBGQUIgKi99CiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBvcGVuRW50cnkoKX0gc3R5bGU9e2Nzcy5mYWJ9IGFyaWEtbGFiZWw9IkxvZyBpbnRlcmFjdGlvbiI+CiAgICAgICAgICA8c3ZnIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlV2lkdGg9IjIuNSI+PGxpbmUgeDE9IjEyIiB5MT0iNSIgeDI9IjEyIiB5Mj0iMTkiLz48bGluZSB4MT0iNSIgeTE9IjEyIiB4Mj0iMTkiIHkyPSIxMiIvPjwvc3ZnPgogICAgICAgIDwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgTkFWSUdBVElPTgovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKZnVuY3Rpb24gTmF2KHsgdmlldywgZ28gfSkgewogIGNvbnN0IGl0ZW1zID0gWwogICAgeyBpZDogImhvbWUiLCBsYWJlbDogIkhvbWUiLCBpY286ICLiipkiIH0sCiAgICB7IGlkOiAidGltZWxpbmUiLCBsYWJlbDogIlRpbWVsaW5lIiwgaWNvOiAi4pSBIiB9LAogICAgeyBpZDogInBhdHRlcm5zIiwgbGFiZWw6ICJQYXR0ZXJucyIsIGljbzogIuKXqyIgfSwKICAgIHsgaWQ6ICJwZXJzcGVjdGl2ZSIsIGxhYmVsOiAiU2hpZnQiLCBpY286ICLil4ciIH0sCiAgICB7IGlkOiAicGFydG5lciIsIGxhYmVsOiAiUGFydG5lciIsIGljbzogIuKZoSIgfSwKICAgIHsgaWQ6ICJiZW5jaG1hcmsiLCBsYWJlbDogIkJlbmNoIiwgaWNvOiAi4pazIiB9LAogIF07CiAgcmV0dXJuICgKICAgIDxuYXYgc3R5bGU9e2Nzcy5uYXZ9PgogICAgICB7aXRlbXMubWFwKGkgPT4gKAogICAgICAgIDxidXR0b24ga2V5PXtpLmlkfSBvbkNsaWNrPXsoKSA9PiBnbyhpLmlkKX0gc3R5bGU9e3sgLi4uY3NzLm5hdkJ0biwgY29sb3I6IHZpZXcgPT09IGkuaWQgPyBQLndhcm0gOiBQLmRpbSwgYm9yZGVyQm90dG9tOiB2aWV3ID09PSBpLmlkID8gYDJweCBzb2xpZCAke1Aud2FybX1gIDogIjJweCBzb2xpZCB0cmFuc3BhcmVudCIgfX0+CiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTUgfX0+e2kuaWNvfTwvc3Bhbj4KICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAxMCB9fT57aS5sYWJlbH08L3NwYW4+CiAgICAgICAgPC9idXR0b24+CiAgICAgICkpfQogICAgPC9uYXY+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBIT01FCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkApmdW5jdGlvbiBIb21lKHsgZW50cmllcywgcHJvZmlsZSwgc25hcHMsIG9wZW5FbnRyeSwgb3BlblNuYXAsIG9wZW5DYXJkIH0pIHsKICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7CiAgY29uc3QgdG9kYXlOID0gZW50cmllcy5maWx0ZXIoZSA9PiBlLmRhdGUuc2xpY2UoMCwgMTApID09PSB0b2RheSkubGVuZ3RoOwogIGNvbnN0IHdlZWsgPSBlbnRyaWVzLmZpbHRlcihlID0+IGRheXNBZ28oZS5kYXRlKSA8PSA3KTsKICBjb25zdCB3ZWVrUG9zID0gd2Vlay5maWx0ZXIoZSA9PiBlLnJlc3BvbnNlID09PSAicG9zaXRpdmUiIHx8IGUucmVzcG9uc2UgPT09ICJuZXV0cmFsIikubGVuZ3RoOwogIGNvbnN0IGRheXMgPSBwcm9maWxlPy5zdGFydERhdGUgPyBkYXlzQWdvKHByb2ZpbGUuc3RhcnREYXRlKSA6IDA7CiAgY29uc3QgbGFzdFNuYXAgPSBzbmFwcy5sZW5ndGggPyBzbmFwc1tzbmFwcy5sZW5ndGggLSAxXSA6IG51bGw7CiAgY29uc3Qgc25hcER1ZSA9ICFsYXN0U25hcCB8fCBkYXlzQWdvKGxhc3RTbmFwLmRhdGUpID49IDI4OwoKICAvLyBEYWlseSBxdW90ZSAtIGRldGVybWluaXN0aWMgYmFzZWQgb24gZGF5IG51bWJlciBzaW5jZSBlcG9jaAogIGNvbnN0IGRheU51bSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDg2NDAwMDAwKTsKICBjb25zdCBkYWlseVF1b3RlID0gREFJTFlfUVVPVEVTW2RheU51bSAlIERBSUxZX1FVT1RFUy5sZW5ndGhdOwoKICByZXR1cm4gKAogICAgPGRpdj4KICAgICAgey8qIERhaWx5IHF1b3RlICovfQogICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAyMCwgbWFyZ2luQm90dG9tOiAxMiwgYm9yZGVyTGVmdDogYDNweCBzb2xpZCAke1Aud2FybX00NGAsIGJhY2tncm91bmQ6IGBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAke1AuY2FyZH0gMCUsICMxYTE1MjAgMTAwJSlgIH19PgogICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNCwgbGluZUhlaWdodDogMS43LCBmb250U3R5bGU6ICJpdGFsaWMiLCBtYXJnaW46IDAgfX0+IntkYWlseVF1b3RlLnF9IjwvcD4KICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC53YXJtLCBmb250U2l6ZTogMTEsIG1hcmdpbjogIjEwcHggMCAwIiwgb3BhY2l0eTogMC44IH19PuKAlCB7ZGFpbHlRdW90ZS53aG99PC9wPgogICAgICA8L2Rpdj4KICAgICAgey8qIENUQSBjYXJkICovfQogICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHtQLmNhcmR9IDAlLCAke1AuY2FyZDJ9IDEwMCUpYCwgcGFkZGluZzogMjQsIG1hcmdpbkJvdHRvbTogMTIgfX0+CiAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIG1hcmdpbjogIjAgMCAxNHB4IiwgZm9udFNpemU6IDE1IH19PgogICAgICAgICAge3RvZGF5TiA9PT0gMCA/ICJIb3cgZGlkIHRoaW5ncyBnbyB0b2RheT8iIDogYCR7dG9kYXlOfSBpbnRlcmFjdGlvbiR7dG9kYXlOID4gMSA/ICJzIiA6ICIifSBsb2dnZWQgdG9kYXkuYH0KICAgICAgICA8L3A+CiAgICAgICAgPEJ0biBvbkNsaWNrPXsoKSA9PiBvcGVuRW50cnkoKX0+TG9nIGFuIEludGVyYWN0aW9uPC9CdG4+CiAgICAgIDwvZGl2PgoKICAgICAgey8qIFN0YXRzICovfQogICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiA4LCBtYXJnaW5Cb3R0b206IDEyIH19PgogICAgICAgIDxTdGF0IG49e2RheXN9IGw9ImRheXMgdHJhY2tpbmciIC8+CiAgICAgICAgPFN0YXQgbj17ZW50cmllcy5sZW5ndGh9IGw9InRvdGFsIGxvZ2dlZCIgLz4KICAgICAgICA8U3RhdCBuPXt3ZWVrLmxlbmd0aCA+IDAgPyBNYXRoLnJvdW5kKCh3ZWVrUG9zIC8gd2Vlay5sZW5ndGgpICogMTAwKSArICIlIiA6ICLigJQifSBsPSJwb3NpdGl2ZSB0aGlzIHdrIiAvPgogICAgICA8L2Rpdj4KCiAgICAgIHsvKiBTbmFwc2hvdCBwcm9tcHQgKi99CiAgICAgIHtzbmFwRHVlICYmICgKICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29wZW5TbmFwfSBzdHlsZT17Y3NzLnByb21wdH0+CiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTYgfX0+8J+Tijwvc3Bhbj4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSB9fT4KICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTQsIGZvbnRXZWlnaHQ6IDUwMCB9fT5Nb250aGx5IGNoZWNrLWluIHtsYXN0U25hcCA/ICJkdWUiIDogImF2YWlsYWJsZSJ9PC9kaXY+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTIsIG1hcmdpblRvcDogMiB9fT4KICAgICAgICAgICAgICB7bGFzdFNuYXAgPyBgTGFzdCBzbmFwc2hvdCB3YXMgJHtkYXlzQWdvKGxhc3RTbmFwLmRhdGUpfSBkYXlzIGFnby5gIDogIlRha2UgeW91ciBmaXJzdCBzbmFwc2hvdCB0byBzdGFydCB0cmFja2luZyBwcm9ncmVzcy4ifSBDb21wYXJlIHdoZXJlIHRoaW5ncyBzdGFuZCBvdmVyIHRpbWUuCiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9idXR0b24+CiAgICAgICl9CgogICAgICB7LyogUGVyc3BlY3RpdmUgc2hvcnRjdXQgKi99CiAgICAgIDxidXR0b24gb25DbGljaz17b3BlbkNhcmR9IHN0eWxlPXt7IC4uLmNzcy5wcm9tcHQsIGJvcmRlckNvbG9yOiAiIzI5MjMyZSIgfX0+CiAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6IDE2IH19PuKXhzwvc3Bhbj4KICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IDEgfX0+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNCwgZm9udFdlaWdodDogNTAwIH19Pk5lZWQgYSBwZXJzcGVjdGl2ZSBzaGlmdD88L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTIsIG1hcmdpblRvcDogMiB9fT5SZXNlYXJjaC1iYWNrZWQgcmVmcmFtZXMgZm9yIHdoZW4gdGhpbmdzIGZlZWwgaGVhdnkuPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvYnV0dG9uPgoKICAgICAgey8qIFJlY2VudCAqL30KICAgICAge2VudHJpZXMubGVuZ3RoID4gMCAmJiA8U2VjdGlvblRpdGxlPlJlY2VudDwvU2VjdGlvblRpdGxlPn0KICAgICAge2VudHJpZXMuc2xpY2UoMCwgNSkubWFwKGUgPT4gPEVudHJ5Um93IGtleT17ZS5pZH0gZW50cnk9e2V9IG9uQ2xpY2s9eygpID0+IG9wZW5FbnRyeShlKX0gLz4pfQogICAgPC9kaXY+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBUSU1FTElORQovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKZnVuY3Rpb24gVGltZWxpbmUoeyBlbnRyaWVzLCBzbmFwcywgcmFuZ2UsIHNldFJhbmdlLCBvcGVuRW50cnkgfSkgewogIGNvbnN0IHJhbmdlcyA9IHsgIjFtIjogMzAsICIzbSI6IDkwLCAiNm0iOiAxODAsICIxeSI6IDM2NSwgYWxsOiA5OTk5OSB9OwogIGNvbnN0IGN1dCA9IERhdGUubm93KCkgLSByYW5nZXNbcmFuZ2VdICogODY0MDAwMDA7CiAgY29uc3QgZmlsID0gdXNlTWVtbygoKSA9PgogICAgZW50cmllcy5maWx0ZXIoZSA9PiBuZXcgRGF0ZShlLmRhdGUpLmdldFRpbWUoKSA+PSBjdXQpLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGEuZGF0ZSkgLSBuZXcgRGF0ZShiLmRhdGUpKSwKICAgIFtlbnRyaWVzLCBjdXRdCiAgKTsKCiAgLy8gR3JvdXAgYnkgY2FsZW5kYXIgZGF0ZSBzdHJpbmcgKFlZWVktTU0tREQgaW4gbG9jYWwgdGltZSkKICBjb25zdCBncm91cHMgPSB1c2VNZW1vKCgpID0+IHsKICAgIGNvbnN0IG0gPSB7fTsKICAgIGZpbC5mb3JFYWNoKGUgPT4gewogICAgICBjb25zdCBkID0gbmV3IERhdGUoZS5kYXRlKTsKICAgICAgY29uc3QgayA9IGAke2QuZ2V0RnVsbFllYXIoKX0tJHtTdHJpbmcoZC5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgIjAiKX0tJHtTdHJpbmcoZC5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICIwIil9YDsKICAgICAgaWYgKCFtW2tdKSBtW2tdID0gW107CiAgICAgIG1ba10ucHVzaChlKTsKICAgIH0pOwogICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKG0pLnNvcnQoKFthXSwgW2JdKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpLm1hcCgoW2ssIHZdKSA9PiAoeyBrZXk6IGssIGVudHJpZXM6IHYgfSkpOwogIH0sIFtmaWxdKTsKCiAgY29uc3Qgc2NvcmVzID0gZ3JvdXBzLm1hcChnID0+IHsKICAgIGNvbnN0IHMgPSBnLmVudHJpZXMubWFwKGUgPT4gUkVTUE9OU0VTLmZpbmQociA9PiByLmlkID09PSBlLnJlc3BvbnNlKT8uc2NvcmUgPz8gMik7CiAgICByZXR1cm4geyAuLi5nLCBhdmc6IHMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBzLmxlbmd0aCwgY291bnQ6IGcuZW50cmllcy5sZW5ndGggfTsKICB9KTsKCiAgLy8gU21hbGwgbXVsdGlwbGVzOiBwZXIgcmVzcG9uc2UgdHlwZSwgZGFpbHkgY291bnQgb3ZlciB0aW1lCiAgY29uc3QgW3Nlcmllc0ZpbHRlciwgc2V0U2VyaWVzRmlsdGVyXSA9IHVzZVN0YXRlKCJhbGwiKTsKICBjb25zdCBzZXJpZXNEYXRhID0gdXNlTWVtbygoKSA9PiB7CiAgICBjb25zdCBhbGxEYXRlcyA9IGdyb3Vwcy5tYXAoZyA9PiBnLmtleSk7CiAgICByZXR1cm4gUkVTUE9OU0VTLm1hcChyID0+IHsKICAgICAgY29uc3QgY291bnRzID0gZ3JvdXBzLm1hcChnID0+IGcuZW50cmllcy5maWx0ZXIoZSA9PiBlLnJlc3BvbnNlID09PSByLmlkKS5sZW5ndGgpOwogICAgICByZXR1cm4geyAuLi5yLCBjb3VudHMsIGRhdGVzOiBhbGxEYXRlcyB9OwogICAgfSk7CiAgfSwgW2dyb3Vwc10pOwoKICAvLyBTaW1wbGUgbW92aW5nIGF2ZXJhZ2UgdHJlbmRsaW5lICh3aW5kb3c9MykKICBjb25zdCB0cmVuZCA9IChhcnIpID0+IHsKICAgIGlmIChhcnIubGVuZ3RoIDwgMykgcmV0dXJuIGFycjsKICAgIHJldHVybiBhcnIubWFwKChfLCBpKSA9PiB7CiAgICAgIGNvbnN0IHN0YXJ0ID0gTWF0aC5tYXgoMCwgaSAtIDEpOwogICAgICBjb25zdCBlbmQgPSBNYXRoLm1pbihhcnIubGVuZ3RoLCBpICsgMik7CiAgICAgIGNvbnN0IHNsaWNlID0gYXJyLnNsaWNlKHN0YXJ0LCBlbmQpOwogICAgICByZXR1cm4gc2xpY2UucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBzbGljZS5sZW5ndGg7CiAgICB9KTsKICB9OwoKICBjb25zdCBmbXRLZXkgPSAoaykgPT4gewogICAgY29uc3QgW3ksIG0sIGRdID0gay5zcGxpdCgiLSIpOwogICAgY29uc3QgbW9udGhzID0gWyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXTsKICAgIHJldHVybiBgJHttb250aHNbcGFyc2VJbnQobSkgLSAxXX0gJHtwYXJzZUludChkKX1gOwogIH07CgogIC8vIFNWRyBzbWFsbCBtdWx0aXBsZSBjaGFydAogIGNvbnN0IFNtYWxsTXVsdGlwbGUgPSAoeyBkYXRhLCBtYXhZIH0pID0+IHsKICAgIGNvbnN0IHcgPSAyODAsIGggPSA1MCwgcGFkTCA9IDAsIHBhZFIgPSA0OwogICAgY29uc3QgbiA9IGRhdGEuY291bnRzLmxlbmd0aDsKICAgIGlmIChuID09PSAwKSByZXR1cm4gbnVsbDsKICAgIGNvbnN0IGNNYXggPSBNYXRoLm1heChtYXhZLCAxKTsKICAgIGNvbnN0IHhTdGVwID0gbiA+IDEgPyAodyAtIHBhZEwgLSBwYWRSKSAvIChuIC0gMSkgOiAwOwoKICAgIGNvbnN0IHBvaW50cyA9IGRhdGEuY291bnRzLm1hcCgoYywgaSkgPT4gKHsgeDogcGFkTCArIGkgKiB4U3RlcCwgeTogaCAtIChjIC8gY01heCkgKiAoaCAtIDQpIH0pKTsKICAgIGNvbnN0IHRyZW5kVmFscyA9IHRyZW5kKGRhdGEuY291bnRzKTsKICAgIGNvbnN0IHRyZW5kUHRzID0gdHJlbmRWYWxzLm1hcCgoYywgaSkgPT4gKHsgeDogcGFkTCArIGkgKiB4U3RlcCwgeTogaCAtIChjIC8gY01heCkgKiAoaCAtIDQpIH0pKTsKCiAgICBjb25zdCBwYXRoRCA9IHBvaW50cy5tYXAoKHAsIGkpID0+IGAke2kgPT09IDAgPyAiTSIgOiAiTCJ9JHtwLnh9LCR7cC55fWApLmpvaW4oIiAiKTsKICAgIGNvbnN0IHRyZW5kRCA9IHRyZW5kUHRzLm1hcCgocCwgaSkgPT4gYCR7aSA9PT0gMCA/ICJNIiA6ICJMIn0ke3AueH0sJHtwLnl9YCkuam9pbigiICIpOwoKICAgIHJldHVybiAoCiAgICAgIDxzdmcgdmlld0JveD17YDAgMCAke3d9ICR7aH1gfSBzdHlsZT17eyB3aWR0aDogIjEwMCUiLCBoZWlnaHQ6IGgsIGRpc3BsYXk6ICJibG9jayIgfX0+CiAgICAgICAgey8qIEdyaWQgbGluZSBhdCAwICovfQogICAgICAgIDxsaW5lIHgxPXtwYWRMfSB5MT17aH0geDI9e3cgLSBwYWRSfSB5Mj17aH0gc3Ryb2tlPXtQLmJvcmRlcn0gc3Ryb2tlV2lkdGg9IjAuNSIgLz4KICAgICAgICB7LyogRGF0YSBsaW5lICovfQogICAgICAgIHtuID4gMSA/ICgKICAgICAgICAgIDw+CiAgICAgICAgICAgIDxwYXRoIGQ9e3BhdGhEfSBmaWxsPSJub25lIiBzdHJva2U9e2RhdGEuY30gc3Ryb2tlV2lkdGg9IjEuNSIgb3BhY2l0eT0iMC40IiAvPgogICAgICAgICAgICA8cGF0aCBkPXt0cmVuZER9IGZpbGw9Im5vbmUiIHN0cm9rZT17ZGF0YS5jfSBzdHJva2VXaWR0aD0iMiIgLz4KICAgICAgICAgIDwvPgogICAgICAgICkgOiAoCiAgICAgICAgICA8Y2lyY2xlIGN4PXtwb2ludHNbMF0ueH0gY3k9e3BvaW50c1swXS55fSByPSIzIiBmaWxsPXtkYXRhLmN9IC8+CiAgICAgICAgKX0KICAgICAgICB7LyogRG90cyAqL30KICAgICAgICB7cG9pbnRzLm1hcCgocCwgaSkgPT4gPGNpcmNsZSBrZXk9e2l9IGN4PXtwLnh9IGN5PXtwLnl9IHI9IjIiIGZpbGw9e2RhdGEuY30gb3BhY2l0eT0iMC42IiAvPil9CiAgICAgIDwvc3ZnPgogICAgKTsKICB9OwoKICBjb25zdCBnbG9iYWxNYXhEYWlseSA9IHVzZU1lbW8oKCkgPT4gewogICAgbGV0IG14ID0gMDsKICAgIGdyb3Vwcy5mb3JFYWNoKGcgPT4gewogICAgICBSRVNQT05TRVMuZm9yRWFjaChyID0+IHsKICAgICAgICBjb25zdCBjID0gZy5lbnRyaWVzLmZpbHRlcihlID0+IGUucmVzcG9uc2UgPT09IHIuaWQpLmxlbmd0aDsKICAgICAgICBpZiAoYyA+IG14KSBteCA9IGM7CiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gbXg7CiAgfSwgW2dyb3Vwc10pOwoKICBjb25zdCBmaWx0ZXJlZFNlcmllcyA9IHNlcmllc0ZpbHRlciA9PT0gImFsbCIgPyBzZXJpZXNEYXRhIDogc2VyaWVzRGF0YS5maWx0ZXIocyA9PiBzLmlkID09PSBzZXJpZXNGaWx0ZXIpOwoKICByZXR1cm4gKAogICAgPGRpdj4KICAgICAgPFRhYnMgaXRlbXM9e09iamVjdC5rZXlzKHJhbmdlcykubWFwKHIgPT4gciA9PT0gImFsbCIgPyAiQWxsIiA6IHIpfSBhY3RpdmU9e3JhbmdlID09PSAiYWxsIiA/ICJBbGwiIDogcmFuZ2V9IG9uUGljaz17KHYpID0+IHNldFJhbmdlKHYgPT09ICJBbGwiID8gImFsbCIgOiB2KX0gLz4KCiAgICAgIHtmaWwubGVuZ3RoID09PSAwID8gKAogICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAiY2VudGVyIiwgcGFkZGluZzogIjQ4cHggMjBweCIgfX0+CiAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0gfX0+Tm8gZW50cmllcyBpbiB0aGlzIHJhbmdlIHlldC48L3A+CiAgICAgICAgPC9kaXY+CiAgICAgICkgOiAoCiAgICAgICAgPD4KICAgICAgICAgIHsvKiBEYWlseSB0b25lIGJhciBjaGFydCAqL30KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDEyIH19PgogICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMiwgbWFyZ2luOiAiMCAwIDEwcHgiIH19PkRhaWx5IGVtb3Rpb25hbCB0b25lICh0YWxsZXIgPSBtb3JlIHBvc2l0aXZlKTwvcD4KICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogMiwgYWxpZ25JdGVtczogImZsZXgtZW5kIiwgaGVpZ2h0OiA4MCB9fT4KICAgICAgICAgICAgICB7c2NvcmVzLm1hcCgoZywgaSkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgaFB4ID0gTWF0aC5tYXgoTWF0aC5yb3VuZCgoZy5hdmcgLyA0KSAqIDcwKSwgNCk7CiAgICAgICAgICAgICAgICBjb25zdCBjID0gZy5hdmcgPj0gMyA/IFAuZ3JlZW4gOiBnLmF2ZyA+PSAyID8gUC5ibHVlIDogZy5hdmcgPj0gMSA/IFAucm9zZSA6IFAucmVkOwogICAgICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l9IHN0eWxlPXt7IGZsZXg6IDEsIG1heFdpZHRoOiAyOCB9fT4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiAiMTAwJSIsIGhlaWdodDogaFB4LCBiYWNrZ3JvdW5kOiBjLCBib3JkZXJSYWRpdXM6ICIzcHggM3B4IDAgMCIgfX0gLz4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0pfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogMTAsIG1hcmdpblRvcDogMTAsIGZsZXhXcmFwOiAid3JhcCIgfX0+CiAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6IDEwLCBjb2xvcjogUC5yZWQgfX0+4pePIFZlcnkgaGFyZDwvc3Bhbj4KICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTAsIGNvbG9yOiBQLnJvc2UgfX0+4pePIERpZmZpY3VsdDwvc3Bhbj4KICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTAsIGNvbG9yOiBQLmJsdWUgfX0+4pePIE1peGVkPC9zcGFuPgogICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAxMCwgY29sb3I6IFAuZ3JlZW4gfX0+4pePIFBvc2l0aXZlPC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIHsvKiBTbWFsbCBtdWx0aXBsZXMgdGltZSBzZXJpZXMgKi99CiAgICAgICAgICB7Z3JvdXBzLmxlbmd0aCA+PSAyICYmICgKICAgICAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogMTIgfX0+CiAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTIsIG1hcmdpbjogIjAgMCA4cHgiIH19PlJlc3BvbnNlIGZyZXF1ZW5jeSBvdmVyIHRpbWUgKGJvbGQgbGluZSA9IHRyZW5kKTwvcD4KICAgICAgICAgICAgICB7LyogRmlsdGVyICovfQogICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBnYXA6IDQsIG1hcmdpbkJvdHRvbTogMTIsIGZsZXhXcmFwOiAid3JhcCIgfX0+CiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNlcmllc0ZpbHRlcigiYWxsIil9IHN0eWxlPXt7IC4uLmNzc19jaGlwKHNlcmllc0ZpbHRlciA9PT0gImFsbCIsIFAud2FybSkgfX0+QWxsPC9idXR0b24+CiAgICAgICAgICAgICAgICB7UkVTUE9OU0VTLm1hcChyID0+ICgKICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBrZXk9e3IuaWR9IG9uQ2xpY2s9eygpID0+IHNldFNlcmllc0ZpbHRlcihyLmlkKX0gc3R5bGU9e3sgLi4uY3NzX2NoaXAoc2VyaWVzRmlsdGVyID09PSByLmlkLCByLmMpIH19PntyLmljb259IHtyLmxhYmVsfTwvYnV0dG9uPgogICAgICAgICAgICAgICAgKSl9CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAge2ZpbHRlcmVkU2VyaWVzLm1hcChzID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGhhc0RhdGEgPSBzLmNvdW50cy5zb21lKGMgPT4gYyA+IDApOwogICAgICAgICAgICAgICAgaWYgKCFoYXNEYXRhKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtzLmlkfSBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDEwIH19PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBhbGlnbkl0ZW1zOiAiY2VudGVyIiwgZ2FwOiA2LCBtYXJnaW5Cb3R0b206IDIgfX0+CiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTIsIGNvbG9yOiBzLmMgfX0+e3MuaWNvbn08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTEsIGNvbG9yOiBzLmMsIGZvbnRXZWlnaHQ6IDUwMCB9fT57cy5sYWJlbH08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTAsIGNvbG9yOiBQLmRpbSB9fT4oe3MuY291bnRzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApfSB0b3RhbCk8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPFNtYWxsTXVsdGlwbGUgZGF0YT17c30gbWF4WT17Z2xvYmFsTWF4RGFpbHl9IC8+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICB9KX0KICAgICAgICAgICAgICB7LyogWCBheGlzIGxhYmVscyAqL30KICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiwgbWFyZ2luVG9wOiAyIH19PgogICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltbWVyLCBmb250U2l6ZTogOSB9fT57Zm10S2V5KGdyb3Vwc1swXS5rZXkpfTwvc3Bhbj4KICAgICAgICAgICAgICAgIHtncm91cHMubGVuZ3RoID4gMiAmJiA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW1tZXIsIGZvbnRTaXplOiA5IH19PntmbXRLZXkoZ3JvdXBzW01hdGguZmxvb3IoZ3JvdXBzLmxlbmd0aCAvIDIpXS5rZXkpfTwvc3Bhbj59CiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW1tZXIsIGZvbnRTaXplOiA5IH19PntmbXRLZXkoZ3JvdXBzW2dyb3Vwcy5sZW5ndGggLSAxXS5rZXkpfTwvc3Bhbj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICApfQoKICAgICAgICAgIHsvKiBTdGF0cyAqL30KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBnYXA6IDgsIG1hcmdpbkJvdHRvbTogMTIgfX0+CiAgICAgICAgICAgIDxTdGF0IG49e2ZpbC5sZW5ndGh9IGw9ImludGVyYWN0aW9ucyIgLz4KICAgICAgICAgICAgPFN0YXQgbj17ZmlsLmZpbHRlcihlID0+IGUucmVzcG9uc2UgPT09ICJwb3NpdGl2ZSIgfHwgZS5yZXNwb25zZSA9PT0gIm5ldXRyYWwiKS5sZW5ndGh9IGw9InBvc2l0aXZlIC8gbmV1dHJhbCIgLz4KICAgICAgICAgICAgPFN0YXQgbj17ZmlsLmZpbHRlcihlID0+IGUucmVzcG9uc2UgPT09ICJyZWplY3Rpb24iIHx8IGUucmVzcG9uc2UgPT09ICJlc2NhbGF0aW9uIikubGVuZ3RofSBsPSJyZWplY3Rpb25zIiAvPgogICAgICAgICAgPC9kaXY+CgogICAgICAgICAgey8qIEVudHJpZXMgd2l0aCBzbmFwc2hvdCBtYXJrZXJzIGludGVybGVhdmVkICovfQogICAgICAgICAgeygoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHNuYXBzQnlEYXRlID0ge307CiAgICAgICAgICAgIHNuYXBzLmZvckVhY2gocyA9PiB7CiAgICAgICAgICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKHMuZGF0ZSk7CiAgICAgICAgICAgICAgY29uc3QgayA9IGAke2QuZ2V0RnVsbFllYXIoKX0tJHtTdHJpbmcoZC5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgIjAiKX0tJHtTdHJpbmcoZC5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICIwIil9YDsKICAgICAgICAgICAgICBzbmFwc0J5RGF0ZVtrXSA9IHM7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjb25zdCBpdGVtcyA9IGZpbC5zbGljZSgwLCA2MCkubWFwKGUgPT4gKHsgdHlwZTogImVudHJ5IiwgZGF0YTogZSwgZGF0ZTogbmV3IERhdGUoZS5kYXRlKSB9KSk7CiAgICAgICAgICAgIC8vIEluc2VydCBzbmFwIG1hcmtlcnMKICAgICAgICAgICAgc25hcHMuZm9yRWFjaChzID0+IHsKICAgICAgICAgICAgICBjb25zdCBzZCA9IG5ldyBEYXRlKHMuZGF0ZSk7CiAgICAgICAgICAgICAgaWYgKHNkLmdldFRpbWUoKSA+PSBjdXQpIGl0ZW1zLnB1c2goeyB0eXBlOiAic25hcCIsIGRhdGE6IHMsIGRhdGU6IHNkIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaXRlbXMuc29ydCgoYSwgYikgPT4gYi5kYXRlIC0gYS5kYXRlKTsKICAgICAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcCgoaXRlbSwgaSkgPT4gewogICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICJlbnRyeSIpIHJldHVybiA8RW50cnlSb3cga2V5PXtpdGVtLmRhdGEuaWR9IGVudHJ5PXtpdGVtLmRhdGF9IG9uQ2xpY2s9eygpID0+IG9wZW5FbnRyeShpdGVtLmRhdGEpfSAvPjsKICAgICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgPGRpdiBrZXk9eyJzbmFwLSIgKyBpdGVtLmRhdGEuaWR9IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgYWxpZ25JdGVtczogImNlbnRlciIsIGdhcDogOCwgcGFkZGluZzogIjhweCAxMnB4IiwgbWFyZ2luOiAiNHB4IDAiLCBib3JkZXJMZWZ0OiBgM3B4IHNvbGlkICR7UC5wdXJwbGV9YCwgYmFja2dyb3VuZDogUC5jYXJkMiwgYm9yZGVyUmFkaXVzOiAiMCA4cHggOHB4IDAiIH19PgogICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTMgfX0+8J+Tijwvc3Bhbj4KICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxIH19PgogICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLnB1cnBsZSwgZm9udFNpemU6IDExLCBmb250V2VpZ2h0OiA1MDAgfX0+UHJvZ3Jlc3Mgc25hcHNob3Q8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTAsIG1hcmdpbkxlZnQ6IDYgfX0+e2ZtdFNob3J0KGl0ZW0uZGF0YS5kYXRlKX08L3NwYW4+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KSgpfQogICAgICAgICAge2ZpbC5sZW5ndGggPiA2MCAmJiA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMiwgdGV4dEFsaWduOiAiY2VudGVyIiwgcGFkZGluZzogMTIgfX0+U2hvd2luZyA2MCBvZiB7ZmlsLmxlbmd0aH08L3A+fQogICAgICAgIDwvPgogICAgICApfQogICAgPC9kaXY+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBQQVRURVJOUwovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKZnVuY3Rpb24gUGF0dGVybnMoeyBlbnRyaWVzLCBtb2RlLCBzZXRNb2RlIH0pIHsKICBjb25zdCBhUGF0cyA9IHVzZU1lbW8oKCkgPT4gewogICAgY29uc3QgbSA9IHt9OwogICAgQUNUSU9OUy5mb3JFYWNoKGEgPT4geyBtW2EuaWRdID0geyB0b3RhbDogMCB9OyBSRVNQT05TRVMuZm9yRWFjaChyID0+IHsgbVthLmlkXVtyLmlkXSA9IDA7IH0pOyB9KTsKICAgIGVudHJpZXMuZm9yRWFjaChlID0+IHsgaWYgKG1bZS5hY3Rpb25dKSB7IG1bZS5hY3Rpb25dLnRvdGFsKys7IG1bZS5hY3Rpb25dW2UucmVzcG9uc2VdKys7IH0gfSk7CiAgICByZXR1cm4gbTsKICB9LCBbZW50cmllc10pOwoKICBjb25zdCBjUGF0cyA9IHVzZU1lbW8oKCkgPT4gewogICAgY29uc3QgbSA9IHt9OwogICAgZW50cmllcy5mb3JFYWNoKGUgPT4gewogICAgICAoZS5jb250ZXh0cyB8fCBbXSkuZm9yRWFjaChjID0+IHsKICAgICAgICBpZiAoIW1bY10pIHsgbVtjXSA9IHsgdG90YWw6IDAgfTsgUkVTUE9OU0VTLmZvckVhY2gociA9PiB7IG1bY11bci5pZF0gPSAwOyB9KTsgfQogICAgICAgIG1bY10udG90YWwrKzsgbVtjXVtlLnJlc3BvbnNlXSsrOwogICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIG07CiAgfSwgW2VudHJpZXNdKTsKCiAgY29uc3QgcmFua2VkID0gQUNUSU9OUy5tYXAoYSA9PiB7CiAgICBjb25zdCBwID0gYVBhdHNbYS5pZF07IGlmIChwLnRvdGFsIDwgMykgcmV0dXJuIG51bGw7CiAgICBjb25zdCBwb3MgPSAoKHAucG9zaXRpdmUgKyBwLm5ldXRyYWwpIC8gcC50b3RhbCkgKiAxMDA7CiAgICByZXR1cm4geyAuLi5hLCBwb3MsIHRvdGFsOiBwLnRvdGFsIH07CiAgfSkuZmlsdGVyKEJvb2xlYW4pLnNvcnQoKGEsIGIpID0+IGIucG9zIC0gYS5wb3MpOwoKICBpZiAoZW50cmllcy5sZW5ndGggPCAxMCkgcmV0dXJuICgKICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAiY2VudGVyIiwgcGFkZGluZzogIjQ4cHggMTZweCIgfX0+CiAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNiwgbWFyZ2luQm90dG9tOiA4IH19PkJ1aWxkaW5nIHlvdXIgcGF0dGVybnPigKY8L3A+CiAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDE0IH19PkxvZyBhdCBsZWFzdCAxMCBpbnRlcmFjdGlvbnMgdG8gc3RhcnQgc2VlaW5nIHBhdHRlcm5zLiBZb3UgaGF2ZSB7ZW50cmllcy5sZW5ndGh9LjwvcD4KICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW46ICIyMHB4IGF1dG8iLCBtYXhXaWR0aDogMjQwIH19PgogICAgICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiA2LCBiYWNrZ3JvdW5kOiBQLmJvcmRlciwgYm9yZGVyUmFkaXVzOiAzLCBvdmVyZmxvdzogImhpZGRlbiIgfX0+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGhlaWdodDogIjEwMCUiLCB3aWR0aDogYCR7KGVudHJpZXMubGVuZ3RoIC8gMTApICogMTAwfSVgLCBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KDkwZGVnLCAke1Aud2FybX0sICR7UC5ncmVlbn0pYCwgYm9yZGVyUmFkaXVzOiAzIH19IC8+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTEsIG1hcmdpblRvcDogNiB9fT57ZW50cmllcy5sZW5ndGh9LzEwPC9wPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICk7CgogIHJldHVybiAoCiAgICA8ZGl2PgogICAgICA8VGFicyBpdGVtcz17WyJCeSBBY3Rpb24iLCAiQnkgQ29udGV4dCIsICJJbnNpZ2h0cyJdfSBhY3RpdmU9e21vZGUgPT09ICJhY3Rpb24iID8gIkJ5IEFjdGlvbiIgOiBtb2RlID09PSAiY29udGV4dCIgPyAiQnkgQ29udGV4dCIgOiAiSW5zaWdodHMifSBvblBpY2s9e3YgPT4gc2V0TW9kZSh2ID09PSAiQnkgQWN0aW9uIiA/ICJhY3Rpb24iIDogdiA9PT0gIkJ5IENvbnRleHQiID8gImNvbnRleHQiIDogImluc2lnaHRzIil9IC8+CgogICAgICB7bW9kZSA9PT0gImFjdGlvbiIgJiYgKAogICAgICAgIDxkaXY+CiAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMywgbWFyZ2luQm90dG9tOiAxNCB9fT5Ib3cgeW91ciBzdGVwY2hpbGQgcmVzcG9uZHMgdG8gZWFjaCB0eXBlIG9mIGFjdGlvbi48L3A+CiAgICAgICAgICB7LyogTGVnZW5kICovfQogICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogOCwgbWFyZ2luQm90dG9tOiAxMiwgZmxleFdyYXA6ICJ3cmFwIiB9fT4KICAgICAgICAgICAge1suLi5SRVNQT05TRVNdLnJldmVyc2UoKS5tYXAociA9PiA8c3BhbiBrZXk9e3IuaWR9IHN0eWxlPXt7IGZvbnRTaXplOiAxMCwgY29sb3I6IHIuYyB9fT57ci5pY29ufSB7ci5sYWJlbH08L3NwYW4+KX0KICAgICAgICAgIDwvZGl2PgogICAgICAgICAge0FDVElPTlMubWFwKGEgPT4gewogICAgICAgICAgICBjb25zdCBwID0gYVBhdHNbYS5pZF07IGlmIChwLnRvdGFsID09PSAwKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgY29uc3QgcmV2ZXJzZWQgPSBbLi4uUkVTUE9OU0VTXS5yZXZlcnNlKCk7CiAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgPGRpdiBrZXk9e2EuaWR9IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNCwgbWFyZ2luQm90dG9tOiA4IH19PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGp1c3RpZnlDb250ZW50OiAic3BhY2UtYmV0d2VlbiIsIG1hcmdpbkJvdHRvbTogOCB9fT4KICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IGEuYywgZm9udFNpemU6IDEzIH19PnthLmljb259IHthLmxhYmVsfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTEgfX0+e3AudG90YWx9IGxvZ2dlZDwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGhlaWdodDogMjAsIGJvcmRlclJhZGl1czogNSwgb3ZlcmZsb3c6ICJoaWRkZW4iIH19PgogICAgICAgICAgICAgICAgICB7cmV2ZXJzZWQubWFwKHIgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBjdCA9IChwW3IuaWRdIC8gcC50b3RhbCkgKiAxMDA7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBjdCA9PT0gMCkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxkaXYga2V5PXtyLmlkfSBzdHlsZT17eyB3aWR0aDogYCR7cGN0fSVgLCBiYWNrZ3JvdW5kOiByLmMgKyAiODgiLCBkaXNwbGF5OiAiZmxleCIsIGFsaWduSXRlbXM6ICJjZW50ZXIiLCBqdXN0aWZ5Q29udGVudDogImNlbnRlciIgfX0+CiAgICAgICAgICAgICAgICAgICAgICB7cGN0ID4gMTggJiYgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6IDksIGNvbG9yOiAiI2ZmZiIgfX0+e01hdGgucm91bmQocGN0KX0lPC9zcGFuPn0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj47CiAgICAgICAgICAgICAgICAgIH0pfQogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiA4LCBtYXJnaW5Ub3A6IDYsIGZsZXhXcmFwOiAid3JhcCIgfX0+CiAgICAgICAgICAgICAgICAgIHtyZXZlcnNlZC5tYXAociA9PiB7IGNvbnN0IHBjdCA9IChwW3IuaWRdIC8gcC50b3RhbCkgKiAxMDA7IGlmIChwY3QgPT09IDApIHJldHVybiBudWxsOyByZXR1cm4gPHNwYW4ga2V5PXtyLmlkfSBzdHlsZT17eyBjb2xvcjogci5jLCBmb250U2l6ZTogMTAgfX0+e3IuaWNvbn0ge01hdGgucm91bmQocGN0KX0lPC9zcGFuPjsgfSl9CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgKTsKICAgICAgICAgIH0pfQogICAgICAgIDwvZGl2PgogICAgICApfQoKICAgICAge21vZGUgPT09ICJjb250ZXh0IiAmJiAoCiAgICAgICAgPGRpdj4KICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEzLCBtYXJnaW5Cb3R0b206IDE0IH19PldoaWNoIGNvbnRleHRzIHByb2R1Y2Ugd2hpY2ggcmVzcG9uc2VzLjwvcD4KICAgICAgICAgIHtPYmplY3QuZW50cmllcyhjUGF0cykuZmlsdGVyKChbLCB2XSkgPT4gdi50b3RhbCA+PSAyKS5zb3J0KChbLCBhXSwgWywgYl0pID0+IGIudG90YWwgLSBhLnRvdGFsKS5tYXAoKFtjdHgsIGRhdGFdKSA9PiAoCiAgICAgICAgICAgIDxkaXYga2V5PXtjdHh9IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNCwgbWFyZ2luQm90dG9tOiA4IH19PgogICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBqdXN0aWZ5Q29udGVudDogInNwYWNlLWJldHdlZW4iLCBtYXJnaW5Cb3R0b206IDggfX0+CiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTMgfX0+e2N0eH08L3NwYW4+CiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMSB9fT57ZGF0YS50b3RhbH3Dlzwvc3Bhbj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgaGVpZ2h0OiAxNiwgYm9yZGVyUmFkaXVzOiA1LCBvdmVyZmxvdzogImhpZGRlbiIgfX0+CiAgICAgICAgICAgICAgICB7Wy4uLlJFU1BPTlNFU10ucmV2ZXJzZSgpLm1hcChyID0+IHsgY29uc3QgcGN0ID0gKGRhdGFbci5pZF0gLyBkYXRhLnRvdGFsKSAqIDEwMDsgaWYgKHBjdCA9PT0gMCkgcmV0dXJuIG51bGw7IHJldHVybiA8ZGl2IGtleT17ci5pZH0gc3R5bGU9e3sgd2lkdGg6IGAke3BjdH0lYCwgYmFja2dyb3VuZDogci5jICsgIjg4IiB9fSAvPjsgfSl9CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKSl9CiAgICAgICAgICB7T2JqZWN0LmtleXMoY1BhdHMpLmZpbHRlcihrID0+IGNQYXRzW2tdLnRvdGFsID49IDIpLmxlbmd0aCA9PT0gMCAmJiA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMyB9fT5UYWcgY29udGV4dHMgb24gZW50cmllcyB0byBzZWUgcGF0dGVybnMgaGVyZS48L3A+fQogICAgICAgIDwvZGl2PgogICAgICApfQoKICAgICAge21vZGUgPT09ICJpbnNpZ2h0cyIgJiYgKAogICAgICAgIDxkaXY+CiAgICAgICAgICB7cmFua2VkLmxlbmd0aCA+IDAgJiYgKAogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNiwgbWFyZ2luQm90dG9tOiAxMCB9fT4KICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLmdyZWVuLCBmb250U2l6ZTogMTMsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luQm90dG9tOiA2IH19PvCfjLEgTW9zdCBlZmZlY3RpdmUgYXBwcm9hY2g8L2Rpdj4KICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTQsIG1hcmdpbjogMCwgbGluZUhlaWdodDogMS42IH19PgogICAgICAgICAgICAgICAgPHN0cm9uZz57cmFua2VkWzBdLmljb259IHtyYW5rZWRbMF0ubGFiZWx9PC9zdHJvbmc+IHByb2R1Y2VzIGEgcG9zaXRpdmUgb3IgbmV1dHJhbCByZXNwb25zZSB7TWF0aC5yb3VuZChyYW5rZWRbMF0ucG9zKX0lIG9mIHRoZSB0aW1lICh7cmFua2VkWzBdLnRvdGFsfSBpbnRlcmFjdGlvbnMpLgogICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICApfQogICAgICAgICAge3JhbmtlZC5sZW5ndGggPiAxICYmIHJhbmtlZFtyYW5rZWQubGVuZ3RoIC0gMV0ucG9zIDwgNDAgJiYgKAogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNiwgbWFyZ2luQm90dG9tOiAxMCB9fT4KICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLnJvc2UsIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDYgfX0+4pqhIE1vc3QgZnJpY3Rpb248L2Rpdj4KICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTQsIG1hcmdpbjogMCwgbGluZUhlaWdodDogMS42IH19PgogICAgICAgICAgICAgICAgPHN0cm9uZz57cmFua2VkW3JhbmtlZC5sZW5ndGggLSAxXS5pY29ufSB7cmFua2VkW3JhbmtlZC5sZW5ndGggLSAxXS5sYWJlbH08L3N0cm9uZz4gdGVuZHMgdG8gcHJvZHVjZSBtb3JlIHJlc2lzdGFuY2UgKHtNYXRoLnJvdW5kKDEwMCAtIHJhbmtlZFtyYW5rZWQubGVuZ3RoIC0gMV0ucG9zKX0lIG5lZ2F0aXZlKS4KICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKX0KICAgICAgICAgIHtlbnRyaWVzLmxlbmd0aCA+PSAyMCAmJiAoKCkgPT4gewogICAgICAgICAgICBjb25zdCBoID0gTWF0aC5mbG9vcihlbnRyaWVzLmxlbmd0aCAvIDIpOwogICAgICAgICAgICBjb25zdCByQXZnID0gZW50cmllcy5zbGljZSgwLCBoKS5yZWR1Y2UoKHMsIGUpID0+IHMgKyAoUkVTUE9OU0VTLmZpbmQociA9PiByLmlkID09PSBlLnJlc3BvbnNlKT8uc2NvcmUgPz8gMiksIDApIC8gaDsKICAgICAgICAgICAgY29uc3Qgb0F2ZyA9IGVudHJpZXMuc2xpY2UoaCkucmVkdWNlKChzLCBlKSA9PiBzICsgKFJFU1BPTlNFUy5maW5kKHIgPT4gci5pZCA9PT0gZS5yZXNwb25zZSk/LnNjb3JlID8/IDIpLCAwKSAvIChlbnRyaWVzLmxlbmd0aCAtIGgpOwogICAgICAgICAgICBjb25zdCBkID0gckF2ZyAtIG9Bdmc7CiAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogMTAgfX0+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBkID4gMC4zID8gUC5ncmVlbiA6IGQgPCAtMC4zID8gUC5yb3NlIDogUC5ibHVlLCBmb250U2l6ZTogMTMsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luQm90dG9tOiA2IH19PgogICAgICAgICAgICAgICAgICB7ZCA+IDAuMyA/ICLwn5OIIFBvc2l0aXZlIHRyZW5kIiA6IGQgPCAtMC4zID8gIvCfk4kgRGlmZmljdWx0IHN0cmV0Y2giIDogIuKUgSBTdGVhZHkgc3RhdGUifQogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTQsIG1hcmdpbjogMCwgbGluZUhlaWdodDogMS42IH19PgogICAgICAgICAgICAgICAgICB7ZCA+IDAuMyA/ICJSZWNlbnQgaW50ZXJhY3Rpb25zIGFyZSB0cmVuZGluZyBtb3JlIHBvc2l0aXZlbHkuIEtlZXAgZ29pbmcg4oCUIHRoaXMgaXMgcmVhbCBwcm9ncmVzcy4iCiAgICAgICAgICAgICAgICAgICA6IGQgPCAtMC4zID8gIlJlY2VudCBpbnRlcmFjdGlvbnMgaGF2ZSBiZWVuIGhhcmRlci4gVGhpcyBpcyBub3JtYWwg4oCUIHN0ZXBmYW1pbHkgcmVsYXRpb25zaGlwcyBhcmVuJ3QgbGluZWFyLiBBIGRpZmZpY3VsdCBzdHJldGNoIGRvZXNuJ3QgZXJhc2UgcHJvZ3Jlc3MuIgogICAgICAgICAgICAgICAgICAgOiAiUmVzcG9uc2VzIGhhdmUgYmVlbiBjb25zaXN0ZW50LiBJbiBzdGVwZmFtaWx5IGR5bmFtaWNzLCBzdGFiaWxpdHkgaXMgaXRzZWxmIGEgZm9ybSBvZiBwcm9ncmVzcy4ifQogICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICApOwogICAgICAgICAgfSkoKX0KICAgICAgICAgIHtlbnRyaWVzLmxlbmd0aCA8IDIwICYmICgKICAgICAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYgfX0+CiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5ibHVlLCBmb250U2l6ZTogMTMsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luQm90dG9tOiA2IH19PvCfk4ogTW9yZSBkYXRhIG5lZWRlZDwvZGl2PgogICAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLm11dGVkLCBmb250U2l6ZTogMTMsIG1hcmdpbjogMCB9fT5UcmVuZCBhbmFseXNpcyBuZWVkcyB+MjAgZW50cmllcy4gWW91IGhhdmUge2VudHJpZXMubGVuZ3RofS48L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKX0KICAgICAgICA8L2Rpdj4KICAgICAgKX0KICAgIDwvZGl2PgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgUEVSU1BFQ1RJVkUKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIFBlcnNwZWN0aXZlKHsgZW50cmllcywgb3BlbkNhcmQgfSkgewogIHJldHVybiAoCiAgICA8ZGl2PgogICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDE0LCBtYXJnaW5Cb3R0b206IDE2IH19PgogICAgICAgIFJlc2VhcmNoLWJhY2tlZCByZWZyYW1lcy4gTm90IHBsYXRpdHVkZXMg4oCUIHJlYWwgcGVyc3BlY3RpdmVzIGZyb20gcmVzZWFyY2ggYW5kIGFkdWx0IHN0ZXBjaGlsZHJlbiBsb29raW5nIGJhY2suCiAgICAgIDwvcD4KICAgICAge0NBUkRTLm1hcCgoYywgaSkgPT4gKAogICAgICAgIDxidXR0b24ga2V5PXtpfSBvbkNsaWNrPXsoKSA9PiBvcGVuQ2FyZChjKX0gc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDgsIHdpZHRoOiAiMTAwJSIsIHRleHRBbGlnbjogImxlZnQiLCBjdXJzb3I6ICJwb2ludGVyIiwgYm9yZGVyOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCwgZm9udEZhbWlseTogImluaGVyaXQiIH19PgogICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250V2VpZ2h0OiA1MDAsIG1hcmdpbkJvdHRvbTogNCwgZm9udFNpemU6IDE0IH19PntjLnRpdGxlfTwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMywgbGluZUhlaWdodDogMS41IH19PntjLmJvZHkuc2xpY2UoMCwgMTEwKX3igKY8L2Rpdj4KICAgICAgICAgIHtjLnF1b3RlICYmIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAud2FybSwgZm9udFNpemU6IDExLCBtYXJnaW5Ub3A6IDYsIGZvbnRTdHlsZTogIml0YWxpYyIgfX0+SW5jbHVkZXMgZmlyc3RoYW5kIGFjY291bnQg4peHPC9kaXY+fQogICAgICAgIDwvYnV0dG9uPgogICAgICApKX0KICAgIDwvZGl2PgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgUEFSVE5FUiDigJQgQ29tbXVuaWNhdGlvbiBUaXBzICYgU2hhcmUKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIFBhcnRuZXIoeyBlbnRyaWVzLCBwcm9maWxlLCBzbmFwcyB9KSB7CiAgY29uc3QgW3RhYiwgc2V0VGFiXSA9IHVzZVN0YXRlKCJ0aXBzIik7CiAgY29uc3QgW2V4cGFuZGVkVGlwLCBzZXRFeHBhbmRlZFRpcF0gPSB1c2VTdGF0ZShudWxsKTsKICBjb25zdCBbY29waWVkLCBzZXRDb3BpZWRdID0gdXNlU3RhdGUoZmFsc2UpOwoKICBjb25zdCBnZW5lcmF0ZVJlcG9ydCA9ICgpID0+IHsKICAgIGNvbnN0IG1vbnRoID0gZW50cmllcy5maWx0ZXIoZSA9PiBkYXlzQWdvKGUuZGF0ZSkgPD0gMzApOwogICAgaWYgKG1vbnRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7CiAgICBjb25zdCB0b3RhbCA9IG1vbnRoLmxlbmd0aDsKICAgIGNvbnN0IHBvcyA9IG1vbnRoLmZpbHRlcihlID0+IGUucmVzcG9uc2UgPT09ICJwb3NpdGl2ZSIgfHwgZS5yZXNwb25zZSA9PT0gIm5ldXRyYWwiKS5sZW5ndGg7CiAgICBjb25zdCByZWogPSBtb250aC5maWx0ZXIoZSA9PiBlLnJlc3BvbnNlID09PSAicmVqZWN0aW9uIiB8fCBlLnJlc3BvbnNlID09PSAiZXNjYWxhdGlvbiIpLmxlbmd0aDsKICAgIGNvbnN0IHBjdCA9IE1hdGgucm91bmQoKHBvcyAvIHRvdGFsKSAqIDEwMCk7CiAgICBjb25zdCBhY3Rpb25Db3VudHMgPSB7fTsKICAgIEFDVElPTlMuZm9yRWFjaChhID0+IHsgYWN0aW9uQ291bnRzW2EuaWRdID0geyBwb3M6IDAsIHRvdGFsOiAwIH07IH0pOwogICAgbW9udGguZm9yRWFjaChlID0+IHsKICAgICAgaWYgKGFjdGlvbkNvdW50c1tlLmFjdGlvbl0pIHsKICAgICAgICBhY3Rpb25Db3VudHNbZS5hY3Rpb25dLnRvdGFsKys7CiAgICAgICAgaWYgKGUucmVzcG9uc2UgPT09ICJwb3NpdGl2ZSIgfHwgZS5yZXNwb25zZSA9PT0gIm5ldXRyYWwiKSBhY3Rpb25Db3VudHNbZS5hY3Rpb25dLnBvcysrOwogICAgICB9CiAgICB9KTsKICAgIGxldCBiZXN0QWN0aW9uID0gbnVsbCwgYmVzdFBjdCA9IDA7CiAgICBPYmplY3QuZW50cmllcyhhY3Rpb25Db3VudHMpLmZvckVhY2goKFtpZCwgZF0pID0+IHsKICAgICAgaWYgKGQudG90YWwgPj0gMykgewogICAgICAgIGNvbnN0IHAgPSBkLnBvcyAvIGQudG90YWw7CiAgICAgICAgaWYgKHAgPiBiZXN0UGN0KSB7IGJlc3RQY3QgPSBwOyBiZXN0QWN0aW9uID0gQUNUSU9OUy5maW5kKGEgPT4gYS5pZCA9PT0gaWQpOyB9CiAgICAgIH0KICAgIH0pOwogICAgY29uc3QgbGluZXMgPSBbCiAgICAgICJNb250aGx5IFVwZGF0ZSBmcm9tIFN0ZWFkZmFzdCIsCiAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoOTQ3MikucmVwZWF0KDI5KSwKICAgICAgIiIsCiAgICAgIGBUaGlzIG1vbnRoLCBJIGxvZ2dlZCAke3RvdGFsfSBpbnRlcmFjdGlvbnMgd2l0aCB5b3VyIGNoaWxkLmAsCiAgICAgICIiLAogICAgICBgJHtwY3R9JSBvZiByZXNwb25zZXMgd2VyZSBwb3NpdGl2ZSBvciBuZXV0cmFsLmAsCiAgICAgIGAke3Jlan0gaW50ZXJhY3Rpb25zIGludm9sdmVkIGFjdGl2ZSByZWplY3Rpb24gb3IgZXNjYWxhdGlvbi5gLAogICAgICAiIiwKICAgIF07CiAgICBpZiAoYmVzdEFjdGlvbikgewogICAgICBsaW5lcy5wdXNoKGBXaGF0IHNlZW1zIHRvIHdvcmsgYmVzdDogIiR7YmVzdEFjdGlvbi5sYWJlbH0iIFx1MjAxNCAke01hdGgucm91bmQoYmVzdFBjdCAqIDEwMCl9JSBwb3NpdGl2ZSByZXNwb25zZSByYXRlLmApOwogICAgICBsaW5lcy5wdXNoKCIiKTsKICAgIH0KICAgIGxpbmVzLnB1c2goIldoYXQgSSBuZWVkIGZyb20geW91OiIpOwogICAgbGluZXMucHVzaCgiXHUyMDIyIEFja25vd2xlZGdlIHdoYXQgeW91IHNlZSBtZSBkb2luZywgZXZlbiBzbWFsbCB0aGluZ3MiKTsKICAgIGxpbmVzLnB1c2goIlx1MjAyMiBCYWNrIG1lIHVwIGluIHRoZSBtb21lbnQsIGV2ZW4gd2l0aCBqdXN0IGEgd29yZCIpOwogICAgbGluZXMucHVzaCgiXHUyMDIyIFJlbWluZCBtZSB0aGF0IG15IGVmZm9ydCBtYXR0ZXJzIHdoZW4gSSBjYW4ndCBzZWUgaXQiKTsKICAgIGxpbmVzLnB1c2goIiIpOwogICAgbGluZXMucHVzaCgiVGhpcyBpc24ndCBhIGNvbXBsYWludC4gSXQncyBtZSBzaG93aW5nIHlvdSB3aGF0IEknbSB0cmFja2luZyBzbyB3ZSBjYW4gYmUgYSB0ZWFtIGluIHRoaXMuIik7CiAgICBsaW5lcy5wdXNoKCIiKTsKICAgIGxpbmVzLnB1c2goIlx1MjAxNCBTZW50IGZyb20gU3RlYWRmYXN0Iik7CiAgICByZXR1cm4gbGluZXMuam9pbigiXG4iKTsKICB9OwoKICBjb25zdCByZXBvcnQgPSBnZW5lcmF0ZVJlcG9ydCgpOwoKICBjb25zdCBjb3B5UmVwb3J0ID0gKCkgPT4gewogICAgaWYgKCFyZXBvcnQpIHJldHVybjsKICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHJlcG9ydCkudGhlbigoKSA9PiB7CiAgICAgIHNldENvcGllZCh0cnVlKTsgc2V0VGltZW91dCgoKSA9PiBzZXRDb3BpZWQoZmFsc2UpLCAyMDAwKTsKICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgY29uc3QgdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpOwogICAgICB0YS52YWx1ZSA9IHJlcG9ydDsgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0YSk7IHRhLnNlbGVjdCgpOwogICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgiY29weSIpOyBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRhKTsKICAgICAgc2V0Q29waWVkKHRydWUpOyBzZXRUaW1lb3V0KCgpID0+IHNldENvcGllZChmYWxzZSksIDIwMDApOwogICAgfSk7CiAgfTsKCiAgcmV0dXJuICgKICAgIDxkaXY+CiAgICAgIDxUYWJzIGl0ZW1zPXtbIlRpcHMiLCAiU2hhcmUiLCAiQWxpZW5hdGlvbiJdfSBhY3RpdmU9e3RhYiA9PT0gInRpcHMiID8gIlRpcHMiIDogdGFiID09PSAic2hhcmUiID8gIlNoYXJlIiA6ICJBbGllbmF0aW9uIn0gb25QaWNrPXt2ID0+IHNldFRhYih2ID09PSAiVGlwcyIgPyAidGlwcyIgOiB2ID09PSAiU2hhcmUiID8gInNoYXJlIiA6ICJhbGllbmF0aW9uIil9IC8+CgogICAgICB7dGFiID09PSAidGlwcyIgJiYgKAogICAgICAgIDxkaXY+CiAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDE0LCBtYXJnaW5Cb3R0b206IDE2LCBsaW5lSGVpZ2h0OiAxLjYgfX0+CiAgICAgICAgICAgIEhvdyB0byB0YWxrIHRvIHlvdXIgcGFydG5lciBhYm91dCB3aGF0IHlvdSdyZSBnb2luZyB0aHJvdWdoIOKAlCB3aXRob3V0IGl0IHR1cm5pbmcgaW50byBhIGZpZ2h0LgogICAgICAgICAgPC9wPgogICAgICAgICAge1BBUlRORVJfVElQUy5tYXAoKHQsIGkpID0+ICgKICAgICAgICAgICAgPGJ1dHRvbiBrZXk9e2l9IG9uQ2xpY2s9eygpID0+IHNldEV4cGFuZGVkVGlwKGV4cGFuZGVkVGlwID09PSBpID8gbnVsbCA6IGkpfSBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogOCwgd2lkdGg6ICIxMDAlIiwgdGV4dEFsaWduOiAibGVmdCIsIGN1cnNvcjogInBvaW50ZXIiLCBib3JkZXI6IGAxcHggc29saWQgJHtleHBhbmRlZFRpcCA9PT0gaSA/IFAud2FybSArICI0NCIgOiBQLmJvcmRlcn1gLCBmb250RmFtaWx5OiAiaW5oZXJpdCIgfX0+CiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGp1c3RpZnlDb250ZW50OiAic3BhY2UtYmV0d2VlbiIsIGFsaWduSXRlbXM6ICJjZW50ZXIiIH19PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250V2VpZ2h0OiA1MDAsIGZvbnRTaXplOiAxNCB9fT57dC50aXRsZX08L2Rpdj4KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEyLCB0cmFuc2Zvcm06IGV4cGFuZGVkVGlwID09PSBpID8gInJvdGF0ZSgxODBkZWcpIiA6ICJub25lIiwgdHJhbnNpdGlvbjogInRyYW5zZm9ybSAuMnMiIH19PnsiXHUyNUJFIn08L3NwYW4+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMiwgbWFyZ2luVG9wOiA0IH19Pnt0LnNpdHVhdGlvbn08L2Rpdj4KICAgICAgICAgICAgICB7ZXhwYW5kZWRUaXAgPT09IGkgJiYgKAogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6IDEyIH19PgogICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6IDE0LCBiYWNrZ3JvdW5kOiBQLmJnLCBib3JkZXJSYWRpdXM6IDEwLCBib3JkZXJMZWZ0OiBgM3B4IHNvbGlkICR7UC5ncmVlbn00NGAsIG1hcmdpbkJvdHRvbTogMTAgfX0+CiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTAsIG1hcmdpbjogIjAgMCA2cHgiLCB0ZXh0VHJhbnNmb3JtOiAidXBwZXJjYXNlIiwgbGV0dGVyU3BhY2luZzogIjAuMDVlbSIgfX0+VHJ5IHNheWluZzwvcD4KICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTMsIG1hcmdpbjogMCwgbGluZUhlaWdodDogMS42LCBmb250U3R5bGU6ICJpdGFsaWMiIH19Pnt0LnRpcH08L3A+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6IDE0LCBiYWNrZ3JvdW5kOiBQLmJnLCBib3JkZXJSYWRpdXM6IDEwLCBib3JkZXJMZWZ0OiBgM3B4IHNvbGlkICR7UC5ibHVlfTQ0YCB9fT4KICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMCwgbWFyZ2luOiAiMCAwIDZweCIsIHRleHRUcmFuc2Zvcm06ICJ1cHBlcmNhc2UiLCBsZXR0ZXJTcGFjaW5nOiAiMC4wNWVtIiB9fT5XaHkgdGhpcyB3b3JrczwvcD4KICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEzLCBtYXJnaW46IDAsIGxpbmVIZWlnaHQ6IDEuNiB9fT57dC53aHl9PC9wPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICl9CiAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgKSl9CiAgICAgICAgPC9kaXY+CiAgICAgICl9CgogICAgICB7dGFiID09PSAic2hhcmUiICYmICgKICAgICAgICA8ZGl2PgogICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxNCwgbWFyZ2luQm90dG9tOiAxNiwgbGluZUhlaWdodDogMS42IH19PgogICAgICAgICAgICBTaGFyZSBhIG1vbnRobHkgc3VtbWFyeSB3aXRoIHlvdXIgcGFydG5lci4gSXQgc2hvd3Mgd2hhdCB5b3UndmUgYmVlbiBkb2luZywgd2hhdCdzIHdvcmtpbmcsIGFuZCB3aGF0IHlvdSBuZWVkIOKAlCBiYWNrZWQgYnkgZGF0YSwgbm90IGp1c3QgZmVlbGluZ3MuCiAgICAgICAgICA8L3A+CiAgICAgICAgICB7cmVwb3J0ID8gKAogICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDEyIH19PgogICAgICAgICAgICAgICAgPHByZSBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDExLCBsaW5lSGVpZ2h0OiAxLjYsIG1hcmdpbjogMCwgd2hpdGVTcGFjZTogInByZS13cmFwIiwgd29yZEJyZWFrOiAiYnJlYWstd29yZCIsIGZvbnRGYW1pbHk6ICJpbmhlcml0IiB9fT57cmVwb3J0fTwvcHJlPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxCdG4gb25DbGljaz17Y29weVJlcG9ydH0gZnVsbD57Y29waWVkID8gIkNvcGllZCEiIDogIkNvcHkgdG8gY2xpcGJvYXJkIn08L0J0bj4KICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMSwgbWFyZ2luVG9wOiAxMCwgdGV4dEFsaWduOiAiY2VudGVyIiB9fT5QYXN0ZSBpbnRvIGEgbWVzc2FnZSwgZW1haWwsIG9yIG5vdGUgdG8gc2hhcmUgd2l0aCB5b3VyIHBhcnRuZXIuPC9wPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICkgOiAoCiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAiY2VudGVyIiwgcGFkZGluZzogIjQwcHggMjBweCIgfX0+CiAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTQgfX0+TG9nIHNvbWUgaW50ZXJhY3Rpb25zIGZpcnN0IHRvIGdlbmVyYXRlIGEgcmVwb3J0LjwvcD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICApfQogICAgICAgIDwvZGl2PgogICAgICApfQoKICAgICAge3RhYiA9PT0gImFsaWVuYXRpb24iICYmICgKICAgICAgICA8ZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMjAsIG1hcmdpbkJvdHRvbTogMTIsIGJvcmRlckxlZnQ6IGAzcHggc29saWQgJHtQLnJvc2V9YCB9fT4KICAgICAgICAgICAgPGgzIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNiwgZm9udEZhbWlseTogIkdlb3JnaWEsICdUaW1lcyBOZXcgUm9tYW4nLCBzZXJpZiIsIG1hcmdpbjogIjAgMCAxMHB4IiB9fT57QUxJRU5BVElPTi50aXRsZX08L2gzPgogICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEzLCBsaW5lSGVpZ2h0OiAxLjcsIG1hcmdpbjogMCB9fT57QUxJRU5BVElPTi5pbnRyb308L3A+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDEyIH19PgogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLnJvc2UsIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDEwIH19Pldhcm5pbmcgc2lnbnM8L2Rpdj4KICAgICAgICAgICAge0FMSUVOQVRJT04uc2lnbnMubWFwKChzLCBpKSA9PiAoCiAgICAgICAgICAgICAgPGRpdiBrZXk9e2l9IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiA4LCBtYXJnaW5Cb3R0b206IDggfX0+CiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5yb3NlLCBmb250U2l6ZTogMTEsIG1hcmdpblRvcDogMiwgZmxleFNocmluazogMCB9fT57Ilx1MjAyMiJ9PC9zcGFuPgogICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMywgbWFyZ2luOiAwLCBsaW5lSGVpZ2h0OiAxLjUgfX0+e3N9PC9wPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICApKX0KICAgICAgICAgIDwvZGl2PgogICAgICAgICAge0FMSUVOQVRJT04uZ3VpZGFuY2UubWFwKChnLCBpKSA9PiAoCiAgICAgICAgICAgIDxkaXYga2V5PXtpfSBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogOCB9fT4KICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNCwgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDYgfX0+e2cudGl0bGV9PC9kaXY+CiAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMywgbGluZUhlaWdodDogMS42LCBtYXJnaW46IDAgfX0+e2cudGV4dH08L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKSl9CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNiwgbWFyZ2luVG9wOiA0LCBiYWNrZ3JvdW5kOiBgJHtQLmNhcmQyfTg4YCwgYm9yZGVyTGVmdDogYDNweCBzb2xpZCAke1AuYmx1ZX00NGAgfX0+CiAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEyLCBtYXJnaW46IDAsIGxpbmVIZWlnaHQ6IDEuNiB9fT57QUxJRU5BVElPTi5ub3RlfTwvcD4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICApfQogICAgPC9kaXY+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBCRU5DSE1BUksKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIEJlbmNobWFyayh7IHByb2ZpbGUsIHNuYXBzLCBlbnRyaWVzLCBvcGVuU25hcCwgb25EZWxldGVTbmFwIH0pIHsKICBpZiAoIXByb2ZpbGUpIHJldHVybiBudWxsOwogIGNvbnN0IGFnZSA9IEJFTkNILmFnZXNbcHJvZmlsZS5jaGlsZEFnZV07CiAgY29uc3QgY3VzdCA9IEJFTkNILmN1c3RvZHlbcHJvZmlsZS5jdXN0b2R5XTsKICBjb25zdCBsb3kgPSBCRU5DSC5sb3lhbHR5W3Byb2ZpbGUubG95YWx0eUNvbmZsaWN0XTsKCiAgcmV0dXJuICgKICAgIDxkaXY+CiAgICAgIDxTZWN0aW9uVGl0bGU+WW91ciBTaXR1YXRpb248L1NlY3Rpb25UaXRsZT4KICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZ3JpZCIsIGdyaWRUZW1wbGF0ZUNvbHVtbnM6ICIxZnIgMWZyIiwgZ2FwOiA4LCBtYXJnaW5Cb3R0b206IDE2IH19PgogICAgICAgIDxCZW5jaEl0ZW0gbGFiZWw9IkNoaWxkJ3MgYWdlIiB2YWx1ZT17cHJvZmlsZS5jaGlsZEFnZSArICIgeXJzIn0gLz4KICAgICAgICA8QmVuY2hJdGVtIGxhYmVsPSJDdXN0b2R5IiB2YWx1ZT17cHJvZmlsZS5jdXN0b2R5fSAvPgogICAgICAgIDxCZW5jaEl0ZW0gbGFiZWw9IkxveWFsdHkgY29uZmxpY3QiIHZhbHVlPXtwcm9maWxlLmxveWFsdHlDb25mbGljdH0gLz4KICAgICAgICA8QmVuY2hJdGVtIGxhYmVsPSJUaW1lIGluIHJvbGUiIHZhbHVlPXtwcm9maWxlLnllYXJzSW5Sb2xlICsgIiB5ciIgKyAocHJvZmlsZS55ZWFyc0luUm9sZSAhPT0gIjEiID8gInMiIDogIiIpfSAvPgogICAgICA8L2Rpdj4KCiAgICAgIHthZ2UgJiYgKAogICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDEwIH19PgogICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC53YXJtLCBmb250U2l6ZTogMTMsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luQm90dG9tOiA2IH19PlR5cGljYWwgaW50ZWdyYXRpb24gdGltZWxpbmU8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDIwLCBmb250RmFtaWx5OiAiR2VvcmdpYSwgJ1RpbWVzIE5ldyBSb21hbicsIHNlcmlmIiwgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDggfX0+e2FnZS50fTwvZGl2PgogICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMywgbWFyZ2luOiAwLCBsaW5lSGVpZ2h0OiAxLjYgfX0+e2FnZS5ub3RlfTwvcD4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAxMiwgcGFkZGluZzogMTIsIGJhY2tncm91bmQ6IFAuYmcsIGJvcmRlclJhZGl1czogOCB9fT4KICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuYmx1ZSwgZm9udFNpemU6IDEyLCBtYXJnaW46IDAgfX0+CiAgICAgICAgICAgICAgWW91J3JlIH57cHJvZmlsZS55ZWFyc0luUm9sZX0geWVhcntwcm9maWxlLnllYXJzSW5Sb2xlICE9PSAiMSIgPyAicyIgOiAiIn0gaW4uCiAgICAgICAgICAgICAge3BhcnNlSW50KHByb2ZpbGUueWVhcnNJblJvbGUpIDwgNCA/ICIgU3RpbGwgZWFybHkg4oCUIGZhc3Rlc3QgZG9jdW1lbnRlZCBmdWxsIGludGVncmF0aW9uIHdhcyA0IHllYXJzLiIgOiAiIn0KICAgICAgICAgICAgICB7cGFyc2VJbnQocHJvZmlsZS55ZWFyc0luUm9sZSkgPj0gNyA/ICIgWW91ciBzdXN0YWluZWQgcHJlc2VuY2UgbWF0dGVycywgcmVnYXJkbGVzcyBvZiB3aGVyZSB0aGUgcmVsYXRpb25zaGlwIGhhcyBzZXR0bGVkLiIgOiAiIn0KICAgICAgICAgICAgPC9wPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICl9CgogICAgICB7Y3VzdCAmJiA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNiwgbWFyZ2luQm90dG9tOiAxMCB9fT48ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLndhcm0sIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDYgfX0+Q3VzdG9keSBpbXBhY3Q8L2Rpdj48cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEzLCBtYXJnaW46IDAsIGxpbmVIZWlnaHQ6IDEuNiB9fT57Y3VzdH08L3A+PC9kaXY+fQogICAgICB7bG95ICYmIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDEwIH19PjxkaXYgc3R5bGU9e3sgY29sb3I6IFAud2FybSwgZm9udFNpemU6IDEzLCBmb250V2VpZ2h0OiA1MDAsIG1hcmdpbkJvdHRvbTogNiB9fT5Mb3lhbHR5IGR5bmFtaWNzPC9kaXY+PHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMywgbWFyZ2luOiAwLCBsaW5lSGVpZ2h0OiAxLjYgfX0+e2xveX08L3A+PC9kaXY+fQoKICAgICAgey8qIE91dGNvbWVzICovfQogICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNiwgbWFyZ2luQm90dG9tOiAxMCB9fT4KICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLndhcm0sIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDEwIH19PlJlYWxpc3RpYyBvdXRjb21lIHNwZWN0cnVtPC9kaXY+CiAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTIsIG1hcmdpbkJvdHRvbTogMTAgfX0+QWxsIG9mIHRoZXNlIGFyZSB2YWxpZCBzdWNjZXNzIHN0YXRlcy48L3A+CiAgICAgICAge0JFTkNILm91dGNvbWVzLm1hcCgobywgaSkgPT4gKAogICAgICAgICAgPGRpdiBrZXk9e2l9IHN0eWxlPXt7IHBhZGRpbmc6ICIxMHB4IDEycHgiLCBib3JkZXJMZWZ0OiBgM3B4IHNvbGlkICR7by5jfWAsIG1hcmdpbkJvdHRvbTogNiwgYmFja2dyb3VuZDogUC5iZywgYm9yZGVyUmFkaXVzOiAiMCA4cHggOHB4IDAiIH19PgogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiB9fT4KICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTMsIGZvbnRXZWlnaHQ6IDUwMCB9fT57by5sfTwvc3Bhbj4KICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMSB9fT57by5wfTwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEyLCBtYXJnaW46ICIzcHggMCAwIiB9fT57by5kfTwvcD4KICAgICAgICAgIDwvZGl2PgogICAgICAgICkpfQogICAgICA8L2Rpdj4KCiAgICAgIHsvKiBGaXJzdCB2cyBMYXRlc3Qgc3VtbWFyeSAqL30KICAgICAge3NuYXBzLmxlbmd0aCA+PSAyICYmICgoKSA9PiB7CiAgICAgICAgY29uc3QgZmlyc3QgPSBzbmFwc1swXTsKICAgICAgICBjb25zdCBsYXN0ID0gc25hcHNbc25hcHMubGVuZ3RoIC0gMV07CiAgICAgICAgY29uc3QgaW1wcm92ZWQgPSBTTkFQX1EuZmlsdGVyKHEgPT4gKGxhc3QuYW5zd2Vycz8uW3EuaWRdID8/IDApID4gKGZpcnN0LmFuc3dlcnM/LltxLmlkXSA/PyAwKSkubGVuZ3RoOwogICAgICAgIGNvbnN0IGRlY2xpbmVkID0gU05BUF9RLmZpbHRlcihxID0+IChsYXN0LmFuc3dlcnM/LltxLmlkXSA/PyAwKSA8IChmaXJzdC5hbnN3ZXJzPy5bcS5pZF0gPz8gMCkpLmxlbmd0aDsKICAgICAgICBjb25zdCBzYW1lID0gU05BUF9RLmxlbmd0aCAtIGltcHJvdmVkIC0gZGVjbGluZWQ7CiAgICAgICAgY29uc3QgZGF5c0JldHdlZW4gPSBNYXRoLnJvdW5kKChuZXcgRGF0ZShsYXN0LmRhdGUpIC0gbmV3IERhdGUoZmlyc3QuZGF0ZSkpIC8gODY0MDAwMDApOwogICAgICAgIHJldHVybiAoCiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxOCwgbWFyZ2luQm90dG9tOiAxMCwgYm9yZGVyTGVmdDogYDNweCBzb2xpZCAke2ltcHJvdmVkID4gZGVjbGluZWQgPyBQLmdyZWVuIDogaW1wcm92ZWQgPCBkZWNsaW5lZCA/IFAucm9zZSA6IFAuYmx1ZX1gIH19PgogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNSwgZm9udEZhbWlseTogIkdlb3JnaWEsICdUaW1lcyBOZXcgUm9tYW4nLCBzZXJpZiIsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luQm90dG9tOiA4IH19PgogICAgICAgICAgICAgIHtpbXByb3ZlZCA+IGRlY2xpbmVkID8gIlRoaW5ncyBhcmUgbW92aW5nIiA6IGltcHJvdmVkIDwgZGVjbGluZWQgPyAiQSBoYXJkZXIgc3RyZXRjaCIgOiAiSG9sZGluZyBzdGVhZHkifQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMywgbWFyZ2luOiAiMCAwIDEwcHgiLCBsaW5lSGVpZ2h0OiAxLjUgfX0+CiAgICAgICAgICAgICAgT3ZlciB7ZGF5c0JldHdlZW59IGRheXMgYW5kIHtzbmFwcy5sZW5ndGh9IHNuYXBzaG90czoKICAgICAgICAgICAgPC9wPgogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiAxMiB9fT4KICAgICAgICAgICAgICB7aW1wcm92ZWQgPiAwICYmIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgcGFkZGluZzogMTAsIGJhY2tncm91bmQ6IFAuYmcsIGJvcmRlclJhZGl1czogOCwgdGV4dEFsaWduOiAiY2VudGVyIiB9fT4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuZ3JlZW4sIGZvbnRTaXplOiAyMCwgZm9udFdlaWdodDogNjAwIH19PntpbXByb3ZlZH08L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTAgfX0+aW1wcm92ZWQ8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj59CiAgICAgICAgICAgICAge3NhbWUgPiAwICYmIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgcGFkZGluZzogMTAsIGJhY2tncm91bmQ6IFAuYmcsIGJvcmRlclJhZGl1czogOCwgdGV4dEFsaWduOiAiY2VudGVyIiB9fT4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuYmx1ZSwgZm9udFNpemU6IDIwLCBmb250V2VpZ2h0OiA2MDAgfX0+e3NhbWV9PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEwIH19PnN0ZWFkeTwvZGl2PgogICAgICAgICAgICAgIDwvZGl2Pn0KICAgICAgICAgICAgICB7ZGVjbGluZWQgPiAwICYmIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgcGFkZGluZzogMTAsIGJhY2tncm91bmQ6IFAuYmcsIGJvcmRlclJhZGl1czogOCwgdGV4dEFsaWduOiAiY2VudGVyIiB9fT4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAucm9zZSwgZm9udFNpemU6IDIwLCBmb250V2VpZ2h0OiA2MDAgfX0+e2RlY2xpbmVkfTwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMCB9fT5oYXJkZXI8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj59CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgKTsKICAgICAgfSkoKX0KCiAgICAgIHsvKiBTbmFwc2hvdCB0cmVuZCBjaGFydHMg4oCUIG9uZSBwZXIgcXVlc3Rpb24gKi99CiAgICAgIHtzbmFwcy5sZW5ndGggPj0gMiAmJiAoCiAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogMTAgfX0+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLndhcm0sIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDEyIH19PlByb2dyZXNzIG92ZXIgdGltZTwvZGl2PgogICAgICAgICAge1NOQVBfUS5tYXAocSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGRhdGFQb2ludHMgPSBzbmFwcy5tYXAocyA9PiAoeyB2YWw6IHMuYW5zd2Vycz8uW3EuaWRdID8/IG51bGwsIGRhdGU6IHMuZGF0ZSB9KSkuZmlsdGVyKGQgPT4gZC52YWwgIT09IG51bGwpOwogICAgICAgICAgICBpZiAoZGF0YVBvaW50cy5sZW5ndGggPCAyKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgY29uc3QgdmFscyA9IGRhdGFQb2ludHMubWFwKGQgPT4gZC52YWwpOwogICAgICAgICAgICBjb25zdCBtYXggPSBxLnMubGVuZ3RoIC0gMTsKICAgICAgICAgICAgY29uc3QgZmlyc3QgPSB2YWxzWzBdOwogICAgICAgICAgICBjb25zdCBsYXRlc3QgPSB2YWxzW3ZhbHMubGVuZ3RoIC0gMV07CiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gbGF0ZXN0IC0gZmlyc3Q7CiAgICAgICAgICAgIGNvbnN0IGRlbHRhQ29sb3IgPSBkZWx0YSA+IDAgPyBQLmdyZWVuIDogZGVsdGEgPCAwID8gUC5yZWQgOiBQLmRpbTsKICAgICAgICAgICAgY29uc3QgdyA9IDI2MCwgaCA9IDUwOwogICAgICAgICAgICBjb25zdCB4U3RlcCA9ICh3IC0gOCkgLyAodmFscy5sZW5ndGggLSAxKTsKICAgICAgICAgICAgY29uc3QgcHRzID0gdmFscy5tYXAoKHYsIGkpID0+ICh7IHg6IDQgKyBpICogeFN0ZXAsIHk6IGggLSA2IC0gKHYgLyBtYXgpICogKGggLSAxMikgfSkpOwogICAgICAgICAgICBjb25zdCBwYXRoRCA9IHB0cy5tYXAoKHAsIGkpID0+IGAke2kgPT09IDAgPyAiTSIgOiAiTCJ9JHtwLnh9LCR7cC55fWApLmpvaW4oIiAiKTsKICAgICAgICAgICAgLy8gQXJlYSBmaWxsCiAgICAgICAgICAgIGNvbnN0IGFyZWFEID0gcGF0aEQgKyBgIEwke3B0c1twdHMubGVuZ3RoIC0gMV0ueH0sJHtoIC0gNn0gTCR7cHRzWzBdLnh9LCR7aCAtIDZ9IFpgOwogICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgIDxkaXYga2V5PXtxLmlkfSBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDE2IH19PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEyLCBtYXJnaW5Cb3R0b206IDIsIGxpbmVIZWlnaHQ6IDEuNCB9fT57cS5xfTwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGp1c3RpZnlDb250ZW50OiAic3BhY2UtYmV0d2VlbiIsIGFsaWduSXRlbXM6ICJjZW50ZXIiLCBtYXJnaW5Cb3R0b206IDQgfX0+CiAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEwIH19PntxLnNbZmlyc3RdfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IGRlbHRhQ29sb3IsIGZvbnRTaXplOiAxMSwgZm9udFdlaWdodDogNTAwIH19PgogICAgICAgICAgICAgICAgICAgIHtkZWx0YSA+IDAgPyAiXHUyMTkyICIgOiBkZWx0YSA8IDAgPyAiXHUyMTkyICIgOiAiIn17cS5zW2xhdGVzdF19IHtkZWx0YSA+IDAgPyAiXHUyMTkxIiA6IGRlbHRhIDwgMCA/ICJcdTIxOTMiIDogIj0ifQogICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD17YDAgMCAke3d9ICR7aH1gfSBzdHlsZT17eyB3aWR0aDogIjEwMCUiLCBoZWlnaHQ6IGgsIGRpc3BsYXk6ICJibG9jayIgfX0+CiAgICAgICAgICAgICAgICAgIDxsaW5lIHgxPSI0IiB5MT17aCAtIDZ9IHgyPXt3IC0gNH0geTI9e2ggLSA2fSBzdHJva2U9e1AuYm9yZGVyfSBzdHJva2VXaWR0aD0iMC41IiAvPgogICAgICAgICAgICAgICAgICA8cGF0aCBkPXthcmVhRH0gZmlsbD17UC53YXJtICsgIjExIn0gLz4KICAgICAgICAgICAgICAgICAgPHBhdGggZD17cGF0aER9IGZpbGw9Im5vbmUiIHN0cm9rZT17UC53YXJtfSBzdHJva2VXaWR0aD0iMiIgLz4KICAgICAgICAgICAgICAgICAge3B0cy5tYXAoKHAsIGkpID0+ICgKICAgICAgICAgICAgICAgICAgICA8ZyBrZXk9e2l9PgogICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD17cC54fSBjeT17cC55fSByPXtpID09PSAwIHx8IGkgPT09IHB0cy5sZW5ndGggLSAxID8gNCA6IDIuNX0gZmlsbD17aSA9PT0gcHRzLmxlbmd0aCAtIDEgPyBQLndhcm0gOiBpID09PSAwID8gUC5kaW0gOiBQLmRpbX0gLz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICkpfQogICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiB9fT4KICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltbWVyLCBmb250U2l6ZTogOCB9fT57Zm10U2hvcnQoZGF0YVBvaW50c1swXS5kYXRlKX08L3NwYW4+CiAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLmRpbW1lciwgZm9udFNpemU6IDggfX0+e2ZtdFNob3J0KGRhdGFQb2ludHNbZGF0YVBvaW50cy5sZW5ndGggLSAxXS5kYXRlKX08L3NwYW4+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgKTsKICAgICAgICAgIH0pfQogICAgICAgIDwvZGl2PgogICAgICApfQoKICAgICAgey8qIEluZGl2aWR1YWwgc25hcHNob3RzIOKAlCBjb21wYWN0IGxpc3QgKi99CiAgICAgIHtzbmFwcy5sZW5ndGggPiAwICYmICgKICAgICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNiwgbWFyZ2luQm90dG9tOiAxMCB9fT4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAud2FybSwgZm9udFNpemU6IDEzLCBmb250V2VpZ2h0OiA1MDAsIG1hcmdpbkJvdHRvbTogMTAgfX0+QWxsIHNuYXBzaG90cyAoe3NuYXBzLmxlbmd0aH0pPC9kaXY+CiAgICAgICAgICB7Wy4uLnNuYXBzXS5yZXZlcnNlKCkubWFwKHMgPT4gKAogICAgICAgICAgICA8ZGl2IGtleT17cy5pZH0gc3R5bGU9e3sgcGFkZGluZzogIjhweCAwIiwgYm9yZGVyQm90dG9tOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCwgZGlzcGxheTogImZsZXgiLCBqdXN0aWZ5Q29udGVudDogInNwYWNlLWJldHdlZW4iLCBhbGlnbkl0ZW1zOiAiY2VudGVyIiB9fT4KICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDEyIH19PntmbXREYXRlKHMuZGF0ZSl9PC9zcGFuPgogICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTAsIG1hcmdpbkxlZnQ6IDggfX0+CiAgICAgICAgICAgICAgICAgIHtTTkFQX1Euc2xpY2UoMCwgMikubWFwKHEgPT4gcy5hbnN3ZXJzPy5bcS5pZF0gIT09IHVuZGVmaW5lZCA/IHEuc1tzLmFuc3dlcnNbcS5pZF1dIDogIiIpLmZpbHRlcihCb29sZWFuKS5qb2luKCIgXHUwMEI3ICIpfQogICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gb25EZWxldGVTbmFwKHMuaWQpfSBzdHlsZT17eyBiYWNrZ3JvdW5kOiAibm9uZSIsIGJvcmRlcjogIm5vbmUiLCBjb2xvcjogUC5kaW0sIGN1cnNvcjogInBvaW50ZXIiLCBmb250U2l6ZTogMTEsIHBhZGRpbmc6ICI0cHggOHB4IiB9fT57Ilx1MjcxNSJ9PC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKSl9CiAgICAgICAgPC9kaXY+CiAgICAgICl9CgogICAgICA8QnRuIG9uQ2xpY2s9e29wZW5TbmFwfSBmdWxsPlRha2UgYSBQcm9ncmVzcyBTbmFwc2hvdDwvQnRuPgogICAgPC9kaXY+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBFTlRSWSBNT0RBTAovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKZnVuY3Rpb24gRW50cnlNb2RhbCh7IGVudHJ5LCBvblNhdmUsIG9uRGVsZXRlLCBvbkNsb3NlIH0pIHsKICBjb25zdCBpc0VkaXQgPSAhIWVudHJ5OwogIGNvbnN0IFthY3Rpb24sIHNldEFjdGlvbl0gPSB1c2VTdGF0ZShlbnRyeT8uYWN0aW9uIHx8ICIiKTsKICBjb25zdCBbcmVzcG9uc2UsIHNldFJlc3BvbnNlXSA9IHVzZVN0YXRlKGVudHJ5Py5yZXNwb25zZSB8fCAiIik7CiAgY29uc3QgW25vdGUsIHNldE5vdGVdID0gdXNlU3RhdGUoZW50cnk/Lm5vdGUgfHwgIiIpOwogIGNvbnN0IFtjdHhzLCBzZXRDdHhzXSA9IHVzZVN0YXRlKGVudHJ5Py5jb250ZXh0cyB8fCBbXSk7CiAgY29uc3QgW2RhdGUsIHNldERhdGVdID0gdXNlU3RhdGUoZW50cnk/LmRhdGU/LnNsaWNlKDAsIDEwKSB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApKTsKICBjb25zdCBbY29uZmlybURlbCwgc2V0Q29uZmlybURlbF0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW3Bob3RvLCBzZXRQaG90b10gPSB1c2VTdGF0ZShlbnRyeT8ucGhvdG8gfHwgbnVsbCk7CiAgY29uc3QgZmlsZVJlZiA9IHVzZVJlZihudWxsKTsKCiAgY29uc3QgdG9nZ2xlID0gKGMpID0+IHNldEN0eHMocCA9PiBwLmluY2x1ZGVzKGMpID8gcC5maWx0ZXIoeCA9PiB4ICE9PSBjKSA6IFsuLi5wLCBjXSk7CiAgY29uc3QgdmFsaWQgPSBhY3Rpb24gJiYgcmVzcG9uc2U7CgogIGNvbnN0IGhhbmRsZVBob3RvID0gKGUpID0+IHsKICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsKICAgIGlmICghZmlsZSkgcmV0dXJuOwogICAgLy8gUmVzaXplIHRvIG1heCA4MDBweCB0byBrZWVwIEluZGV4ZWREQiBtYW5hZ2VhYmxlCiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgcmVhZGVyLm9ubG9hZCA9IChldikgPT4gewogICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHsKICAgICAgICBjb25zdCBtYXggPSA4MDA7CiAgICAgICAgbGV0IHcgPSBpbWcud2lkdGgsIGggPSBpbWcuaGVpZ2h0OwogICAgICAgIGlmICh3ID4gbWF4IHx8IGggPiBtYXgpIHsKICAgICAgICAgIGlmICh3ID4gaCkgeyBoID0gTWF0aC5yb3VuZChoICogbWF4IC8gdyk7IHcgPSBtYXg7IH0KICAgICAgICAgIGVsc2UgeyB3ID0gTWF0aC5yb3VuZCh3ICogbWF4IC8gaCk7IGggPSBtYXg7IH0KICAgICAgICB9CiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CiAgICAgICAgY2FudmFzLndpZHRoID0gdzsgY2FudmFzLmhlaWdodCA9IGg7CiAgICAgICAgY2FudmFzLmdldENvbnRleHQoIjJkIikuZHJhd0ltYWdlKGltZywgMCwgMCwgdywgaCk7CiAgICAgICAgc2V0UGhvdG8oY2FudmFzLnRvRGF0YVVSTCgiaW1hZ2UvanBlZyIsIDAuNykpOwogICAgICB9OwogICAgICBpbWcuc3JjID0gZXYudGFyZ2V0LnJlc3VsdDsKICAgIH07CiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICB9OwoKICByZXR1cm4gKAogICAgPE1vZGFsIG9uQ2xvc2U9e29uQ2xvc2V9IHRpdGxlPXtpc0VkaXQgPyAiRWRpdCBJbnRlcmFjdGlvbiIgOiAiTG9nIGFuIEludGVyYWN0aW9uIn0+CiAgICAgIDxsYWJlbCBzdHlsZT17Y3NzLmxhYmVsfT5EYXRlPC9sYWJlbD4KICAgICAgPGlucHV0IHR5cGU9ImRhdGUiIHZhbHVlPXtkYXRlfSBvbkNoYW5nZT17ZSA9PiBzZXREYXRlKGUudGFyZ2V0LnZhbHVlKX0gc3R5bGU9e2Nzcy5kYXRlSW59IC8+CgogICAgICA8bGFiZWwgc3R5bGU9e2Nzcy5sYWJlbH0+V2hhdCBkaWQgeW91IGRvPzwvbGFiZWw+CiAgICAgIDxkaXYgc3R5bGU9e2Nzcy5jaGlwc30+CiAgICAgICAge0FDVElPTlMubWFwKGEgPT4gPENoaXAga2V5PXthLmlkfSBhY3RpdmU9e2FjdGlvbiA9PT0gYS5pZH0gY29sb3I9e2EuY30gb25DbGljaz17KCkgPT4gc2V0QWN0aW9uKGEuaWQpfT57YS5pY29ufSB7YS5sYWJlbH08L0NoaXA+KX0KICAgICAgPC9kaXY+CgogICAgICA8bGFiZWwgc3R5bGU9e2Nzcy5sYWJlbH0+SG93IGRpZCB0aGV5IHJlc3BvbmQ/PC9sYWJlbD4KICAgICAgPGRpdiBzdHlsZT17Y3NzLmNoaXBzfT4KICAgICAgICB7UkVTUE9OU0VTLm1hcChyID0+IDxDaGlwIGtleT17ci5pZH0gYWN0aXZlPXtyZXNwb25zZSA9PT0gci5pZH0gY29sb3I9e3IuY30gb25DbGljaz17KCkgPT4gc2V0UmVzcG9uc2Uoci5pZCl9PntyLmljb259IHtyLmxhYmVsfTwvQ2hpcD4pfQogICAgICA8L2Rpdj4KCiAgICAgIDxsYWJlbCBzdHlsZT17Y3NzLmxhYmVsfT5Db250ZXh0IDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFdlaWdodDogNDAwIH19PihvcHRpb25hbCk8L3NwYW4+PC9sYWJlbD4KICAgICAgPGRpdiBzdHlsZT17Y3NzLmNoaXBzfT4KICAgICAgICB7Q09OVEVYVFMubWFwKGMgPT4gPENoaXAga2V5PXtjfSBzbWFsbCBhY3RpdmU9e2N0eHMuaW5jbHVkZXMoYyl9IGNvbG9yPXtQLndhcm19IG9uQ2xpY2s9eygpID0+IHRvZ2dsZShjKX0+e2N9PC9DaGlwPil9CiAgICAgIDwvZGl2PgoKICAgICAgPGxhYmVsIHN0eWxlPXtjc3MubGFiZWx9PlBob3RvIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFdlaWdodDogNDAwIH19PihvcHRpb25hbCk8L3NwYW4+PC9sYWJlbD4KICAgICAge3Bob3RvID8gKAogICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAxNCwgcG9zaXRpb246ICJyZWxhdGl2ZSIsIGRpc3BsYXk6ICJpbmxpbmUtYmxvY2siIH19PgogICAgICAgICAgPGltZyBzcmM9e3Bob3RvfSBhbHQ9IkF0dGFjaGVkIiBzdHlsZT17eyB3aWR0aDogIjEwMCUiLCBtYXhXaWR0aDogMjIwLCBib3JkZXJSYWRpdXM6IDEwLCBkaXNwbGF5OiAiYmxvY2siLCBib3JkZXI6IGAxcHggc29saWQgJHtQLmJvcmRlcn1gIH19IC8+CiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2V0UGhvdG8obnVsbCk7IGlmIChmaWxlUmVmLmN1cnJlbnQpIGZpbGVSZWYuY3VycmVudC52YWx1ZSA9ICIiOyB9fSBzdHlsZT17eyBwb3NpdGlvbjogImFic29sdXRlIiwgdG9wOiA2LCByaWdodDogNiwgYmFja2dyb3VuZDogInJnYmEoMCwwLDAsMC43KSIsIGJvcmRlcjogIm5vbmUiLCBjb2xvcjogIiNmZmYiLCBib3JkZXJSYWRpdXM6ICI1MCUiLCB3aWR0aDogMjQsIGhlaWdodDogMjQsIGZvbnRTaXplOiAxMywgY3Vyc29yOiAicG9pbnRlciIsIGRpc3BsYXk6ICJmbGV4IiwgYWxpZ25JdGVtczogImNlbnRlciIsIGp1c3RpZnlDb250ZW50OiAiY2VudGVyIiB9fT7inJU8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgKSA6ICgKICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGZpbGVSZWYuY3VycmVudD8uY2xpY2soKX0gc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBhbGlnbkl0ZW1zOiAiY2VudGVyIiwgZ2FwOiA4LCBwYWRkaW5nOiAiMTBweCAxNHB4IiwgYm9yZGVyUmFkaXVzOiA5LCBib3JkZXI6IGAxcHggZGFzaGVkICR7UC5ib3JkZXIyfWAsIGJhY2tncm91bmQ6ICJ0cmFuc3BhcmVudCIsIGNvbG9yOiBQLmRpbSwgY3Vyc29yOiAicG9pbnRlciIsIGZvbnRTaXplOiAxMywgZm9udEZhbWlseTogImluaGVyaXQiLCBtYXJnaW5Cb3R0b206IDE0LCB3aWR0aDogIjEwMCUiIH19PgogICAgICAgICAgPHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZVdpZHRoPSIxLjUiPjxyZWN0IHg9IjMiIHk9IjMiIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgcng9IjMiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI4LjUiIHI9IjEuNSIvPjxwYXRoIGQ9Ik0yMSAxNWwtNS01TDUgMjEiLz48L3N2Zz4KICAgICAgICAgIEFkZCBhIHBob3RvCiAgICAgICAgPC9idXR0b24+CiAgICAgICl9CiAgICAgIDxpbnB1dCByZWY9e2ZpbGVSZWZ9IHR5cGU9ImZpbGUiIGFjY2VwdD0iaW1hZ2UvKiIgb25DaGFuZ2U9e2hhbmRsZVBob3RvfSBzdHlsZT17eyBkaXNwbGF5OiAibm9uZSIgfX0gLz4KCiAgICAgIDxsYWJlbCBzdHlsZT17Y3NzLmxhYmVsfT5Ob3RlcyA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRXZWlnaHQ6IDQwMCB9fT4ob3B0aW9uYWwpPC9zcGFuPjwvbGFiZWw+CiAgICAgIDx0ZXh0YXJlYSB2YWx1ZT17bm90ZX0gb25DaGFuZ2U9e2UgPT4gc2V0Tm90ZShlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPSJXaGF0IGhhcHBlbmVkPyBIb3cgZGlkIGl0IGZlZWw/IiBzdHlsZT17Y3NzLnRleHRhcmVhfSByb3dzPXszfSAvPgoKICAgICAgPEJ0biBvbkNsaWNrPXsoKSA9PiB7IGlmICh2YWxpZCkgb25TYXZlKHsgaWQ6IGVudHJ5Py5pZCB8fCB1aWQoKSwgZGF0ZTogbmV3IERhdGUoZGF0ZSArICJUMTI6MDA6MDAiKS50b0lTT1N0cmluZygpLCBhY3Rpb24sIHJlc3BvbnNlLCBub3RlLCBjb250ZXh0czogY3R4cywgcGhvdG86IHBob3RvIHx8IHVuZGVmaW5lZCB9KTsgfX0gZnVsbCBkaXNhYmxlZD17IXZhbGlkfSBzdHlsZT17eyBtYXJnaW5Ub3A6IDE2IH19Pntpc0VkaXQgPyAiVXBkYXRlIiA6ICJTYXZlIn08L0J0bj4KCiAgICAgIHtpc0VkaXQgJiYgb25EZWxldGUgJiYgKAogICAgICAgICFjb25maXJtRGVsCiAgICAgICAgICA/IDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0Q29uZmlybURlbCh0cnVlKX0gc3R5bGU9e3sgLi4uY3NzLnRleHRCdG4sIGNvbG9yOiBQLmRpbSwgbWFyZ2luVG9wOiA4IH19PkRlbGV0ZSB0aGlzIGVudHJ5PC9idXR0b24+CiAgICAgICAgICA6IDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAiY2VudGVyIiwgbWFyZ2luVG9wOiA4IH19PgogICAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLnJlZCwgZm9udFNpemU6IDEyLCBtYXJnaW46ICIwIDAgNnB4IiB9fT5BcmUgeW91IHN1cmU/PC9wPgogICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gb25EZWxldGUoZW50cnkuaWQpfSBzdHlsZT17eyAuLi5jc3MudGV4dEJ0biwgY29sb3I6IFAucmVkIH19PlllcywgZGVsZXRlPC9idXR0b24+CiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRDb25maXJtRGVsKGZhbHNlKX0gc3R5bGU9e3sgLi4uY3NzLnRleHRCdG4sIGNvbG9yOiBQLmRpbSwgbWFyZ2luTGVmdDogMTIgfX0+Q2FuY2VsPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICApfQogICAgPC9Nb2RhbD4KICApOwp9CgovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKLy8gIENBUkQgKFBFUlNQRUNUSVZFKSBNT0RBTAovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKZnVuY3Rpb24gQ2FyZE1vZGFsKHsgY2FyZCwgb25DbG9zZSB9KSB7CiAgcmV0dXJuICgKICAgIDxNb2RhbCBvbkNsb3NlPXtvbkNsb3NlfSB0aXRsZT17YOKXhyAke2NhcmQudGl0bGV9YH0gdGl0bGVDb2xvcj17UC53YXJtfT4KICAgICAgPHAgc3R5bGU9e3sgY29sb3I6ICIjRDFENURCIiwgZm9udFNpemU6IDE1LCBsaW5lSGVpZ2h0OiAxLjcgfX0+e2NhcmQuYm9keX08L3A+CiAgICAgIHtjYXJkLnNyYyAmJiA8cCBzdHlsZT17eyBjb2xvcjogUC5ibHVlLCBmb250U2l6ZTogMTIsIGZvbnRTdHlsZTogIml0YWxpYyIsIG1hcmdpblRvcDogMTIgfX0+U291cmNlOiB7Y2FyZC5zcmN9PC9wPn0KICAgICAge2NhcmQucXVvdGUgJiYgKAogICAgICAgIDxkaXYgc3R5bGU9e3sgYmFja2dyb3VuZDogUC5iZywgYm9yZGVyUmFkaXVzOiAxMiwgcGFkZGluZzogMTYsIG1hcmdpblRvcDogMTYsIGJvcmRlckxlZnQ6IGAzcHggc29saWQgJHtQLndhcm19NDRgIH19PgogICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDE0LCBsaW5lSGVpZ2h0OiAxLjcsIGZvbnRTdHlsZTogIml0YWxpYyIsIG1hcmdpbjogMCB9fT57Y2FyZC5xdW90ZX08L3A+CiAgICAgICAgICB7Y2FyZC53aG8gJiYgPHAgc3R5bGU9e3sgY29sb3I6IFAud2FybSwgZm9udFNpemU6IDEyLCBtYXJnaW5Ub3A6IDgsIG1hcmdpbkJvdHRvbTogMCB9fT7igJQge2NhcmQud2hvfTwvcD59CiAgICAgICAgPC9kaXY+CiAgICAgICl9CiAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAyMCwgcGFkZGluZzogMTQsIGJhY2tncm91bmQ6IGAke1AuY2FyZDJ9ODhgLCBib3JkZXJSYWRpdXM6IDEwLCBib3JkZXJMZWZ0OiBgM3B4IHNvbGlkICR7UC5ncmVlbn0zM2AgfX0+CiAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTIsIG1hcmdpbjogMCwgbGluZUhlaWdodDogMS42IH19PgogICAgICAgICAgVGhpcyBwZXJzcGVjdGl2ZSBpc24ndCBhYm91dCBkaXNtaXNzaW5nIHlvdXIgcGFpbi4gV2hhdCB5b3UncmUgZmVlbGluZyBpcyByZWFsLiBUaGlzIGlzIGFib3V0IHNlcGFyYXRpbmcgd2hhdCdzIGhhcHBlbmluZyBmcm9tIHdoYXQgaXQgbWVhbnMg4oCUIGJlY2F1c2UgaW4gc3RlcGZhbWlseSBkeW5hbWljcywgdGhvc2UgYXJlIG9mdGVuIHZlcnkgZGlmZmVyZW50IHRoaW5ncy4KICAgICAgICA8L3A+CiAgICAgIDwvZGl2PgogICAgPC9Nb2RhbD4KICApOwp9CgovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKLy8gIFNOQVBTSE9UIE1PREFMCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkApmdW5jdGlvbiBTbmFwTW9kYWwoeyBzbmFwcywgb25TYXZlLCBvbkNsb3NlIH0pIHsKICBjb25zdCBbYW5zLCBzZXRBbnNdID0gdXNlU3RhdGUoe30pOwogIGNvbnN0IGRvbmUgPSBTTkFQX1EuZXZlcnkocSA9PiBhbnNbcS5pZF0gIT09IHVuZGVmaW5lZCk7CgogIHJldHVybiAoCiAgICA8TW9kYWwgb25DbG9zZT17b25DbG9zZX0gdGl0bGU9Ik1vbnRobHkgQ2hlY2staW4iPgogICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMywgbWFyZ2luQm90dG9tOiAxNiB9fT5BbnN3ZXIgaG9uZXN0bHkg4oCUIHRoaXMgaXMgZm9yIHlvdS4gVGhlc2Ugc25hcHNob3RzIGJlY29tZSB2YWx1YWJsZSB3aGVuIHlvdSBjb21wYXJlIHRoZW0gb3ZlciB0aW1lLjwvcD4KICAgICAge1NOQVBfUS5tYXAocSA9PiAoCiAgICAgICAgPGRpdiBrZXk9e3EuaWR9IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogMTggfX0+CiAgICAgICAgICA8bGFiZWwgc3R5bGU9e3sgLi4uY3NzLmxhYmVsLCBmb250U2l6ZTogMTMgfX0+e3EucX08L2xhYmVsPgogICAgICAgICAgPGRpdiBzdHlsZT17Y3NzLmNoaXBzfT4KICAgICAgICAgICAge3Eucy5tYXAoKHMsIGkpID0+IDxDaGlwIGtleT17aX0gc21hbGwgYWN0aXZlPXthbnNbcS5pZF0gPT09IGl9IGNvbG9yPXtQLndhcm19IG9uQ2xpY2s9eygpID0+IHNldEFucyhwID0+ICh7IC4uLnAsIFtxLmlkXTogaSB9KSl9PntzfTwvQ2hpcD4pfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICkpfQogICAgICA8QnRuIG9uQ2xpY2s9eygpID0+IHsgaWYgKGRvbmUpIG9uU2F2ZSh7IGlkOiB1aWQoKSwgZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLCBhbnN3ZXJzOiBhbnMgfSk7IH19IGZ1bGwgZGlzYWJsZWQ9eyFkb25lfT5TYXZlIFNuYXBzaG90PC9CdG4+CiAgICA8L01vZGFsPgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgU0VUVElOR1MgTU9EQUwKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIFNldHRpbmdzTW9kYWwoeyBvbkNsb3NlLCBvbkV4cG9ydCwgb25JbXBvcnQsIG9uUmVkbyB9KSB7CiAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpOwogIGNvbnN0IFtzaG93UHJpdmFjeSwgc2V0U2hvd1ByaXZhY3ldID0gdXNlU3RhdGUoZmFsc2UpOwogIHJldHVybiAoCiAgICA8TW9kYWwgb25DbG9zZT17b25DbG9zZX0gdGl0bGU9IlNldHRpbmdzIiBzbWFsbD4KICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTMsIG1hcmdpbkJvdHRvbTogMTQgfX0+WW91ciBkYXRhIGxpdmVzIG9uIHRoaXMgZGV2aWNlIG9ubHkuIEJhY2sgaXQgdXAgdG8ga2VlcCBpdCBzYWZlLjwvcD4KICAgICAgPEJ0biBvbkNsaWNrPXtvbkV4cG9ydH0gZnVsbD5FeHBvcnQgRGF0YSBCYWNrdXA8L0J0bj4KICAgICAgPEJ0biBvbkNsaWNrPXsoKSA9PiByZWYuY3VycmVudD8uY2xpY2soKX0gZnVsbCBzZWNvbmRhcnkgc3R5bGU9e3sgbWFyZ2luVG9wOiA4IH19PkltcG9ydCBEYXRhIEJhY2t1cDwvQnRuPgogICAgICA8aW5wdXQgcmVmPXtyZWZ9IHR5cGU9ImZpbGUiIGFjY2VwdD0iLmpzb24iIG9uQ2hhbmdlPXtvbkltcG9ydH0gc3R5bGU9e3sgZGlzcGxheTogIm5vbmUiIH19IC8+CiAgICAgIDxociBzdHlsZT17eyBib3JkZXI6ICJub25lIiwgYm9yZGVyVG9wOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCwgbWFyZ2luOiAiMjBweCAwIDE0cHgiIH19IC8+CiAgICAgIDxCdG4gb25DbGljaz17b25SZWRvfSBmdWxsIHNlY29uZGFyeT5SZWRvIE9uYm9hcmRpbmc8L0J0bj4KICAgICAgPGhyIHN0eWxlPXt7IGJvcmRlcjogIm5vbmUiLCBib3JkZXJUb3A6IGAxcHggc29saWQgJHtQLmJvcmRlcn1gLCBtYXJnaW46ICIyMHB4IDAgMTRweCIgfX0gLz4KICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93UHJpdmFjeShwID0+ICFwKX0gc3R5bGU9e3sgLi4uY3NzLnRleHRCdG4sIGNvbG9yOiBQLmRpbSwgd2lkdGg6ICIxMDAlIiwgdGV4dEFsaWduOiAiY2VudGVyIiwgZm9udFNpemU6IDEyIH19PgogICAgICAgIHtzaG93UHJpdmFjeSA/ICJIaWRlIiA6ICJTaG93In0gUHJpdmFjeSBQb2xpY3kKICAgICAgPC9idXR0b24+CiAgICAgIHtzaG93UHJpdmFjeSAmJiAoCiAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6IDEwLCBwYWRkaW5nOiAxNCwgYmFja2dyb3VuZDogUC5iZywgYm9yZGVyUmFkaXVzOiAxMCwgZm9udFNpemU6IDExLCBjb2xvcjogUC5tdXRlZCwgbGluZUhlaWdodDogMS43IH19PgogICAgICAgICAgPHAgc3R5bGU9e3sgZm9udFdlaWdodDogNjAwLCBjb2xvcjogUC50ZXh0LCBtYXJnaW5Cb3R0b206IDgsIGZvbnRTaXplOiAxMiB9fT5Qcml2YWN5IFBvbGljeTwvcD4KICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbjogIjAgMCA4cHgiIH19PlN0ZWFkZmFzdCBzdG9yZXMgYWxsIGRhdGEgbG9jYWxseSBvbiB5b3VyIGRldmljZSB1c2luZyBJbmRleGVkREIuIFRoaXMgaW5jbHVkZXMgaW50ZXJhY3Rpb24gbG9ncywgcHJvZmlsZSBzZXR0aW5ncywgcHJvZ3Jlc3Mgc25hcHNob3RzLCBhbmQgYW55IHBob3RvcyB5b3UgYXR0YWNoLjwvcD4KICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbjogIjAgMCA4cHgiIH19PjxzdHJvbmcgc3R5bGU9e3sgY29sb3I6IFAudGV4dCB9fT5ObyBkYXRhIGlzIGNvbGxlY3RlZCwgdHJhbnNtaXR0ZWQsIG9yIHN0b3JlZCBvbiBhbnkgc2VydmVyLjwvc3Ryb25nPiBXZSBoYXZlIG5vIGFjY2VzcyB0byB5b3VyIGRhdGEuIFRoZXJlIGlzIG5vIGFjY291bnQsIG5vIGxvZ2luLCBubyBhbmFseXRpY3MsIG5vIHRyYWNraW5nLCBhbmQgbm8gY29va2llcy48L3A+CiAgICAgICAgICA8cCBzdHlsZT17eyBtYXJnaW46ICIwIDAgOHB4IiB9fT5ObyBleHRlcm5hbCBuZXR3b3JrIHJlcXVlc3RzIGFyZSBtYWRlLiBUaGUgYXBwIHVzZXMgb25seSBzeXN0ZW0gZm9udHMgYW5kIHJ1bnMgZW50aXJlbHkgb2ZmbGluZSBhZnRlciBmaXJzdCBsb2FkLjwvcD4KICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbjogIjAgMCA4cHgiIH19PllvdSBjYW4gZXhwb3J0IHlvdXIgZGF0YSBhcyBhIEpTT04gZmlsZSBhdCBhbnkgdGltZSB1c2luZyB0aGUgRXhwb3J0IGJ1dHRvbiBhYm92ZS4gWW91IGNhbiBkZWxldGUgYWxsIGRhdGEgYnkgY2xlYXJpbmcgeW91ciBicm93c2VyJ3Mgc2l0ZSBkYXRhIGZvciB0aGlzIGFwcC48L3A+CiAgICAgICAgICA8cCBzdHlsZT17eyBtYXJnaW46ICIwIDAgOHB4IiB9fT5QaG90b3MgeW91IGF0dGFjaCBhcmUgcmVzaXplZCBhbmQgc3RvcmVkIGxvY2FsbHkgYXMgcGFydCBvZiB5b3VyIGVudHJ5IGRhdGEuIFRoZXkgYXJlIG5ldmVyIHVwbG9hZGVkIGFueXdoZXJlLjwvcD4KICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbjogMCB9fT5Db250YWN0OiBbeW91ciBlbWFpbCBoZXJlXTwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgKX0KICAgIDwvTW9kYWw+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBPTkJPQVJESU5HCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkApmdW5jdGlvbiBPbmJvYXJkaW5nKHsgb25Eb25lIH0pIHsKICBjb25zdCBbc3RlcCwgc2V0U3RlcF0gPSB1c2VTdGF0ZSgwKTsKICBjb25zdCBbZCwgc2V0RF0gPSB1c2VTdGF0ZSh7IGNoaWxkQWdlOiAiIiwgY3VzdG9keTogIiIsIGxveWFsdHlDb25mbGljdDogIiIsIHllYXJzSW5Sb2xlOiAiIiwgY3VycmVudFN0YXRlOiAiIiwgc3RhcnREYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfSk7CiAgY29uc3QgdXBkID0gKGssIHYpID0+IHNldEQocCA9PiAoeyAuLi5wLCBba106IHYgfSkpOwoKICBjb25zdCBzdGVwcyA9IFsKICAgIHsgdGl0bGU6ICJCZWZvcmUgd2Ugc3RhcnQiLCBzdWI6ICJUaGlzIG5lZWRzIHRvIGJlIHNhaWQgdXBmcm9udC4iLCBjb250ZW50OiAoCiAgICAgIDxkaXY+CiAgICAgICAgPHAgc3R5bGU9e2Nzcy5vYlRleHR9PlRoZSBwYXRoIHRvIGEgZnVuY3Rpb25hbCByZWxhdGlvbnNoaXAgd2l0aCBhIHJlc2lzdGFudCBzdGVwY2hpbGQgdHlwaWNhbGx5IHRha2VzIDxzdHJvbmcgc3R5bGU9e3sgY29sb3I6IFAud2FybSB9fT43IHRvIDEyIHllYXJzPC9zdHJvbmc+LiBUaGUgZmFzdGVzdCBkb2N1bWVudGVkIGZ1bGwgaW50ZWdyYXRpb24gd2FzIDQgeWVhcnMuIFNvbWUgZmFtaWxpZXMgbmV2ZXIgZ2V0IHRoZXJlIOKAlCBhbmQgYSBzdGFibGUsIHJlc3BlY3RmdWwgZGlzdGFuY2UgaXMgYSB2YWxpZCBvdXRjb21lLjwvcD4KICAgICAgICA8cCBzdHlsZT17Y3NzLm9iVGV4dH0+Tm8gYXBwIHdpbGwgY2hhbmdlIHRoYXQgdGltZWxpbmUuIFdoYXQgdGhpcyB0b29sIGRvZXMgaXMgbWFrZSB0aGUgaW52aXNpYmxlIHZpc2libGUg4oCUIHNvIHlvdSBjYW4gc2VlIHdoZXRoZXIgeW91ciBlZmZvcnRzIGFyZSBwcm9kdWNpbmcgY2hhbmdlLCBldmVuIHdoZW4gaXQgZG9lc24ndCBmZWVsIGxpa2UgaXQuPC9wPgogICAgICAgIDxwIHN0eWxlPXtjc3Mub2JUZXh0fT5Zb3UncmUgbm90IGhlcmUgYmVjYXVzZSB5b3UgZmFpbGVkLiBZb3UncmUgaGVyZSBiZWNhdXNlIHlvdSBjYXJlIGVub3VnaCB0byB0cmFjayB3aGF0J3MgYWN0dWFsbHkgaGFwcGVuaW5nLjwvcD4KICAgICAgPC9kaXY+CiAgICApfSwKICAgIHsgdGl0bGU6ICJIb3cgb2xkIGlzIHRoZSBjaGlsZD8iLCBzdWI6ICJBdCB0aGUgdGltZSB5b3VyIGZhbWlseSBmb3JtZWQiLCBjb250ZW50OiAoCiAgICAgIDxkaXYgc3R5bGU9e2Nzcy5jaGlwc30+e09iamVjdC5rZXlzKEJFTkNILmFnZXMpLm1hcChhID0+IDxPYkJ0biBrZXk9e2F9IGFjdGl2ZT17ZC5jaGlsZEFnZSA9PT0gYX0gb25DbGljaz17KCkgPT4gdXBkKCJjaGlsZEFnZSIsIGEpfT57YX0geWVhcnM8L09iQnRuPil9PC9kaXY+CiAgICApfSwKICAgIHsgdGl0bGU6ICJDdXN0b2R5IGFycmFuZ2VtZW50IiwgY29udGVudDogKAogICAgICA8ZGl2IHN0eWxlPXtjc3MuY2hpcHN9PntbImZ1bGwiLCAiNTAtNTAiLCAid2Vla2VuZHMiLCAib3RoZXIiXS5tYXAoYyA9PiA8T2JCdG4ga2V5PXtjfSBhY3RpdmU9e2QuY3VzdG9keSA9PT0gY30gb25DbGljaz17KCkgPT4gdXBkKCJjdXN0b2R5IiwgYyl9PntjID09PSAiZnVsbCIgPyAiRnVsbC10aW1lIiA6IGMgPT09ICI1MC01MCIgPyAiNTAvNTAiIDogYyA9PT0gIndlZWtlbmRzIiA/ICJXZWVrZW5kcyIgOiAiT3RoZXIifTwvT2JCdG4+KX08L2Rpdj4KICAgICl9LAogICAgeyB0aXRsZTogIkxveWFsdHkgY29uZmxpY3Q/Iiwgc3ViOiAiRG9lcyB0aGUgY2hpbGQgc2VlbSB0b3JuIGJldHdlZW4gYWNjZXB0aW5nIHlvdSBhbmQgc3RheWluZyBsb3lhbCB0byB0aGVpciBiaW9sb2dpY2FsIHBhcmVudD8iLCBjb250ZW50OiAoCiAgICAgIDxkaXYgc3R5bGU9e2Nzcy5jaGlwc30+e1sibm9uZSIsICJtaWxkIiwgInN0cm9uZyIsICJ1bmtub3duIl0ubWFwKGwgPT4gPE9iQnRuIGtleT17bH0gYWN0aXZlPXtkLmxveWFsdHlDb25mbGljdCA9PT0gbH0gb25DbGljaz17KCkgPT4gdXBkKCJsb3lhbHR5Q29uZmxpY3QiLCBsKX0+e2wgPT09ICJub25lIiA/ICJObyB2aXNpYmxlIGNvbmZsaWN0IiA6IGwgPT09ICJtaWxkIiA/ICJTb21lIHRlbnNpb24iIDogbCA9PT0gInN0cm9uZyIgPyAiU3Ryb25nIC8gYWN0aXZlIiA6ICJJJ20gbm90IHN1cmUifTwvT2JCdG4+KX08L2Rpdj4KICAgICl9LAogICAgeyB0aXRsZTogIkhvdyBsb25nIGluIHRoaXMgcm9sZT8iLCBjb250ZW50OiAoCiAgICAgIDxkaXYgc3R5bGU9e2Nzcy5jaGlwc30+e1siPCAxIiwgIjEiLCAiMi0zIiwgIjQtNiIsICI3KyJdLm1hcCh5ID0+IDxPYkJ0biBrZXk9e3l9IGFjdGl2ZT17ZC55ZWFyc0luUm9sZSA9PT0geX0gb25DbGljaz17KCkgPT4gdXBkKCJ5ZWFyc0luUm9sZSIsIHkpfT57eX0geXJ7eSAhPT0gIjEiICYmIHkgIT09ICI8IDEiID8gInMiIDogIiJ9PC9PYkJ0bj4pfTwvZGl2PgogICAgKX0sCiAgICB7IHRpdGxlOiAiQ3VycmVudCByZWxhdGlvbnNoaXAgc3RhdGUiLCBjb250ZW50OiAoCiAgICAgIDxkaXYgc3R5bGU9e2Nzcy5jaGlwc30+e1siaG9zdGlsZSIsICJhdm9pZGFudCIsICJ0ZW5zZSIsICJuZXV0cmFsIiwgIndhcm1pbmciXS5tYXAocyA9PiA8T2JCdG4ga2V5PXtzfSBhY3RpdmU9e2QuY3VycmVudFN0YXRlID09PSBzfSBvbkNsaWNrPXsoKSA9PiB1cGQoImN1cnJlbnRTdGF0ZSIsIHMpfT57cy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHMuc2xpY2UoMSl9PC9PYkJ0bj4pfTwvZGl2PgogICAgKX0sCiAgICB7IHRpdGxlOiAiWW91ciByZWFsaXN0aWMgYmVuY2htYXJrIiwgY29udGVudDogKCgpID0+IHsKICAgICAgY29uc3QgYWdlID0gQkVOQ0guYWdlc1tkLmNoaWxkQWdlXTsKICAgICAgcmV0dXJuICgKICAgICAgICA8ZGl2PgogICAgICAgICAge2FnZSAmJiA8PgogICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMyB9fT5CYXNlZCBvbiB3aGF0IHlvdSd2ZSBzaGFyZWQsIHJlc2VhcmNoIHN1Z2dlc3RzOjwvcD4KICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDIyLCBmb250RmFtaWx5OiAiR2VvcmdpYSwgJ1RpbWVzIE5ldyBSb21hbicsIHNlcmlmIiwgZm9udFdlaWdodDogNTAwLCBtYXJnaW46ICIxMnB4IDAiIH19PlR5cGljYWwgdGltZWxpbmU6IHthZ2UudH08L3A+CiAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLm11dGVkLCBmb250U2l6ZTogMTMsIGxpbmVIZWlnaHQ6IDEuNiB9fT57YWdlLm5vdGV9PC9wPgogICAgICAgICAgPC8+fQogICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6IDE2LCBwYWRkaW5nOiAxNCwgYmFja2dyb3VuZDogYCR7UC5jYXJkMn04OGAsIGJvcmRlclJhZGl1czogMTAsIGJvcmRlckxlZnQ6IGAzcHggc29saWQgJHtQLndhcm19NDRgIH19PgogICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTMsIGxpbmVIZWlnaHQ6IDEuNiwgbWFyZ2luOiAwIH19PgogICAgICAgICAgICAgIFRoaXMgdG9vbCB3b24ndCBzaG9ydGVuIHRoYXQgdGltZWxpbmUuIEl0IHdpbGwgbWFrZSB0aGUgcHJvZ3Jlc3Mgd2l0aGluIGl0IHZpc2libGUg4oCUIHNvIHlvdSBkb24ndCBhYmFuZG9uIHdoYXQncyB3b3JraW5nLCBhbmQgeW91IGRvbid0IGJ1cm4gb3V0IGZyb20gZWZmb3J0IHRoYXQgZmVlbHMgaW52aXNpYmxlLgogICAgICAgICAgICA8L3A+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgKTsKICAgIH0pKCl9LAogIF07CgogIGNvbnN0IGNhbkdvID0gc3RlcCA9PT0gMCB8fCBzdGVwID09PSA2CiAgICB8fCAoc3RlcCA9PT0gMSAmJiBkLmNoaWxkQWdlKSB8fCAoc3RlcCA9PT0gMiAmJiBkLmN1c3RvZHkpCiAgICB8fCAoc3RlcCA9PT0gMyAmJiBkLmxveWFsdHlDb25mbGljdCkgfHwgKHN0ZXAgPT09IDQgJiYgZC55ZWFyc0luUm9sZSkKICAgIHx8IChzdGVwID09PSA1ICYmIGQuY3VycmVudFN0YXRlKTsKCiAgcmV0dXJuICgKICAgIDxkaXYgc3R5bGU9e2Nzcy5yb290fT4KICAgICAgPGRpdiBzdHlsZT17eyBtYXhXaWR0aDogNTAwLCBtYXJnaW46ICIwIGF1dG8iLCBwYWRkaW5nOiAiNDBweCAyMHB4IiB9fT4KICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiA0LCBtYXJnaW5Cb3R0b206IDI4IH19PgogICAgICAgICAge3N0ZXBzLm1hcCgoXywgaSkgPT4gPGRpdiBrZXk9e2l9IHN0eWxlPXt7IGZsZXg6IDEsIGhlaWdodDogMywgYm9yZGVyUmFkaXVzOiAyLCBiYWNrZ3JvdW5kOiBpIDw9IHN0ZXAgPyBQLndhcm0gOiBQLmJvcmRlciwgdHJhbnNpdGlvbjogImJhY2tncm91bmQgLjNzIiB9fSAvPil9CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGgyIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAyMiwgZm9udEZhbWlseTogIkdlb3JnaWEsICdUaW1lcyBOZXcgUm9tYW4nLCBzZXJpZiIsIG1hcmdpbjogIjAgMCA2cHgiIH19PntzdGVwc1tzdGVwXS50aXRsZX08L2gyPgogICAgICAgIHtzdGVwc1tzdGVwXS5zdWIgJiYgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTQsIG1hcmdpbjogIjAgMCAxNnB4IiB9fT57c3RlcHNbc3RlcF0uc3VifTwvcD59CiAgICAgICAge3N0ZXBzW3N0ZXBdLmNvbnRlbnR9CiAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogMTAsIG1hcmdpblRvcDogMjggfX0+CiAgICAgICAgICB7c3RlcCA+IDAgJiYgPEJ0biBvbkNsaWNrPXsoKSA9PiBzZXRTdGVwKHMgPT4gcyAtIDEpfSBzZWNvbmRhcnk+QmFjazwvQnRuPn0KICAgICAgICAgIDxCdG4gb25DbGljaz17KCkgPT4gc3RlcCA8IHN0ZXBzLmxlbmd0aCAtIDEgPyBzZXRTdGVwKHMgPT4gcyArIDEpIDogb25Eb25lKGQpfSBkaXNhYmxlZD17IWNhbkdvfSBzdHlsZT17eyBmbGV4OiAxIH19PgogICAgICAgICAgICB7c3RlcCA9PT0gc3RlcHMubGVuZ3RoIC0gMSA/ICJHZXQgU3RhcnRlZCIgOiAiQ29udGludWUifQogICAgICAgICAgPC9CdG4+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBTSEFSRUQgVUkgQ09NUE9ORU5UUwovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKZnVuY3Rpb24gTW9kYWwoeyBjaGlsZHJlbiwgb25DbG9zZSwgdGl0bGUsIHRpdGxlQ29sb3IsIHNtYWxsIH0pIHsKICByZXR1cm4gKAogICAgPGRpdiBzdHlsZT17Y3NzLm92ZXJsYXl9IG9uQ2xpY2s9e29uQ2xvc2V9PgogICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5tb2RhbCwgbWF4V2lkdGg6IHNtYWxsID8gNDAwIDogNjAwIH19IG9uQ2xpY2s9e2UgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0+CiAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MubW9kYWxIZHIsIGZsZXhTaHJpbms6IDAsIHBvc2l0aW9uOiAic3RpY2t5IiwgdG9wOiAwLCBiYWNrZ3JvdW5kOiBQLmNhcmQsIHpJbmRleDogMiwgYm9yZGVyQm90dG9tOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCB9fT4KICAgICAgICAgIDxoMiBzdHlsZT17eyAuLi5jc3MubW9kYWxUaXRsZSwgY29sb3I6IHRpdGxlQ29sb3IgfHwgUC50ZXh0IH19Pnt0aXRsZX08L2gyPgogICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkNsb3NlfSBzdHlsZT17Y3NzLmNsb3NlQnRufT57Ilx1MjcxNSJ9PC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiAiMTZweCAyMHB4IDI0cHgiLCBvdmVyZmxvd1k6ICJhdXRvIiwgZmxleDogMSwgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6ICJ0b3VjaCIgfX0+e2NoaWxkcmVufTwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICk7Cn0KCmZ1bmN0aW9uIEJ0bih7IGNoaWxkcmVuLCBvbkNsaWNrLCBmdWxsLCBzZWNvbmRhcnksIGRpc2FibGVkLCBzdHlsZSB9KSB7CiAgcmV0dXJuICgKICAgIDxidXR0b24KICAgICAgb25DbGljaz17ZGlzYWJsZWQgPyB1bmRlZmluZWQgOiBvbkNsaWNrfQogICAgICBzdHlsZT17ewogICAgICAgIGJhY2tncm91bmQ6IHNlY29uZGFyeSA/IFAuY2FyZDIgOiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHtQLndhcm19LCAjQzQ5NTZBKWAsCiAgICAgICAgY29sb3I6IHNlY29uZGFyeSA/IFAubXV0ZWQgOiBQLmJnLAogICAgICAgIGJvcmRlcjogc2Vjb25kYXJ5ID8gYDFweCBzb2xpZCAke1AuYm9yZGVyfWAgOiAibm9uZSIsCiAgICAgICAgYm9yZGVyUmFkaXVzOiAxMSwKICAgICAgICBwYWRkaW5nOiAiMTJweCAyMnB4IiwKICAgICAgICBmb250U2l6ZTogMTQsCiAgICAgICAgZm9udFdlaWdodDogc2Vjb25kYXJ5ID8gNDAwIDogNjAwLAogICAgICAgIGN1cnNvcjogZGlzYWJsZWQgPyAiZGVmYXVsdCIgOiAicG9pbnRlciIsCiAgICAgICAgZm9udEZhbWlseTogImluaGVyaXQiLAogICAgICAgIHdpZHRoOiBmdWxsID8gIjEwMCUiIDogImF1dG8iLAogICAgICAgIG9wYWNpdHk6IGRpc2FibGVkID8gMC40IDogMSwKICAgICAgICB0cmFuc2l0aW9uOiAib3BhY2l0eSAuMnMiLAogICAgICAgIC4uLnN0eWxlLAogICAgICB9fQogICAgPgogICAgICB7Y2hpbGRyZW59CiAgICA8L2J1dHRvbj4KICApOwp9CgpmdW5jdGlvbiBDaGlwKHsgY2hpbGRyZW4sIGFjdGl2ZSwgY29sb3IsIG9uQ2xpY2ssIHNtYWxsIH0pIHsKICByZXR1cm4gKAogICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkNsaWNrfSBzdHlsZT17ewogICAgICBwYWRkaW5nOiBzbWFsbCA/ICI1cHggMTBweCIgOiAiOHB4IDE0cHgiLAogICAgICBib3JkZXJSYWRpdXM6IHNtYWxsID8gNyA6IDksCiAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAke2FjdGl2ZSA/IGNvbG9yIDogUC5ib3JkZXJ9YCwKICAgICAgYmFja2dyb3VuZDogYWN0aXZlID8gY29sb3IgKyAiMjIiIDogInRyYW5zcGFyZW50IiwKICAgICAgY29sb3I6IGFjdGl2ZSA/IGNvbG9yIDogUC5kaW0sCiAgICAgIGN1cnNvcjogInBvaW50ZXIiLAogICAgICBmb250U2l6ZTogc21hbGwgPyAxMiA6IDEzLAogICAgICBmb250RmFtaWx5OiAiaW5oZXJpdCIsCiAgICAgIHRyYW5zaXRpb246ICJhbGwgLjE1cyIsCiAgICAgIHdoaXRlU3BhY2U6ICJub3dyYXAiLAogICAgfX0+CiAgICAgIHtjaGlsZHJlbn0KICAgIDwvYnV0dG9uPgogICk7Cn0KCmZ1bmN0aW9uIE9iQnRuKHsgY2hpbGRyZW4sIGFjdGl2ZSwgb25DbGljayB9KSB7CiAgcmV0dXJuICgKICAgIDxidXR0b24gb25DbGljaz17b25DbGlja30gc3R5bGU9e3sKICAgICAgcGFkZGluZzogIjEycHggMjBweCIsCiAgICAgIGJvcmRlclJhZGl1czogMTEsCiAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAke2FjdGl2ZSA/IFAud2FybSA6IFAuYm9yZGVyfWAsCiAgICAgIGJhY2tncm91bmQ6IGFjdGl2ZSA/IFAud2FybSArICIxOCIgOiAidHJhbnNwYXJlbnQiLAogICAgICBjb2xvcjogYWN0aXZlID8gUC53YXJtIDogUC5tdXRlZCwKICAgICAgY3Vyc29yOiAicG9pbnRlciIsCiAgICAgIGZvbnRTaXplOiAxNCwKICAgICAgZm9udEZhbWlseTogImluaGVyaXQiLAogICAgICB0cmFuc2l0aW9uOiAiYWxsIC4xNXMiLAogICAgfX0+CiAgICAgIHtjaGlsZHJlbn0KICAgIDwvYnV0dG9uPgogICk7Cn0KCmZ1bmN0aW9uIFN0YXQoeyBuLCBsIH0pIHsKICByZXR1cm4gKAogICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxLCBiYWNrZ3JvdW5kOiBQLmNhcmQsIGJvcmRlclJhZGl1czogMTEsIHBhZGRpbmc6ICIxMnB4IDEwcHgiLCB0ZXh0QWxpZ246ICJjZW50ZXIiLCBib3JkZXI6IGAxcHggc29saWQgJHtQLmJvcmRlcn1gIH19PgogICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxOCwgZm9udEZhbWlseTogIkdlb3JnaWEsICdUaW1lcyBOZXcgUm9tYW4nLCBzZXJpZiIsIGZvbnRXZWlnaHQ6IDYwMCB9fT57bn08L2Rpdj4KICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMCwgbWFyZ2luVG9wOiAyIH19PntsfTwvZGl2PgogICAgPC9kaXY+CiAgKTsKfQoKZnVuY3Rpb24gU2VjdGlvblRpdGxlKHsgY2hpbGRyZW4gfSkgewogIHJldHVybiA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDExLCB0ZXh0VHJhbnNmb3JtOiAidXBwZXJjYXNlIiwgbGV0dGVyU3BhY2luZzogIjAuMDhlbSIsIG1hcmdpbjogIjE2cHggMCA4cHgiLCBmb250V2VpZ2h0OiA1MDAgfX0+e2NoaWxkcmVufTwvZGl2PjsKfQoKZnVuY3Rpb24gVGFicyh7IGl0ZW1zLCBhY3RpdmUsIG9uUGljayB9KSB7CiAgcmV0dXJuICgKICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBnYXA6IDMsIG1hcmdpbkJvdHRvbTogMTQsIGJhY2tncm91bmQ6IFAuY2FyZCwgYm9yZGVyUmFkaXVzOiA5LCBwYWRkaW5nOiAzIH19PgogICAgICB7aXRlbXMubWFwKGkgPT4gKAogICAgICAgIDxidXR0b24ga2V5PXtpfSBvbkNsaWNrPXsoKSA9PiBvblBpY2soaSl9IHN0eWxlPXt7CiAgICAgICAgICBmbGV4OiAxLCBwYWRkaW5nOiAiOHB4IDEwcHgiLCBib3JkZXJSYWRpdXM6IDcsIGJvcmRlcjogIm5vbmUiLCBjdXJzb3I6ICJwb2ludGVyIiwKICAgICAgICAgIGZvbnRTaXplOiAxMiwgZm9udEZhbWlseTogImluaGVyaXQiLCBmb250V2VpZ2h0OiA1MDAsCiAgICAgICAgICBiYWNrZ3JvdW5kOiBhY3RpdmUgPT09IGkgPyBQLndhcm0gKyAiMjgiIDogInRyYW5zcGFyZW50IiwKICAgICAgICAgIGNvbG9yOiBhY3RpdmUgPT09IGkgPyBQLndhcm0gOiBQLmRpbSwKICAgICAgICAgIHRyYW5zaXRpb246ICJhbGwgLjE1cyIsCiAgICAgICAgfX0+CiAgICAgICAgICB7aX0KICAgICAgICA8L2J1dHRvbj4KICAgICAgKSl9CiAgICA8L2Rpdj4KICApOwp9CgpmdW5jdGlvbiBFbnRyeVJvdyh7IGVudHJ5LCBvbkNsaWNrIH0pIHsKICBjb25zdCBhID0gQUNUSU9OUy5maW5kKHggPT4geC5pZCA9PT0gZW50cnkuYWN0aW9uKTsKICBjb25zdCByID0gUkVTUE9OU0VTLmZpbmQoeCA9PiB4LmlkID09PSBlbnRyeS5yZXNwb25zZSk7CiAgcmV0dXJuICgKICAgIDxidXR0b24gb25DbGljaz17b25DbGlja30gc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHdpZHRoOiAiMTAwJSIsIHBhZGRpbmc6IDEyLCBtYXJnaW5Cb3R0b206IDYsIHRleHRBbGlnbjogImxlZnQiLCBjdXJzb3I6ICJwb2ludGVyIiwgZm9udEZhbWlseTogImluaGVyaXQiLCBib3JkZXI6IGAxcHggc29saWQgJHtQLmJvcmRlcn1gIH19PgogICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiAxMCB9fT4KICAgICAgICB7ZW50cnkucGhvdG8gJiYgKAogICAgICAgICAgPGltZyBzcmM9e2VudHJ5LnBob3RvfSBhbHQ9IiIgc3R5bGU9e3sgd2lkdGg6IDQ0LCBoZWlnaHQ6IDQ0LCBib3JkZXJSYWRpdXM6IDcsIG9iamVjdEZpdDogImNvdmVyIiwgZmxleFNocmluazogMCwgYm9yZGVyOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCB9fSAvPgogICAgICAgICl9CiAgICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxLCBtaW5XaWR0aDogMCB9fT4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBqdXN0aWZ5Q29udGVudDogInNwYWNlLWJldHdlZW4iLCBhbGlnbkl0ZW1zOiAiY2VudGVyIiwgbWFyZ2luQm90dG9tOiBlbnRyeS5ub3RlID8gNCA6IDAsIGZsZXhXcmFwOiAid3JhcCIsIGdhcDogNCB9fT4KICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTEgfX0+e2ZtdFNob3J0KGVudHJ5LmRhdGUpfTwvc3Bhbj4KICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogNSwgYWxpZ25JdGVtczogImNlbnRlciIgfX0+CiAgICAgICAgICAgICAge2EgJiYgPHNwYW4gc3R5bGU9e3sgcGFkZGluZzogIjJweCA3cHgiLCBib3JkZXJSYWRpdXM6IDUsIGZvbnRTaXplOiAxMSwgYmFja2dyb3VuZDogYS5jICsgIjFhIiwgY29sb3I6IGEuYyB9fT57YS5pY29ufSB7YS5sYWJlbH08L3NwYW4+fQogICAgICAgICAgICAgIHtyICYmIDxzcGFuIHN0eWxlPXt7IHBhZGRpbmc6ICIycHggN3B4IiwgYm9yZGVyUmFkaXVzOiA1LCBmb250U2l6ZTogMTEsIGJhY2tncm91bmQ6IHIuYyArICIxYSIsIGNvbG9yOiByLmMgfX0+e3IuaWNvbn08L3NwYW4+fQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAge2VudHJ5Lm5vdGUgJiYgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMiwgbWFyZ2luOiAwLCBsaW5lSGVpZ2h0OiAxLjQgfX0+e2VudHJ5Lm5vdGUuc2xpY2UoMCwgMTAwKX17ZW50cnkubm90ZS5sZW5ndGggPiAxMDAgPyAi4oCmIiA6ICIifTwvcD59CiAgICAgICAgICB7ZW50cnkuY29udGV4dHM/Lmxlbmd0aCA+IDAgJiYgKAogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiAzLCBmbGV4V3JhcDogIndyYXAiLCBtYXJnaW5Ub3A6IDQgfX0+CiAgICAgICAgICAgICAge2VudHJ5LmNvbnRleHRzLm1hcChjID0+IDxzcGFuIGtleT17Y30gc3R5bGU9e3sgcGFkZGluZzogIjFweCA1cHgiLCBib3JkZXJSYWRpdXM6IDMsIGZvbnRTaXplOiA5LCBjb2xvcjogUC5kaW0sIGJhY2tncm91bmQ6IFAuY2FyZDIgfX0+e2N9PC9zcGFuPil9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKX0KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2J1dHRvbj4KICApOwp9CgpmdW5jdGlvbiBCZW5jaEl0ZW0oeyBsYWJlbCwgdmFsdWUgfSkgewogIHJldHVybiAoCiAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxMSwgZGlzcGxheTogImZsZXgiLCBmbGV4RGlyZWN0aW9uOiAiY29sdW1uIiwgZ2FwOiAzIH19PgogICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMSB9fT57bGFiZWx9PC9zcGFuPgogICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTMsIHRleHRUcmFuc2Zvcm06ICJjYXBpdGFsaXplIiB9fT57dmFsdWV9PC9zcGFuPgogICAgPC9kaXY+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBTVFlMRVMKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmNvbnN0IGNzc19jaGlwID0gKGFjdGl2ZSwgY29sb3IpID0+ICh7CiAgcGFkZGluZzogIjRweCA5cHgiLAogIGJvcmRlclJhZGl1czogNywKICBib3JkZXI6IGAxcHggc29saWQgJHthY3RpdmUgPyBjb2xvciA6IFAuYm9yZGVyfWAsCiAgYmFja2dyb3VuZDogYWN0aXZlID8gY29sb3IgKyAiMjIiIDogInRyYW5zcGFyZW50IiwKICBjb2xvcjogYWN0aXZlID8gY29sb3IgOiBQLmRpbSwKICBjdXJzb3I6ICJwb2ludGVyIiwKICBmb250U2l6ZTogMTEsCiAgZm9udEZhbWlseTogImluaGVyaXQiLAogIHdoaXRlU3BhY2U6ICJub3dyYXAiLAp9KTsKCmNvbnN0IGNzcyA9IHsKICByb290OiB7IGJhY2tncm91bmQ6IFAuYmcsIG1pbkhlaWdodDogIjEwMHZoIiwgZm9udEZhbWlseTogIi1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgUm9ib3RvLCBzYW5zLXNlcmlmIiwgY29sb3I6ICIjRDFENURCIiwgV2Via2l0Rm9udFNtb290aGluZzogImFudGlhbGlhc2VkIiB9LAogIHNoZWxsOiB7IG1heFdpZHRoOiA2MDAsIG1hcmdpbjogIjAgYXV0byIsIHBvc2l0aW9uOiAicmVsYXRpdmUiIH0sCiAgaGRyOiB7IHBhZGRpbmc6ICIyMnB4IDE2cHggMTBweCIsIGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiwgYWxpZ25JdGVtczogImZsZXgtc3RhcnQiIH0sCiAgbG9nbzogeyBmb250U2l6ZTogMjYsIGZvbnRGYW1pbHk6ICJHZW9yZ2lhLCAnVGltZXMgTmV3IFJvbWFuJywgc2VyaWYiLCBjb2xvcjogUC50ZXh0LCBtYXJnaW46IDAsIGZvbnRXZWlnaHQ6IDUwMCwgbGV0dGVyU3BhY2luZzogIi0wLjAyZW0iIH0sCiAgc3ViOiB7IGZvbnRTaXplOiAxMSwgY29sb3I6IFAuZGltLCBtYXJnaW46ICIycHggMCAwIiwgZm9udFN0eWxlOiAiaXRhbGljIiB9LAogIGljb25CdG46IHsgYmFja2dyb3VuZDogIm5vbmUiLCBib3JkZXI6ICJub25lIiwgY29sb3I6IFAuZGltLCBjdXJzb3I6ICJwb2ludGVyIiwgcGFkZGluZzogOCwgZm9udFNpemU6IDE2IH0sCiAgbmF2OiB7IGRpc3BsYXk6ICJmbGV4IiwgYm9yZGVyQm90dG9tOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCwgcGFkZGluZzogIjAgOHB4Iiwgb3ZlcmZsb3dYOiAiYXV0byIgfSwKICBuYXZCdG46IHsgZmxleDogMSwgYmFja2dyb3VuZDogIm5vbmUiLCBib3JkZXI6ICJub25lIiwgY3Vyc29yOiAicG9pbnRlciIsIHBhZGRpbmc6ICIxMXB4IDZweCA5cHgiLCBkaXNwbGF5OiAiZmxleCIsIGZsZXhEaXJlY3Rpb246ICJjb2x1bW4iLCBhbGlnbkl0ZW1zOiAiY2VudGVyIiwgZ2FwOiAyLCBmb250RmFtaWx5OiAiaW5oZXJpdCIsIHRyYW5zaXRpb246ICJjb2xvciAuMnMiIH0sCiAgZmFiOiB7IHBvc2l0aW9uOiAiZml4ZWQiLCBib3R0b206IDIyLCByaWdodDogMjIsIHdpZHRoOiA1NCwgaGVpZ2h0OiA1NCwgYm9yZGVyUmFkaXVzOiAyNywgYmFja2dyb3VuZDogYGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICR7UC53YXJtfSwgI0M0OTU2QSlgLCBjb2xvcjogUC5iZywgYm9yZGVyOiAibm9uZSIsIGN1cnNvcjogInBvaW50ZXIiLCBkaXNwbGF5OiAiZmxleCIsIGFsaWduSXRlbXM6ICJjZW50ZXIiLCBqdXN0aWZ5Q29udGVudDogImNlbnRlciIsIGJveFNoYWRvdzogYDAgNHB4IDIwcHggJHtQLndhcm19NDRgLCB6SW5kZXg6IDUwIH0sCiAgY2FyZDogeyBiYWNrZ3JvdW5kOiBQLmNhcmQsIGJvcmRlclJhZGl1czogMTIsIGJvcmRlcjogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAgfSwKICBwcm9tcHQ6IHsgd2lkdGg6ICIxMDAlIiwgYmFja2dyb3VuZDogUC5jYXJkLCBib3JkZXI6IGAxcHggc29saWQgJHtQLmJvcmRlcn1gLCBib3JkZXJSYWRpdXM6IDEyLCBwYWRkaW5nOiAxNCwgZGlzcGxheTogImZsZXgiLCBnYXA6IDEwLCBhbGlnbkl0ZW1zOiAiZmxleC1zdGFydCIsIGN1cnNvcjogInBvaW50ZXIiLCB0ZXh0QWxpZ246ICJsZWZ0IiwgbWFyZ2luQm90dG9tOiAxMCwgZm9udEZhbWlseTogImluaGVyaXQiIH0sCiAgb3ZlcmxheTogeyBwb3NpdGlvbjogImZpeGVkIiwgaW5zZXQ6IDAsIGJhY2tncm91bmQ6ICJyZ2JhKDAsMCwwLC43MikiLCBiYWNrZHJvcEZpbHRlcjogImJsdXIoNHB4KSIsIHpJbmRleDogMTAwLCBkaXNwbGF5OiAiZmxleCIsIGFsaWduSXRlbXM6ICJmbGV4LWVuZCIsIGp1c3RpZnlDb250ZW50OiAiY2VudGVyIiB9LAogIG1vZGFsOiB7IGJhY2tncm91bmQ6IFAuY2FyZCwgYm9yZGVyUmFkaXVzOiAiMThweCAxOHB4IDAgMCIsIHdpZHRoOiAiMTAwJSIsIG1heEhlaWdodDogIjg1dmgiLCBvdmVyZmxvdzogImhpZGRlbiIsIGJvcmRlcjogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAsIGJvcmRlckJvdHRvbTogIm5vbmUiLCBkaXNwbGF5OiAiZmxleCIsIGZsZXhEaXJlY3Rpb246ICJjb2x1bW4iIH0sCiAgbW9kYWxIZHI6IHsgZGlzcGxheTogImZsZXgiLCBqdXN0aWZ5Q29udGVudDogInNwYWNlLWJldHdlZW4iLCBhbGlnbkl0ZW1zOiAiY2VudGVyIiwgcGFkZGluZzogIjE4cHggMjBweCAwIiwgcG9zaXRpb246ICJzdGlja3kiLCB0b3A6IDAsIGJhY2tncm91bmQ6IFAuY2FyZCwgekluZGV4OiAxMCB9LAogIG1vZGFsVGl0bGU6IHsgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDE3LCBmb250RmFtaWx5OiAiR2VvcmdpYSwgJ1RpbWVzIE5ldyBSb21hbicsIHNlcmlmIiwgbWFyZ2luOiAwLCBmb250V2VpZ2h0OiA1MDAgfSwKICBjbG9zZUJ0bjogeyBiYWNrZ3JvdW5kOiAibm9uZSIsIGJvcmRlcjogIm5vbmUiLCBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxNywgY3Vyc29yOiAicG9pbnRlciIsIHBhZGRpbmc6IDggfSwKICBsYWJlbDogeyBkaXNwbGF5OiAiYmxvY2siLCBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEyLCBtYXJnaW5Cb3R0b206IDcsIGZvbnRXZWlnaHQ6IDUwMCB9LAogIGRhdGVJbjogeyBiYWNrZ3JvdW5kOiBQLmJnLCBib3JkZXI6IGAxcHggc29saWQgJHtQLmJvcmRlcn1gLCBib3JkZXJSYWRpdXM6IDgsIHBhZGRpbmc6ICI5cHggMTFweCIsIGNvbG9yOiAiI0QxRDVEQiIsIGZvbnRTaXplOiAxNCwgZm9udEZhbWlseTogImluaGVyaXQiLCBtYXJnaW5Cb3R0b206IDE0LCB3aWR0aDogIjEwMCUiLCBib3hTaXppbmc6ICJib3JkZXItYm94IiwgY29sb3JTY2hlbWU6ICJkYXJrIiB9LAogIGNoaXBzOiB7IGRpc3BsYXk6ICJmbGV4IiwgZmxleFdyYXA6ICJ3cmFwIiwgZ2FwOiA3LCBtYXJnaW5Cb3R0b206IDE0IH0sCiAgdGV4dGFyZWE6IHsgd2lkdGg6ICIxMDAlIiwgYmFja2dyb3VuZDogUC5iZywgYm9yZGVyOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCwgYm9yZGVyUmFkaXVzOiA5LCBwYWRkaW5nOiAxMSwgY29sb3I6ICIjRDFENURCIiwgZm9udFNpemU6IDE0LCBmb250RmFtaWx5OiAiaW5oZXJpdCIsIHJlc2l6ZTogInZlcnRpY2FsIiwgYm94U2l6aW5nOiAiYm9yZGVyLWJveCIsIGxpbmVIZWlnaHQ6IDEuNSB9LAogIHRleHRCdG46IHsgYmFja2dyb3VuZDogIm5vbmUiLCBib3JkZXI6ICJub25lIiwgY3Vyc29yOiAicG9pbnRlciIsIGZvbnRTaXplOiAxMywgZm9udEZhbWlseTogImluaGVyaXQiLCBwYWRkaW5nOiAiNnB4IDE0cHgiIH0sCiAgb2JUZXh0OiB7IGNvbG9yOiBQLm11dGVkLCBmb250U2l6ZTogMTUsIGxpbmVIZWlnaHQ6IDEuNywgbWFyZ2luOiAiMCAwIDEycHgiIH0sCiAgdGg6IHsgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTAsIGZvbnRXZWlnaHQ6IDUwMCwgcGFkZGluZzogIjZweCA0cHgiLCBib3JkZXJCb3R0b206IGAxcHggc29saWQgJHtQLmJvcmRlcn1gLCB0ZXh0QWxpZ246ICJjZW50ZXIiIH0sCiAgdGQ6IHsgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMSwgcGFkZGluZzogIjhweCA0cHgiLCBib3JkZXJCb3R0b206IGAxcHggc29saWQgJHtQLmJvcmRlcn1gLCB2ZXJ0aWNhbEFsaWduOiAidG9wIiB9LAp9OwpSZWFjdERPTS5jcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyb290IikpLnJlbmRlcihSZWFjdC5jcmVhdGVFbGVtZW50KEFwcCkpOw==");
var t=Babel.transform(c,{presets:["react","env"]}).code;
var s=document.createElement("script");
s.textContent=t;
document.body.appendChild(s);
</script>
</body>
</html>
