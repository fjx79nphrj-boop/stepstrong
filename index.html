<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#0f1117">
<title>Steadfast</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html, body, #root { min-height: 100vh; background: #0f1117; }
body { overscroll-behavior: none; }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.24.7/babel.min.js"></script>
</head>
<body>
<div id="root"></div>
<script>
var b=Uint8Array.from(atob("Y29uc3QgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZU1lbW8gfSA9IFJlYWN0OwoKCi8qIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAogICBTVEVBREZBU1Qg4oCUIFN0ZXBwYXJlbnQgUmVsYXRpb25zaGlwIFRyYWNrZXIKICAgTG9jYWwtZmlyc3QgUFdBIOKAoiBObyBiYWNrZW5kIOKAoiBJbmRleGVkREIKICAg4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQICovCgovLyDilIDilIAgRm9udHM6IHN5c3RlbSBmb250cyBvbmx5IChubyBleHRlcm5hbCByZXF1ZXN0cykg4pSA4pSACgovLyDilIDilIAgSW5kZXhlZERCIOKUgOKUgApjb25zdCBEQiA9ICJzdGVhZGZhc3RfdjEiOwpjb25zdCBWRVIgPSAxOwpjb25zdCBTID0geyBlbnRyaWVzOiAiZW50cmllcyIsIHByb2ZpbGU6ICJwcm9maWxlIiwgc25hcHNob3RzOiAic25hcHNob3RzIiB9OwoKZnVuY3Rpb24gaWRiKCkgewogIHJldHVybiBuZXcgUHJvbWlzZSgob2ssIGZhaWwpID0+IHsKICAgIGNvbnN0IHIgPSBpbmRleGVkREIub3BlbihEQiwgVkVSKTsKICAgIHIub251cGdyYWRlbmVlZGVkID0gKGUpID0+IHsKICAgICAgY29uc3QgZCA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgaWYgKCFkLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoUy5lbnRyaWVzKSkgewogICAgICAgIGNvbnN0IHMgPSBkLmNyZWF0ZU9iamVjdFN0b3JlKFMuZW50cmllcywgeyBrZXlQYXRoOiAiaWQiIH0pOwogICAgICAgIHMuY3JlYXRlSW5kZXgoImRhdGUiLCAiZGF0ZSIpOwogICAgICB9CiAgICAgIGlmICghZC5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKFMucHJvZmlsZSkpCiAgICAgICAgZC5jcmVhdGVPYmplY3RTdG9yZShTLnByb2ZpbGUsIHsga2V5UGF0aDogImtleSIgfSk7CiAgICAgIGlmICghZC5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKFMuc25hcHNob3RzKSkKICAgICAgICBkLmNyZWF0ZU9iamVjdFN0b3JlKFMuc25hcHNob3RzLCB7IGtleVBhdGg6ICJpZCIgfSk7CiAgICB9OwogICAgci5vbnN1Y2Nlc3MgPSAoKSA9PiBvayhyLnJlc3VsdCk7CiAgICByLm9uZXJyb3IgPSAoKSA9PiBmYWlsKHIuZXJyb3IpOwogIH0pOwp9CmFzeW5jIGZ1bmN0aW9uIHB1dChzLCBkKSB7IGNvbnN0IGRiID0gYXdhaXQgaWRiKCk7IHJldHVybiBuZXcgUHJvbWlzZSgob2ssIGYpID0+IHsgY29uc3QgdCA9IGRiLnRyYW5zYWN0aW9uKHMsICJyZWFkd3JpdGUiKTsgdC5vYmplY3RTdG9yZShzKS5wdXQoZCk7IHQub25jb21wbGV0ZSA9ICgpID0+IG9rKCk7IHQub25lcnJvciA9ICgpID0+IGYodC5lcnJvcik7IH0pOyB9CmFzeW5jIGZ1bmN0aW9uIGdldEFsbChzKSB7IGNvbnN0IGRiID0gYXdhaXQgaWRiKCk7IHJldHVybiBuZXcgUHJvbWlzZSgob2ssIGYpID0+IHsgY29uc3QgciA9IGRiLnRyYW5zYWN0aW9uKHMsICJyZWFkb25seSIpLm9iamVjdFN0b3JlKHMpLmdldEFsbCgpOyByLm9uc3VjY2VzcyA9ICgpID0+IG9rKHIucmVzdWx0KTsgci5vbmVycm9yID0gKCkgPT4gZihyLmVycm9yKTsgfSk7IH0KYXN5bmMgZnVuY3Rpb24gZ2V0KHMsIGspIHsgY29uc3QgZGIgPSBhd2FpdCBpZGIoKTsgcmV0dXJuIG5ldyBQcm9taXNlKChvaywgZikgPT4geyBjb25zdCByID0gZGIudHJhbnNhY3Rpb24ocywgInJlYWRvbmx5Iikub2JqZWN0U3RvcmUocykuZ2V0KGspOyByLm9uc3VjY2VzcyA9ICgpID0+IG9rKHIucmVzdWx0KTsgci5vbmVycm9yID0gKCkgPT4gZihyLmVycm9yKTsgfSk7IH0KYXN5bmMgZnVuY3Rpb24gZGVsKHMsIGspIHsgY29uc3QgZGIgPSBhd2FpdCBpZGIoKTsgcmV0dXJuIG5ldyBQcm9taXNlKChvaywgZikgPT4geyBjb25zdCB0ID0gZGIudHJhbnNhY3Rpb24ocywgInJlYWR3cml0ZSIpOyB0Lm9iamVjdFN0b3JlKHMpLmRlbGV0ZShrKTsgdC5vbmNvbXBsZXRlID0gKCkgPT4gb2soKTsgdC5vbmVycm9yID0gKCkgPT4gZih0LmVycm9yKTsgfSk7IH0KCi8vIOKUgOKUgCBDb25zdGFudHMg4pSA4pSACmNvbnN0IEFDVElPTlMgPSBbCiAgeyBpZDogInNlcnZpY2UiLCBsYWJlbDogIlF1aWV0IGFjdCBvZiBzZXJ2aWNlIiwgaWNvbjogIvCfq6ciLCBjOiAiIzdFQjhBMiIgfSwKICB7IGlkOiAiYWN0aXZpdHkiLCBsYWJlbDogIlNoYXJlZCBhY3Rpdml0eSIsIGljb246ICLwn46vIiwgYzogIiM4QkFFRDQiIH0sCiAgeyBpZDogImNvbnZlcnNhdGlvbiIsIGxhYmVsOiAiRGlyZWN0IGNvbnZlcnNhdGlvbiIsIGljb246ICLwn5KsIiwgYzogIiNDNEE2RDgiIH0sCiAgeyBpZDogImdpZnQiLCBsYWJlbDogIkdpZnQgb3IgdHJlYXQiLCBpY29uOiAi8J+OgSIsIGM6ICIjRDRBNTc0IiB9LAogIHsgaWQ6ICJwcmVzZW5jZSIsIGxhYmVsOiAiQmVpbmcgcHJlc2VudCIsIGljb246ICLwn6qRIiwgYzogIiNBOEM1QTAiIH0sCiAgeyBpZDogInNwYWNlIiwgbGFiZWw6ICJHYXZlIHNwYWNlIiwgaWNvbjogIvCfjL8iLCBjOiAiIzlEQjhDNyIgfSwKICB7IGlkOiAiYm91bmRhcnkiLCBsYWJlbDogIkJvdW5kYXJ5LXNldHRpbmciLCBpY29uOiAi8J+boe+4jyIsIGM6ICIjQzlBMEEwIiB9LApdOwoKY29uc3QgUkVTUE9OU0VTID0gWwogIHsgaWQ6ICJwb3NpdGl2ZSIsIGxhYmVsOiAiUG9zaXRpdmUgZW5nYWdlbWVudCIsIGljb246ICLinKgiLCBjOiAiIzdFQjhBMiIsIHNjb3JlOiA0IH0sCiAgeyBpZDogIm5ldXRyYWwiLCBsYWJlbDogIk5ldXRyYWwgYWNrbm93bGVkZ21lbnQiLCBpY29uOiAi4p6WIiwgYzogIiM5REI4QzciLCBzY29yZTogMyB9LAogIHsgaWQ6ICJ3aXRoZHJhd2FsIiwgbGFiZWw6ICJQYXNzaXZlIHdpdGhkcmF3YWwiLCBpY29uOiAi8J+aqiIsIGM6ICIjQzlBMEEwIiwgc2NvcmU6IDIgfSwKICB7IGlkOiAicmVqZWN0aW9uIiwgbGFiZWw6ICJBY3RpdmUgcmVqZWN0aW9uIiwgaWNvbjogIvCflLQiLCBjOiAiI0Q0Nzk2QiIsIHNjb3JlOiAxIH0sCiAgeyBpZDogImVzY2FsYXRpb24iLCBsYWJlbDogIkVzY2FsYXRpb24iLCBpY29uOiAi4pqhIiwgYzogIiNCODVDNEYiLCBzY29yZTogMCB9LApdOwoKY29uc3QgQ09OVEVYVFMgPSBbCiAgIk1vcm5pbmciLCAiQWZ0ZXJub29uIiwgIkV2ZW5pbmciLCAiTmlnaHQiLAogICJBZnRlciBjdXN0b2R5IHRyYW5zaXRpb24iLCAiQWZ0ZXIgYmlvLXBhcmVudCBjb250YWN0IiwKICAiQWZ0ZXIgZGlzY2lwbGluZSBtb21lbnQiLCAiRHVyaW5nIHNoYXJlZCBhY3Rpdml0eSIsCiAgIkF0IG1lYWx0aW1lIiwgIkF0IGJlZHRpbWUiLCAiV2Vla2VuZCIsICJTY2hvb2wgZGF5IiwKICAiSG9saWRheSAvIHNwZWNpYWwgb2NjYXNpb24iLCAiQWZ0ZXIgYXJndW1lbnQgd2l0aCBwYXJ0bmVyIiwKXTsKCmNvbnN0IENBUkRTID0gWwogIHsKICAgIHRyaWdnZXJzOiBbInJlamVjdGlvbiIsICJlc2NhbGF0aW9uIl0sCiAgICB0aXRsZTogIlRoZSBMb3lhbHR5IEJpbmQiLAogICAgYm9keTogIkNoaWxkcmVuIG9mdGVuIHJlamVjdCBzdGVwcGFyZW50cyBub3QgYmVjYXVzZSB0aGV5IGRpc2xpa2UgdGhlbSwgYnV0IGJlY2F1c2UgYWNjZXB0YW5jZSBmZWVscyBsaWtlIGJldHJheWluZyB0aGVpciBiaW9sb2dpY2FsIHBhcmVudC4gVGhlIHJlamVjdGlvbiB5b3UncmUgZmVlbGluZyBpcyByYXJlbHkgYWJvdXQgeW91IOKAlCBpdCdzIGFib3V0IHRoZSBpbXBvc3NpYmxlIGVtb3Rpb25hbCBtYXRoIHRoZSBjaGlsZCBpcyB0cnlpbmcgdG8gc29sdmUuIiwKICAgIHNyYzogIkJyYWl0aHdhaXRlIGV0IGFsLiwgMjAxOCIsCiAgICBxdW90ZTogIlwiSXQgd2FzIGFsbCBpbiBteSBoZWFkLiBJIHdvdWxkbid0IHdhbnQgdG8gZ28gb3V0IHdpdGggbXkgZGFkJ3MgZmFtaWx5LCBiZWNhdXNlIEkgZGlkbid0IGZlZWwgY29tZm9ydGFibGUsIG5vciBkaWQgSSBmZWVsIGxpa2UgSSBmaXQgaW4uIEl0IHdhc24ndCBteSBzdGVwbW9tJ3MgZmF1bHQsIG5vciBteSBkYWQncy5cIiIsCiAgICB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBub3cgMzAiLAogIH0sCiAgewogICAgdHJpZ2dlcnM6IFsicmVqZWN0aW9uIl0sCiAgICB0aXRsZTogIldoYXQgVGhleSdsbCBSZW1lbWJlciIsCiAgICBib2R5OiAiQWR1bHQgc3RlcGNoaWxkcmVuIGNvbnNpc3RlbnRseSByZXBvcnQgdGhhdCB0aGUgdGhpbmdzIHRoZXkgcmVtZW1iZXIgbW9zdCBhcmUgTk9UIGdyYW5kIGdlc3R1cmVzLiBJdCdzIHRoZSBpcm9uZWQgc2hpcnQuIFRoZSBtZWRpY2luZSBsZWZ0IHdpdGhvdXQgYSB3b3JkLiBUaGUgY29sbGVnZSBmZWVzIHBhaWQgcXVpZXRseS4gVGhpbmdzIGRvbmUgd2l0aG91dCBhbnkgZXhwZWN0YXRpb24gb2YgYWNrbm93bGVkZ21lbnQuIiwKICAgIHF1b3RlOiAiXCJTaGUgc3RvcHBlZCB0cnlpbmcgdG8gYm9uZC4gQnV0IHNoZSBzdGlsbCBsZWZ0IG1lZGljaW5lIG9uIG15IGJlZHNpZGUgd2hlbiBJIHdhcyBzaWNrLiBTdGlsbCBwYWlkIG15IGNvbGxlZ2UgYXBwbGljYXRpb24gZmVlcyBxdWlldGx5LiBPbiBteSBmaXJzdCBqb2IgaW50ZXJ2aWV3IGRheSwgc2hlIGlyb25lZCBteSBzaGlydCBhbmQgc2FpZCBub3RoaW5nIGVsc2UuIFRoYXQgaHVydCBtb3JlIHRoYW4gYW55IGFyZ3VtZW50LlwiIiwKICAgIHdobzogIkFkdWx0IHN0ZXBjaGlsZCByZWZsZWN0aW9uIiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbInJlamVjdGlvbiIsICJlc2NhbGF0aW9uIl0sCiAgICB0aXRsZTogIlwiWW91J3JlIE5vdCBNeSBSZWFsIFBhcmVudFwiIiwKICAgIGJvZHk6ICJUaGlzIHBocmFzZSBpcyB0aGUgbW9zdCBjb21tb25seSBjaXRlZCB2ZXJiYWwgd2VhcG9uLiBCdXQgcmVzZWFyY2ggc2hvd3MgaXQgcmVmbGVjdHMgdGhlIGNoaWxkJ3MgZmVhciBvZiBsb3NpbmcgdGhlaXIgYmlvbG9naWNhbCBwYXJlbnQsIG5vdCBhIGdlbnVpbmUgYXNzZXNzbWVudC4gQ2hpbGRyZW4gdXNlIGl0IHByZWNpc2VseSBiZWNhdXNlIHRoZXkga25vdyBpdCB3aWxsIGxhbmQg4oCUIHdoaWNoIHBhcmFkb3hpY2FsbHkgbWVhbnMgdGhlIHJlbGF0aW9uc2hpcCBtYXR0ZXJzIGVub3VnaCB0byB3ZWFwb25pemUuIiwKICAgIHF1b3RlOiAiXCJJJ20gc29ycnkgSSBuZXZlciBnYXZlIHlvdSBhIGNoYW5jZTsgYSBmYWlyLCBlcXVhbCBjaGFuY2UuIEkgY29tcGFyZWQgeW91IHRvIG15IGZhdGhlciwgYW5kIHRob3VnaHQgeW91IHdlcmUgc3RlYWxpbmcgbXkgbW90aGVyLiBJIHdhcyBhZnJhaWQgSSB3YXMgbG9zaW5nIGhlci4gWW91IHRhdWdodCBtZSB3aGF0IGEgbWFuIHNob3VsZCBiZSB0byBhIHdvbWFuLlwiIiwKICAgIHdobzogIkFkdWx0IHN0ZXBjaGlsZCwgbG9va2luZyBiYWNrIiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbIndpdGhkcmF3YWwiXSwKICAgIHRpdGxlOiAiV2l0aGRyYXdhbCBJc24ndCBSZWplY3Rpb24iLAogICAgYm9keTogIldoZW4gYSBjaGlsZCB3aXRoZHJhd3Mg4oCUIGxlYXZlcyB0aGUgcm9vbSwgZ29lcyBzaWxlbnQsIGF2b2lkcyDigJQgaXQgZmVlbHMgbGlrZSByZWplY3Rpb24uIEJ1dCB3aXRoZHJhd2FsIGlzIG9mdGVuIGEgc2VsZi1wcm90ZWN0aXZlIG1lY2hhbmlzbSwgbm90IGFuIG9mZmVuc2l2ZSBvbmUuIFRoZSBjaGlsZCBtYXkgYmUgb3ZlcndoZWxtZWQsIHByb2Nlc3NpbmcsIG9yIHNpbXBseSBub3QgcmVhZHkuIFdpdGhkcmF3YWwgaXMgb2Z0ZW4gYSBzaWduIHRoZXkncmUgYXdhcmUgb2YgdGhlIHJlbGF0aW9uc2hpcCwgbm90IGluZGlmZmVyZW50IHRvIGl0LiIsCiAgICBxdW90ZTogIlwiV2hlbiBJIGZlbHQgaGVyIHB1bGxiYWNrIGFzIGEga2lkLCBJIGZlbHQgc2hlIGRpZG4ndCBjYXJlIGlmIEkgd2FzIHRoZXJlIG9yIG5vdCBhcyBsb25nIGFzIHNoZSBoYWQgbXkgZGFkLiBBbmQgdGhhdCdzIHdoYXQgd2UgZG9uJ3Qgd2FudCBvdXIgYm9udXMgY2hpbGRyZW4gdGhpbmtpbmcsIHRoZXkgYXJlbid0IHdhbnRlZC5cIiIsCiAgICB3aG86ICJGb3JtZXIgc3RlcGNoaWxkIHBlcnNwZWN0aXZlIiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbIm5ldXRyYWwiLCAicG9zaXRpdmUiXSwKICAgIHRpdGxlOiAiTmV1dHJhbCBJcyBQcm9ncmVzcyIsCiAgICBib2R5OiAiSW4gc3RlcGZhbWlseSBkeW5hbWljcywgYSBuZXV0cmFsIHJlc3BvbnNlIElTIGEgcG9zaXRpdmUgc2lnbmFsLiBJZiB0aGUgY2hpbGQgYWNjZXB0ZWQgd2hhdCB5b3Ugb2ZmZXJlZCB3aXRob3V0IHJlc2lzdGFuY2Ug4oCUIGV2ZW4gd2l0aG91dCB3YXJtdGgg4oCUIHRoYXQncyBtb3ZlbWVudC4gVGhlIHBhdGggdHlwaWNhbGx5IGdvZXM6IGhvc3RpbGl0eSDihpIgYXZvaWRhbmNlIOKGkiB0b2xlcmFuY2Ug4oaSIG5ldXRyYWwgYWNjZXB0YW5jZSDihpIgb2NjYXNpb25hbCB3YXJtdGguIFlvdSBtYXkgYmUgZnVydGhlciBhbG9uZyB0aGFuIHlvdSB0aGluay4iLAogICAgc3JjOiAiU3RlcGZhbWlseSBpbnRlZ3JhdGlvbiB0eXBpY2FsbHkgdGFrZXMgN+KAkzEyIHllYXJzLiBOZXV0cmFsIGFjY2VwdGFuY2UgaXMgYSBtYWpvciBtaWxlc3RvbmUuIiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbInJlamVjdGlvbiIsICJ3aXRoZHJhd2FsIiwgImVzY2FsYXRpb24iXSwKICAgIHRpdGxlOiAiVGhlIDIgQU0gVHJ1dGgiLAogICAgYm9keTogIlJpZ2h0IG5vdywgZXZlcnl0aGluZyBmZWVscyBhbXBsaWZpZWQuIFRoZSByZWplY3Rpb24gZmVlbHMgcGVybWFuZW50LiBUaGUgZWZmb3J0IGZlZWxzIHdhc3RlZC4gQnV0IHRoZSBzdGVwcGFyZW50cyB3aG8gZXZlbnR1YWxseSBicmVhayB0aHJvdWdoIGFyZSB0aGUgb25lcyB3aG8gbWFpbnRhaW5lZCBjb25zaXN0ZW50LCBsb3ctcHJlc3N1cmUgcHJlc2VuY2UgdGhyb3VnaCBleGFjdGx5IHRoZXNlIG1vbWVudHMuIFlvdXIgZXhoYXVzdGlvbiBpcyBldmlkZW5jZSBvZiB5b3VyIGNvbW1pdG1lbnQsIG5vdCB5b3VyIGZhaWx1cmUuIiwKICAgIHF1b3RlOiAiXCJNeSBjYXIgYnJva2UgZG93biBvbiBhIGhpZ2h3YXkgYXQgMiBhbS4gSSBjYWxsZWQgaGltIGJlY2F1c2UgbXkgcGhvbmUgd2FzIGR5aW5nLiBIZSByZWFjaGVkIGluIDQwIG1pbnV0ZXMuIERpZG4ndCBsZWN0dXJlIG1lLiBKdXN0IGZpeGVkIHRoZSBpc3N1ZSBhbmQgd2FpdGVkIHRpbGwgSSBnb3QgaG9tZS4gTGF0ZXIsIGhlIHNhaWQsICdJIGtub3cgSSdtIG5vdCB5b3VyIGZpcnN0IGNhbGwuIEkganVzdCB3YW50IHRvIGJlIGEgcmVsaWFibGUgb25lLidcIiIsCiAgICB3aG86ICJBZHVsdCBzdGVwY2hpbGQgYWJvdXQgdGhlaXIgc3RlcGRhZCIsCiAgfSwKICB7CiAgICB0cmlnZ2VyczogWyJyZWplY3Rpb24iLCAid2l0aGRyYXdhbCIsICJlc2NhbGF0aW9uIl0sCiAgICB0aXRsZTogIllvdSdyZSBOb3QgQmVjb21pbmcgU29tZW9uZSBFbHNlIiwKICAgIGJvZHk6ICJGZWVsaW5nIGFuZ3J5LCByZXNlbnRmdWwsIG9yIHdpdGhkcmF3biBkb2Vzbid0IG1lYW4geW91J3JlIGJlY29taW5nIGEgYmFkIHN0ZXBwYXJlbnQuIEl0IG1lYW5zIHlvdSdyZSBhIGNvbW1pdHRlZCBhZHVsdCBleHBlcmllbmNpbmcgc3VzdGFpbmVkIGVtb3Rpb25hbCBsYWJvciB3aXRob3V0IGZlZWRiYWNrLiBUaGVzZSBmZWVsaW5ncyBhcmUgYSBtZWFzdXJlbWVudCBwcm9ibGVtLCBub3QgYSBjaGFyYWN0ZXIgZmxhdy4iLAogICAgcXVvdGU6ICJcIkkgd2FzIGV4cGVyaWVuY2luZyBhbiBpZGVudGl0eSBjcmlzaXMgYXMgYSBzdGVwbW9tLiBOb3QgbG92aW5nIHlvdXIgc3RlcGNoaWxkcmVuIG9yIGZlZWxpbmcgcmVzZW50ZnVsIG9yIGplYWxvdXMgZG9lcyBub3QgbWFrZSB5b3UgYSBiYWQgc3RlcG1vbS5cIiIsCiAgICB3aG86ICJTdGVwbW9tIGNvbW11bml0eSBwb3N0IiwKICB9LAogIHsKICAgIHRyaWdnZXJzOiBbInBvc2l0aXZlIiwgIm5ldXRyYWwiXSwKICAgIHRpdGxlOiAiQW5jaG9yIFRoaXMgTW9tZW50IiwKICAgIGJvZHk6ICJZb3VyIGJyYWluIGlzIHdpcmVkIHRvIHdlaWdoIG5lZ2F0aXZlIGludGVyYWN0aW9ucyBtb3JlIGhlYXZpbHkgdGhhbiBwb3NpdGl2ZSBvbmVzLiBUaGlzIG1vbWVudCDigJQgdGhpcyBuZXV0cmFsIG9yIHBvc2l0aXZlIHJlc3BvbnNlIOKAlCBpcyByZWFsIGRhdGEuIEl0IGhhcHBlbmVkLiBXaGVuIHRoZSBuZXh0IGRpZmZpY3VsdCBtb21lbnQgY29tZXMsIHlvdSdsbCBoYXZlIGNvbmNyZXRlIGV2aWRlbmNlIHRoYXQgcHJvZ3Jlc3MgZXhpc3RzLiIsCiAgICBzcmM6ICJOZWdhdGl2aXR5IGJpYXMgY2F1c2VzIGh1bWFucyB0byB3ZWlnaHQgbmVnYXRpdmUgZXZlbnRzIDPigJM1w5cgbW9yZSBoZWF2aWx5IHRoYW4gcG9zaXRpdmUgb25lcy4iLAogIH0sCl07CgovLyDilIDilIAgRGFpbHkgUXVvdGVzIChzaG93biBvbiBIb21lLCBvbmUgcGVyIGRheSkg4pSA4pSACmNvbnN0IERBSUxZX1FVT1RFUyA9IFsKICAvLyA9PT0gUkVKRUNUSU9OIC8gQUNUSVZFIFJFU0lTVEFOQ0UgPT09CiAgeyBxOiAiSSdtIHNvcnJ5IEkgbmV2ZXIgZ2F2ZSB5b3UgYSBjaGFuY2UuIEkgY29tcGFyZWQgeW91IHRvIG15IGZhdGhlciwgYW5kIHRob3VnaHQgeW91IHdlcmUgc3RlYWxpbmcgbXkgbW90aGVyLiBJIHdhcyBhZnJhaWQgSSB3YXMgbG9zaW5nIGhlci4gWW91IHRhdWdodCBtZSB3aGF0IGEgbWFuIHNob3VsZCBiZSB0byBhIHdvbWFuLiIsIHdobzogIkFkdWx0IHN0ZXBjaGlsZCwgbG9va2luZyBiYWNrIiwgdGhlbWU6ICJyZWplY3Rpb24iIH0sCiAgeyBxOiAiU2hlIHN0b3BwZWQgdHJ5aW5nIHRvIGJvbmQuIEJ1dCBzaGUgc3RpbGwgbGVmdCBtZWRpY2luZSBvbiBteSBiZWRzaWRlIHdoZW4gSSB3YXMgc2ljay4gU3RpbGwgcGFpZCBteSBjb2xsZWdlIGFwcGxpY2F0aW9uIGZlZXMgcXVpZXRseS4gT24gbXkgZmlyc3Qgam9iIGludGVydmlldyBkYXksIHNoZSBpcm9uZWQgbXkgc2hpcnQgYW5kIHNhaWQgbm90aGluZyBlbHNlLiBUaGF0IGh1cnQgbW9yZSB0aGFuIGFueSBhcmd1bWVudC4iLCB3aG86ICJBZHVsdCBzdGVwY2hpbGQgcmVmbGVjdGlvbiIsIHRoZW1lOiAiaW52aXNpYmxlLWVmZm9ydCIgfSwKICB7IHE6ICJNeSBjYXIgYnJva2UgZG93biBvbiBhIGhpZ2h3YXkgYXQgMiBBTS4gSSBjYWxsZWQgaGltIGJlY2F1c2UgbXkgcGhvbmUgd2FzIGR5aW5nLiBIZSBjYW1lIGluIDQwIG1pbnV0ZXMuIERpZG4ndCBsZWN0dXJlIG1lLiBKdXN0IGZpeGVkIHRoZSBpc3N1ZSBhbmQgd2FpdGVkIHRpbGwgSSBnb3QgaG9tZS4gSGUgc2FpZCwgJ0kga25vdyBJJ20gbm90IHlvdXIgZmlyc3QgY2FsbC4gSSBqdXN0IHdhbnQgdG8gYmUgYSByZWxpYWJsZSBvbmUuJyIsIHdobzogIkFkdWx0IHN0ZXBjaGlsZCBhYm91dCB0aGVpciBzdGVwZGFkIiwgdGhlbWU6ICJpbnZpc2libGUtZWZmb3J0IiB9LAogIHsgcTogIkl0IHdhcyBhbGwgaW4gbXkgaGVhZC4gSSB3b3VsZG4ndCB3YW50IHRvIGdvIG91dCB3aXRoIG15IGRhZCdzIGZhbWlseSwgYmVjYXVzZSBJIGRpZG4ndCBmZWVsIGNvbWZvcnRhYmxlLiBJdCB3YXNuJ3QgbXkgc3RlcG1vbSdzIGZhdWx0LCBub3IgbXkgZGFkJ3MuIiwgd2hvOiAiRm9ybWVyIHN0ZXBjaGlsZCwgbm93IDMwIiwgdGhlbWU6ICJyZWplY3Rpb24iIH0sCiAgeyBxOiAiSSBoYXRlZCBoZXIgZm9yIHllYXJzLiBOb3QgYmVjYXVzZSBzaGUgd2FzIGJhZCDigJQgYmVjYXVzZSBzaGUgd2FzIHRoZXJlLCBhbmQgbXkgbW9tIHdhc24ndC4gVGhhdCdzIG5vdCBmYWlyLCBhbmQgSSBrbm93IHRoYXQgbm93LiBCdXQgYSBraWQgZG9lc24ndCBrbm93IHRoYXQuIiwgd2hvOiAiQWR1bHQgc3RlcGNoaWxkLCBhZ2UgMjgiLCB0aGVtZTogInJlamVjdGlvbiIgfSwKICAvLyA9PT0gSU5WSVNJQkxFIEVGRk9SVCAvIExPTkcgR0FNRSA9PT0KICB7IHE6ICJIZSBuZXZlciB0cmllZCB0byBiZSBteSBkYWQuIEhlIGp1c3Qga2VwdCBzaG93aW5nIHVwLiBEcm92ZSBtZSBwbGFjZXMuIEZpeGVkIHRoaW5ncy4gQXNrZWQgaG93IHNjaG9vbCB3YXMsIGV2ZW4gd2hlbiBJIGdhdmUgb25lLXdvcmQgYW5zd2VycyBmb3IgdGhyZWUgeWVhcnMgc3RyYWlnaHQuIEkgZGlkbid0IGFwcHJlY2lhdGUgaXQgdW50aWwgSSB3YXMgMjUuIiwgd2hvOiAiRm9ybWVyIHN0ZXBjaGlsZCBhYm91dCBzdGVwZGFkIiwgdGhlbWU6ICJpbnZpc2libGUtZWZmb3J0IiB9LAogIHsgcTogIlNoZSBtYWRlIG15IGx1bmNoIGV2ZXJ5IGRheSBmb3IgZml2ZSB5ZWFycyBhbmQgSSBuZXZlciBvbmNlIHNhaWQgdGhhbmsgeW91LiBJIHRoaW5rIGFib3V0IHRoYXQgYSBsb3Qgbm93IHRoYXQgSSBoYXZlIG15IG93biBraWRzLiIsIHdobzogIkFkdWx0IHN0ZXBjaGlsZCwgbm93IGEgcGFyZW50IiwgdGhlbWU6ICJpbnZpc2libGUtZWZmb3J0IiB9LAogIHsgcTogIlRoZSB0aGluZyBJIHJlbWVtYmVyIG1vc3QgaXNuJ3QgYW55IGJpZyBjb252ZXJzYXRpb24uIEl0J3MgdGhhdCBoZSBhbHdheXMgc2F2ZWQgbWUgdGhlIGNvcm5lciBwaWVjZSBvZiB0aGUgYnJvd25pZXMuIEV2ZXJ5IHNpbmdsZSB0aW1lLiBIZSBub3RpY2VkIHRoYXQgYWJvdXQgbWUgd2hlbiBub2JvZHkgZWxzZSBkaWQuIiwgd2hvOiAiQWR1bHQgc3RlcGNoaWxkLCBhZ2UgMzIiLCB0aGVtZTogImludmlzaWJsZS1lZmZvcnQiIH0sCiAgeyBxOiAiSSB1c2VkIHRvIHNsYW0gbXkgZG9vciBldmVyeSB0aW1lIHNoZSBzcG9rZSB0byBtZS4gU2hlIG5ldmVyIHN0b3BwZWQga25vY2tpbmcuIE5vdCB0byBjb21lIGluIOKAlCBqdXN0IHRvIHNheSBnb29kbmlnaHQgdGhyb3VnaCB0aGUgZG9vci4gRXZlcnkgbmlnaHQgZm9yIHR3byB5ZWFycy4iLCB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBub3cgMjYiLCB0aGVtZTogImludmlzaWJsZS1lZmZvcnQiIH0sCiAgeyBxOiAiV2hlbiBJIGdvdCBtYXJyaWVkLCBJIGFza2VkIG15IHN0ZXBkYWQgdG8gd2FsayBtZSBkb3duIHRoZSBhaXNsZS4gTXkgbW9tIGNyaWVkLiBIZSBjcmllZC4gSSBjcmllZC4gSGUgaGFkIHdhaXRlZCBzZXZlbnRlZW4geWVhcnMgZm9yIHRoYXQgbW9tZW50IGFuZCBuZXZlciBvbmNlIGFza2VkIGZvciBpdC4iLCB3aG86ICJBZHVsdCBzdGVwZGF1Z2h0ZXIiLCB0aGVtZTogImxvbmctdmlldyIgfSwKICAvLyA9PT0gUFJPR1JFU1MgLyBIT1BFID09PQogIHsgcTogIlRoZSBzaGlmdCBkaWRuJ3QgaGFwcGVuIGFsbCBhdCBvbmNlLiBPbmUgZGF5IEkganVzdCByZWFsaXplZCBJJ2Qgc3RhcnRlZCBjYWxsaW5nIGhlciBob3VzZSAnaG9tZScgd2l0aG91dCB0aGlua2luZyBhYm91dCBpdC4iLCB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBhZ2UgMjQiLCB0aGVtZTogInByb2dyZXNzIiB9LAogIHsgcTogIkkgbmFtZWQgbXkgZGF1Z2h0ZXIgYWZ0ZXIgbXkgc3RlcG1vbS4gU2hlIGRvZXNuJ3Qga25vdyB5ZXQuIEknbSB0ZWxsaW5nIGhlciBhdCBDaHJpc3RtYXMuIiwgd2hvOiAiQWR1bHQgc3RlcGNoaWxkIiwgdGhlbWU6ICJsb25nLXZpZXciIH0sCiAgeyBxOiAiSXQgdG9vayBtZSB1bnRpbCBJIHdhcyAyMiB0byB0ZWxsIGhpbSBJIGxvdmVkIGhpbS4gQnV0IEknZCBmZWx0IGl0IHNpbmNlIEkgd2FzIDE2LiBJIGp1c3QgZGlkbid0IGtub3cgaG93IHRvIHNheSBpdCB3aXRob3V0IGZlZWxpbmcgbGlrZSBJIHdhcyBiZXRyYXlpbmcgbXkgcmVhbCBkYWQuIiwgd2hvOiAiQWR1bHQgc3RlcGNoaWxkIGFib3V0IGxveWFsdHkgY29uZmxpY3QiLCB0aGVtZTogInByb2dyZXNzIiB9LAogIHsgcTogIk15IHN0ZXBtb20gbmV2ZXIgY29ycmVjdGVkIG1lIHdoZW4gSSBjYWxsZWQgaGVyIGJ5IGhlciBmaXJzdCBuYW1lLiBTaGUgbmV2ZXIgcHVzaGVkLiBBbmQgdGhhdCdzIGV4YWN0bHkgd2h5LCB0d2VudHkgeWVhcnMgbGF0ZXIsIG15IGtpZHMgY2FsbCBoZXIgZ3JhbmRtYS4iLCB3aG86ICJBZHVsdCBzdGVwY2hpbGQsIG5vdyAzOCIsIHRoZW1lOiAibG9uZy12aWV3IiB9LAogIC8vID09PSBWQUxJREFUSU9OIC8gSURFTlRJVFkgPT09CiAgeyBxOiAiSSB3aXNoIHNvbWVvbmUgaGFkIHRvbGQgbXkgc3RlcGRhZCB0aGF0IG15IHNpbGVuY2Ugd2Fzbid0IHJlamVjdGlvbi4gSSB3YXMganVzdCBzY2FyZWQgdGhhdCBpZiBJIGxvdmVkIGhpbSwgaXQgbWVhbnQgSSBkaWRuJ3QgbG92ZSBteSBkYWQgYW55bW9yZS4iLCB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBub3cgMjciLCB0aGVtZTogInJlamVjdGlvbiIgfSwKICB7IHE6ICJUaGUgaGFyZGVzdCBwYXJ0IHdhc24ndCB0aGF0IHNoZSByZWplY3RlZCBtZS4gSXQgd2FzIHRoYXQgSSBzdGFydGVkIHRvIGJlbGlldmUgSSB3YXMgdGhlIHByb2JsZW0uIEkgd2Fzbid0LiBUaGUgc2l0dWF0aW9uIHdhcyB0aGUgcHJvYmxlbS4iLCB3aG86ICJTdGVwcGFyZW50IG9mIDggeWVhcnMiLCB0aGVtZTogImlkZW50aXR5IiB9LAogIHsgcTogIk5vYm9keSB0b2xkIG1lIHRoYXQgJ2RvaW5nIGZpbmUnIHdhcyBhIHJlYWxpc3RpYyBiZXN0LWNhc2UgZm9yIHRoZSBmaXJzdCBmaXZlIHllYXJzLiBJIGtlcHQgdGhpbmtpbmcgSSB3YXMgZmFpbGluZyB3aGVuIEkgd2FzIGFjdHVhbGx5IHJpZ2h0IG9uIHRyYWNrLiIsIHdobzogIlN0ZXBkYWQsIHllYXIgNyIsIHRoZW1lOiAiaWRlbnRpdHkiIH0sCiAgeyBxOiAiWW91IGRvbid0IGhhdmUgdG8gbG92ZSB5b3VyIHN0ZXBraWRzIHRoZSBzYW1lIHdheSB5b3UgbG92ZSB5b3VyIGJpbyBraWRzLiBEaWZmZXJlbnQgbG92ZSBpcyBzdGlsbCBsb3ZlLiBJIHdpc2ggc29tZW9uZSBoYWQgZ2l2ZW4gbWUgcGVybWlzc2lvbiB0byBmZWVsIHRoYXQgZWFybGllci4iLCB3aG86ICJTdGVwbW9tLCBibGVuZGVkIGZhbWlseSIsIHRoZW1lOiAiaWRlbnRpdHkiIH0sCiAgLy8gPT09IEFERElUSU9OQUwgRk9SIERBSUxZIFJPVEFUSU9OID09PQogIHsgcTogIkxvb2tpbmcgYmFjaywgdGhlIGZhY3QgdGhhdCBzaGUgc3RheWVkIGlzIHRoZSB0aGluZyB0aGF0IG1hdHRlcmVkLiBOb3Qgd2hhdCBzaGUgc2FpZCwgbm90IHdoYXQgc2hlIGJvdWdodCBtZS4gU2hlIGp1c3Qgc3RheWVkLiIsIHdobzogIkFkdWx0IHN0ZXBjaGlsZCwgYWdlIDMwIiwgdGhlbWU6ICJpbnZpc2libGUtZWZmb3J0IiB9LAogIHsgcTogIkkgd3JvdGUgbXkgc3RlcG1vbSBhIGxldHRlciB3aGVuIEkgdHVybmVkIDMwLiBKdXN0IHRvIHNheSBzb3JyeS4gQW5kIHRoYW5rIHlvdS4gU2hlIGZyYW1lZCBpdC4iLCB3aG86ICJBZHVsdCBzdGVwY2hpbGQiLCB0aGVtZTogImxvbmctdmlldyIgfSwKICB7IHE6ICJIZSBjYW1lIHRvIGV2ZXJ5IHNpbmdsZSBnYW1lLiBFdmVuIHdoZW4gSSBwcmV0ZW5kZWQgaGUgd2Fzbid0IHRoZXJlLiBFc3BlY2lhbGx5IHdoZW4gSSBwcmV0ZW5kZWQgaGUgd2Fzbid0IHRoZXJlLiIsIHdobzogIkZvcm1lciBzdGVwY2hpbGQgYWJvdXQgc3RlcGRhZCIsIHRoZW1lOiAiaW52aXNpYmxlLWVmZm9ydCIgfSwKICB7IHE6ICJNeSBzdGVwbW90aGVyIHRhdWdodCBtZSB0aGF0IGZhbWlseSBpc24ndCBqdXN0IGJsb29kLiBJdCdzIHdobyBzdGF5cyB3aGVuIHRoaW5ncyBhcmUgaGFyZC4gU2hlIHN0YXllZC4iLCB3aG86ICJBZHVsdCBzdGVwY2hpbGQsIGFnZSAzNSIsIHRoZW1lOiAibG9uZy12aWV3IiB9LAogIHsgcTogIkkgdXNlZCB0byB0ZXN0IGhlciBjb25zdGFudGx5LiBTYXkgaG9ycmlibGUgdGhpbmdzIGp1c3QgdG8gc2VlIGlmIHNoZSdkIGxlYXZlLiBTaGUgbmV2ZXIgZGlkLiBUaGF0J3MgdGhlIG9ubHkgcmVhc29uIEkgdHJ1c3QgYW55b25lIG5vdy4iLCB3aG86ICJGb3JtZXIgc3RlcGNoaWxkLCBub3cgaW4gdGhlcmFweSIsIHRoZW1lOiAicmVqZWN0aW9uIiB9LAogIHsgcTogIlRoZSByZWxhdGlvbnNoaXAgZGlkbid0IGdldCBnb29kLiBJdCBnb3Qgb2theS4gQW5kIG9rYXkgdHVybmVkIG91dCB0byBiZSBtb3JlIHRoYW4gZW5vdWdoLiIsIHdobzogIkFkdWx0IHN0ZXBjaGlsZCBhYm91dCByZWFsaXN0aWMgb3V0Y29tZXMiLCB0aGVtZTogInByb2dyZXNzIiB9LAogIHsgcTogIkkgZGlkbid0IGdvIHRvIGhlciBmdW5lcmFsIGJlY2F1c2UgSSB3YXMgYW5ncnkuIEkgcmVncmV0IGl0IGV2ZXJ5IHNpbmdsZSBkYXkuIFNoZSBkZXNlcnZlZCBiZXR0ZXIgZnJvbSBtZSwgYW5kIHNoZSBwcm9iYWJseSBrbmV3IHRoYXQuIiwgd2hvOiAiQWR1bHQgc3RlcGNoaWxkLCBhZ2UgNDUiLCB0aGVtZTogImxvbmctdmlldyIgfSwKXTsKCi8vIOKUgOKUgCBQYXJ0bmVyIENvbW11bmljYXRpb24gVGlwcyDilIDilIAKY29uc3QgUEFSVE5FUl9USVBTID0gWwogIHsKICAgIHRpdGxlOiAiTWFrZSB0aGUgaW52aXNpYmxlIHZpc2libGUiLAogICAgc2l0dWF0aW9uOiAiWW91ciBwYXJ0bmVyIGRvZXNuJ3Qgc2VlbSB0byBub3RpY2UgeW91ciBlZmZvcnRzIHdpdGggdGhlaXIgY2hpbGQuIiwKICAgIHRpcDogIkRvbid0IHdhaXQgZm9yIHRoZW0gdG8gbm90aWNlLiBTaGFyZSBzcGVjaWZpYyBtb21lbnRzOiAnSSBtYWRlIHRoZWlyIGx1bmNoIHRvZGF5IGFuZCB0aGV5IHdhbGtlZCBwYXN0IG1lIHdpdGhvdXQgYSB3b3JkLiBJIGtub3cgdGhhdCdzIG5vcm1hbCwgYnV0IGl0IHdvdWxkIGhlbHAgbWUgdG8gaGVhciB0aGF0IHlvdSBzZWUgd2hhdCBJJ20gZG9pbmcuJyIsCiAgICB3aHk6ICJQYXJ0bmVycyBvZnRlbiBhc3N1bWUgc3RlcHBhcmVudHMga25vdyB0aGVpciBlZmZvcnRzIGFyZSBhcHByZWNpYXRlZC4gVGhleSBkb24ndCByZWFsaXplIHlvdSBuZWVkIGV4cGxpY2l0IGFja25vd2xlZGdtZW50IGJlY2F1c2UgeW91J3JlIG5vdCBnZXR0aW5nIGFueSBmcm9tIHRoZSBjaGlsZC4iLAogIH0sCiAgewogICAgdGl0bGU6ICJUaGUgdW5pdGVkIGZyb250IGNvbnZlcnNhdGlvbiIsCiAgICBzaXR1YXRpb246ICJZb3UgZmVlbCB1bmRlcm1pbmVkIHdoZW4geW91ciBwYXJ0bmVyIG92ZXJyaWRlcyB5b3VyIGRlY2lzaW9ucyBpbiBmcm9udCBvZiB0aGUgY2hpbGQuIiwKICAgIHRpcDogIlRyeTogJ1doZW4gd2UgZGlzYWdyZWUgYWJvdXQgcnVsZXMsIGNhbiB3ZSB0YWxrIGFib3V0IGl0IHByaXZhdGVseSBmaXJzdD8gV2hlbiBpdCBoYXBwZW5zIGluIGZyb250IG9mIHRoZSBraWRzLCBpdCBzaWduYWxzIHRoYXQgSSBkb24ndCBoYXZlIGF1dGhvcml0eSBoZXJlIOKAlCBhbmQgdGhhdCBtYWtlcyBpdCBoYXJkZXIgZm9yIHRoZW0gdG8gcmVzcGVjdCBtZS4nIiwKICAgIHdoeTogIkNoaWxkcmVuIGluIHN0ZXBmYW1pbGllcyBhcmUgaGlnaGx5IGF0dHVuZWQgdG8gcG93ZXIgZHluYW1pY3MuIElmIHRoZXkgc2VlIHRoZSBiaW8tcGFyZW50IG92ZXJyaWRlIHRoZSBzdGVwcGFyZW50LCBpdCBjb25maXJtcyB0aGVpciBiZWxpZWYgdGhhdCB0aGUgc3RlcHBhcmVudCBkb2Vzbid0IGNvdW50LiIsCiAgfSwKICB7CiAgICB0aXRsZTogIkRvbid0IGNvbXBldGUgd2l0aCB0aGUgb3RoZXIgcGFyZW50IiwKICAgIHNpdHVhdGlvbjogIllvdXIgcGFydG5lciBjb21wYXJlcyB5b3UgdG8gdGhlIGNoaWxkJ3Mgb3RoZXIgYmlvbG9naWNhbCBwYXJlbnQsIG9yIGV4cGVjdHMgeW91IHRvIGZpbGwgdGhhdCByb2xlLiIsCiAgICB0aXA6ICJTYXk6ICdJJ20gbm90IHRyeWluZyB0byByZXBsYWNlIGFueW9uZS4gSSdtIHRyeWluZyB0byBidWlsZCBteSBvd24gcmVsYXRpb25zaGlwIHdpdGggeW91ciBjaGlsZC4gVGhhdCB0YWtlcyB0aW1lLCBhbmQgaXQgd2lsbCBsb29rIGRpZmZlcmVudCBmcm9tIHdoYXQgdGhleSBoYXZlIHdpdGggdGhlaXIgb3RoZXIgcGFyZW50IOKAlCBhbmQgdGhhdCdzIG9rYXkuJyIsCiAgICB3aHk6ICJTdGVwcGFyZW50cyB3aG8gdHJ5IHRvIHJlcGxpY2F0ZSB0aGUgYmlvLXBhcmVudCByb2xlIGZhY2UgdGhlIG1vc3QgcmVzaXN0YW5jZS4gUmVzZWFyY2ggY29uc2lzdGVudGx5IHNob3dzIHRoYXQgYSAnZnJpZW5kbHkgbWVudG9yJyByb2xlIGxlYWRzIHRvIGJldHRlciBvdXRjb21lcyB0aGFuIGEgJ3JlcGxhY2VtZW50IHBhcmVudCcgcm9sZS4iLAogIH0sCiAgewogICAgdGl0bGU6ICJXaGVuIHlvdSBuZWVkIHNwYWNlIGZyb20gdGhlIGNoaWxkIiwKICAgIHNpdHVhdGlvbjogIllvdSBuZWVkIGEgYnJlYWsgYnV0IGZlZWwgZ3VpbHR5IGFza2luZy4iLAogICAgdGlwOiAiVHJ5OiAnSSBuZWVkIGFuIGhvdXIgdG8gcmVzZXQgYWZ0ZXIgdG9kYXkuIFRoYXQncyBub3QgbWUgZ2l2aW5nIHVwIOKAlCBpdCdzIG1lIG1ha2luZyBzdXJlIEkgY2FuIHNob3cgdXAgYWdhaW4gdG9tb3Jyb3cuIENhbiB5b3UgaGFuZGxlIGJlZHRpbWUgdG9uaWdodD8nIiwKICAgIHdoeTogIlN0ZXBwYXJlbnQgYnVybm91dCBpcyByZWFsIGFuZCB1bmRlci1kaXNjdXNzZWQuIFRha2luZyBicmVha3MgaXNuJ3QgYWJhbmRvbm1lbnQuIFBhcnRuZXJzIG5lZWQgdG8gdW5kZXJzdGFuZCB0aGF0IHN1c3RhaW5lZCBlZmZvcnQgcmVxdWlyZXMgcmVjb3ZlcnkuIiwKICB9LAogIHsKICAgIHRpdGxlOiAiU2hhcmluZyB5b3VyIFN0ZWFkZmFzdCBkYXRhIiwKICAgIHNpdHVhdGlvbjogIllvdXIgcGFydG5lciBhc2tzIGhvdyB0aGluZ3MgYXJlIGdvaW5nLCBhbmQgeW91IHdhbnQgdG8gc2hvdyB0aGVtIOKAlCBub3QganVzdCB0ZWxsIHRoZW0uIiwKICAgIHRpcDogIlVzZSB0aGUgbW9udGhseSByZXBvcnQgdG8gc2hhcmUgcGF0dGVybnM6ICdMb29rIOKAlCB3aGVuIEkgdXNlIHF1aWV0IGFjdHMgb2Ygc2VydmljZSwgdGhlIHJlc3BvbnNlIGlzIG5ldXRyYWwgb3IgcG9zaXRpdmUgNzAlIG9mIHRoZSB0aW1lLiBEaXJlY3QgY29udmVyc2F0aW9uIG9ubHkgd29ya3MgMzAlLiBUaGlzIGlzIHJlYWwgZGF0YSwgbm90IGp1c3QgbXkgZmVlbGluZ3MuJyIsCiAgICB3aHk6ICJEYXRhIHJlbW92ZXMgdGhlIGVtb3Rpb24gZnJvbSB0aGUgY29udmVyc2F0aW9uLiBZb3VyIHBhcnRuZXIgY2FuIHNlZSBvYmplY3RpdmUgcGF0dGVybnMgaW5zdGVhZCBvZiBoZWFyaW5nIHdoYXQgbWlnaHQgc291bmQgbGlrZSBjb21wbGFpbnRzLiIsCiAgfSwKICB7CiAgICB0aXRsZTogIldoZW4geW91ciBwYXJ0bmVyIHNheXMgJ2p1c3QgZ2l2ZSBpdCB0aW1lJyIsCiAgICBzaXR1YXRpb246ICJZb3UncmUgc3RydWdnbGluZyBhbmQgeW91ciBwYXJ0bmVyIG1pbmltaXplcyBpdCB3aXRoICd0aGV5J2xsIGNvbWUgYXJvdW5kLiciLAogICAgdGlwOiAiUmVzcG9uZDogJ0kgaGVhciB5b3UsIGFuZCBJIGtub3cgdGltZSBtYXR0ZXJzLiBCdXQgcmlnaHQgbm93LCBJIG5lZWQgeW91IHRvIGFja25vd2xlZGdlIHRoYXQgdGhpcyBpcyBoYXJkIOKAlCBub3Qgc29sdmUgaXQsIGp1c3Qgc2VlIGl0LiBDYW4geW91IGp1c3Qgc2l0IHdpdGggbWUgaW4gdGhpcyBmb3IgYSBtaW51dGU/JyIsCiAgICB3aHk6ICInR2l2ZSBpdCB0aW1lJyBmZWVscyBkaXNtaXNzaXZlIGV2ZW4gd2hlbiBpdCdzIHRydWUuIFdoYXQgc3RlcHBhcmVudHMgbmVlZCBpbiB0aGUgbW9tZW50IGlzIHZhbGlkYXRpb24sIG5vdCBhZHZpY2UuIFBhcnRuZXJzIG9mdGVuIGRlZmF1bHQgdG8gZml4aW5nIGJlY2F1c2UgdGhlIHBhaW4gaXMgdW5jb21mb3J0YWJsZSB0byB3aXRuZXNzLiIsCiAgfSwKICB7CiAgICB0aXRsZTogIkFza2luZyBmb3IgYmFja3VwIHdpdGhvdXQgc3RhcnRpbmcgYSBmaWdodCIsCiAgICBzaXR1YXRpb246ICJUaGUgY2hpbGQgd2FzIGRpc3Jlc3BlY3RmdWwgdG8geW91IGFuZCB5b3VyIHBhcnRuZXIgZGlkbid0IGludGVydmVuZS4iLAogICAgdGlwOiAiV2FpdCB1bnRpbCB5b3UncmUgY2FsbSwgdGhlbjogJ1doZW4gW3NwZWNpZmljIHRoaW5nXSBoYXBwZW5lZCB0b2RheSBhbmQgbm90aGluZyB3YXMgc2FpZCwgSSBmZWx0IHVuc3VwcG9ydGVkLiBJJ20gbm90IGFza2luZyB5b3UgdG8gcHVuaXNoIHRoZW0g4oCUIEknbSBhc2tpbmcgeW91IHRvIHNheSBzb21ldGhpbmcgaW4gdGhlIG1vbWVudCwgZXZlbiBzb21ldGhpbmcgc21hbGwsIHNvIHRoZXkga25vdyB0aGF0J3Mgbm90IG9rYXkuJyIsCiAgICB3aHk6ICJCaW8tcGFyZW50cyBvZnRlbiBmcmVlemUgd2hlbiBjYXVnaHQgYmV0d2VlbiB0aGVpciBjaGlsZCBhbmQgdGhlaXIgcGFydG5lci4gVGhleSBuZWVkIHNwZWNpZmljLCBzbWFsbCByZXF1ZXN0cyDigJQgbm90IGdlbmVyYWwgZGVtYW5kcyB0byAnZG8gc29tZXRoaW5nLiciLAogIH0sCiAgewogICAgdGl0bGU6ICJUaGUgbG95YWx0eSBjb25mbGljdCBpc24ndCBhYm91dCB5b3UiLAogICAgc2l0dWF0aW9uOiAiWW91ciBwYXJ0bmVyJ3MgY2hpbGQgYWN0cyB3b3JzZSBhZnRlciB2aXNpdHMgd2l0aCB0aGVpciBvdGhlciBwYXJlbnQuIiwKICAgIHRpcDogIlRlbGwgeW91ciBwYXJ0bmVyOiAnSSd2ZSBub3RpY2VkIHRoZSBwYXR0ZXJuIHRvby4gSXQncyBub3QgYWJvdXQgdXMgZG9pbmcgc29tZXRoaW5nIHdyb25nIOKAlCB0aGV5J3JlIHByb2Nlc3NpbmcgbG95YWx0eSBjb25mbGljdC4gVGhlIGJlc3QgdGhpbmcgd2UgY2FuIGRvIGlzIGtlZXAgdGhpbmdzIGNhbG0gYW5kIHByZWRpY3RhYmxlIHdoZW4gdGhleSBjb21lIGJhY2suJyIsCiAgICB3aHk6ICJDaGlsZHJlbiBvZnRlbiBhY3Qgb3V0IGFmdGVyIGN1c3RvZHkgdHJhbnNpdGlvbnMgYmVjYXVzZSB0aGV5IGZlZWwgZ3VpbHR5IGZvciBlbmpveWluZyB0aW1lIHdpdGggdGhlIG90aGVyIGhvdXNlaG9sZC4gTmFtaW5nIHRoaXMgcGF0dGVybiB0b2dldGhlciByZWR1Y2VzIGJsYW1lLiIsCiAgfSwKXTsKCi8vIOKUgOKUgCBQYXJlbnRhbCBBbGllbmF0aW9uIENvbnRlbnQg4pSA4pSACmNvbnN0IEFMSUVOQVRJT04gPSB7CiAgdGl0bGU6ICJXaGVuIGl0J3MgbW9yZSB0aGFuIG5vcm1hbCByZXNpc3RhbmNlIiwKICBpbnRybzogIlBhcmVudGFsIGFsaWVuYXRpb24g4oCUIHdoZW4gb25lIHBhcmVudCBhY3RpdmVseSB0dXJucyBhIGNoaWxkIGFnYWluc3QgdGhlIG90aGVyIHBhcmVudCBvciBzdGVwcGFyZW50IOKAlCBpcyBhIHNwZWNpZmljIGFuZCBzZXZlcmUgZHluYW1pYyB0aGF0IGdvZXMgYmV5b25kIHR5cGljYWwgc3RlcGZhbWlseSBhZGp1c3RtZW50LiBJZiB5b3UncmUgZXhwZXJpZW5jaW5nIHRoaXMsIGl0J3MgaW1wb3J0YW50IHRvIGtub3cgdGhhdCBzdGFuZGFyZCBzdGVwcGFyZW50aW5nIHN0cmF0ZWdpZXMgbWF5IG5vdCBhcHBseS4iLAogIHNpZ25zOiBbCiAgICAiVGhlIGNoaWxkIHJlcGVhdHMgd29yZC1mb3Itd29yZCBwaHJhc2VzIHRoYXQgc291bmQgbGlrZSBhbiBhZHVsdCdzIGxhbmd1YWdlLCBub3QgYSBjaGlsZCdzIiwKICAgICJSZWplY3Rpb24gZXNjYWxhdGVkIHN1ZGRlbmx5IGFmdGVyIGNvbnRhY3Qgd2l0aCB0aGUgb3RoZXIgcGFyZW50LCB3aXRoIG5vIG90aGVyIHRyaWdnZXIiLAogICAgIlRoZSBjaGlsZCBzaG93cyBubyBhbWJpdmFsZW5jZSDigJQgdGhleSdyZSBlbnRpcmVseSBuZWdhdGl2ZSB3aXRoIHplcm8gbWl4ZWQgZmVlbGluZ3MiLAogICAgIlByZXZpb3VzbHkgd2FybSBpbnRlcmFjdGlvbnMgZGlzYXBwZWFyZWQgb3Zlcm5pZ2h0IiwKICAgICJUaGUgY2hpbGQgbWFrZXMgZmFsc2UgYWNjdXNhdGlvbnMgb3IgZHJhbWF0aWNhbGx5IHJld3JpdGVzIHNoYXJlZCBoaXN0b3J5IiwKICBdLAogIGd1aWRhbmNlOiBbCiAgICB7IHRpdGxlOiAiVGhpcyBpcyBub3QgeW91ciBmYXVsdCIsIHRleHQ6ICJBbGllbmF0aW9uIGlzIGEgZm9ybSBvZiBwc3ljaG9sb2dpY2FsIG1hbmlwdWxhdGlvbiBieSBhbiBhZHVsdC4gTm8gYW1vdW50IG9mICd0cnlpbmcgaGFyZGVyJyBvbiB5b3VyIHBhcnQgd2lsbCBmaXggaXQsIGJlY2F1c2UgdGhlIHByb2JsZW0gaXNuJ3QgY29taW5nIGZyb20geW91IG9yIHRoZSBjaGlsZC4iIH0sCiAgICB7IHRpdGxlOiAiRG9jdW1lbnQsIGRvbid0IHJlYWN0IiwgdGV4dDogIktlZXAgZmFjdHVhbCByZWNvcmRzIG9mIHdoYXQgdGhlIGNoaWxkIHNheXMgYW5kIHdoZW4uIFlvdXIgU3RlYWRmYXN0IGVudHJpZXMgY2FuIHNlcnZlIHRoaXMgcHVycG9zZS4gTm90ZSBzcGVjaWZpYyBwaHJhc2VzLCBkYXRlcywgYW5kIGNvbnRleHQg4oCUIGVzcGVjaWFsbHkgY29ycmVsYXRpb24gd2l0aCBjdXN0b2R5IHRyYW5zaXRpb25zLiIgfSwKICAgIHsgdGl0bGU6ICJQcm90ZWN0IHRoZSByZWxhdGlvbnNoaXAgeW91IGNhbiIsIHRleHQ6ICJGb2N1cyBvbiB5b3VyIHJlbGF0aW9uc2hpcCB3aXRoIHlvdXIgcGFydG5lci4gQWxpZW5hdGlvbiBwdXRzIGVub3Jtb3VzIHN0cmFpbiBvbiBjb3VwbGVzLiBZb3VyIHBhcnRuZXIgbmVlZHMgdG8gYmUgYWN0aXZlbHkgaW52b2x2ZWQgaW4gYWRkcmVzc2luZyB0aGlzIOKAlCBpdCBjYW5ub3QgYmUgeW91ciBmaWdodCBhbG9uZS4iIH0sCiAgICB7IHRpdGxlOiAiU2VlayBzcGVjaWFsaXplZCBoZWxwIiwgdGV4dDogIkdlbmVyYWwgc3RlcGZhbWlseSBhZHZpY2Ugb2Z0ZW4gZG9lc24ndCBhcHBseSB0byBhbGllbmF0aW9uLiBMb29rIGZvciB0aGVyYXBpc3RzIHdobyBzcGVjaWZpY2FsbHkgd29yayB3aXRoIHBhcmVudGFsIGFsaWVuYXRpb24gb3IgaGlnaC1jb25mbGljdCBjdXN0b2R5IHNpdHVhdGlvbnMuIiB9LAogICAgeyB0aXRsZTogIkxvd2VyIHlvdXIgZXhwZWN0YXRpb25zIHdpdGhvdXQgZ2l2aW5nIHVwIiwgdGV4dDogIlByb2dyZXNzIGluIGFsaWVuYXRpb24gY2FzZXMgaXMgbWVhc3VyZWQgZGlmZmVyZW50bHkuIEEgY2hpbGQgbWFpbnRhaW5pbmcgYW55IG5ldXRyYWwgY29udGFjdCBhdCBhbGwgbWF5IGJlIHRoZSByZWFsaXN0aWMgYmVzdCBvdXRjb21lIHdoaWxlIHRoZSBhbGllbmF0aW9uIGlzIGFjdGl2ZS4gVGhpcyBkb2Vzbid0IG1lYW4gZm9yZXZlci4iIH0sCiAgXSwKICBub3RlOiAiU3RlYWRmYXN0J3MgdHJhY2tpbmcgdG9vbHMgY2FuIHN0aWxsIGJlIHVzZWZ1bCBpbiBhbGllbmF0aW9uIHNpdHVhdGlvbnMg4oCUIGRvY3VtZW50aW5nIHBhdHRlcm5zLCBjb3JyZWxhdGluZyBiZWhhdmlvcnMgd2l0aCBjdXN0b2R5IHRyYW5zaXRpb25zLCBhbmQgbWFpbnRhaW5pbmcgeW91ciBvd24gcGVyc3BlY3RpdmUuIEJ1dCB0aGUgcGVyc3BlY3RpdmUgY2FyZHMgYW5kIGJlbmNobWFya3MgYXJlIGRlc2lnbmVkIGZvciB0eXBpY2FsIHN0ZXBmYW1pbHkgcmVzaXN0YW5jZSwgbm90IGFjdGl2ZSBhbGllbmF0aW9uLiBJZiB5b3UncmUgaW4gdGhpcyBzaXR1YXRpb24sIHBsZWFzZSBhZGp1c3QgeW91ciBleHBlY3RhdGlvbnMgb2YgdGhpcyBhcHAgYW5kIG9mIHlvdXJzZWxmLiIsCn07Cgpjb25zdCBCRU5DSCA9IHsKICBhZ2VzOiB7CiAgICAiMC00IjogeyB0OiAiM+KAkzYgeWVhcnMiLCBub3RlOiAiWW91bmcgY2hpbGRyZW4gYXJlIGdlbmVyYWxseSBtb3JlIGFjY2VwdGluZyBidXQgbWF5IGRldmVsb3AgcmVzaXN0YW5jZSBhcyB0aGV5IHVuZGVyc3RhbmQgZmFtaWx5IGR5bmFtaWNzLiIgfSwKICAgICI1LTkiOiB7IHQ6ICI14oCTOCB5ZWFycyIsIG5vdGU6ICJTY2hvb2wtYWdlIGNoaWxkcmVuIGhhdmUgZXN0YWJsaXNoZWQgYm9uZHMgYW5kIG1heSBmZWVsIHRvcm4gYmV0d2VlbiBsb3lhbHR5IHRvIHRoZWlyIGJpb2xvZ2ljYWwgcGFyZW50IGFuZCBhY2NlcHRhbmNlIG9mIHlvdS4iIH0sCiAgICAiMTAtMTMiOiB7IHQ6ICI34oCTMTIgeWVhcnMiLCBub3RlOiAiUHJlLXRlZW5zIGFuZCBlYXJseSB0ZWVucyBmYWNlIHRoZSBoYXJkZXN0IGFkanVzdG1lbnQuIElkZW50aXR5IGZvcm1hdGlvbiBwbHVzIGxveWFsdHkgY29uZmxpY3RzIGNyZWF0ZSBpbnRlbnNlIHJlc2lzdGFuY2UuIiB9LAogICAgIjE0LTE3IjogeyB0OiAiTWF5IGV4dGVuZCBpbnRvIGFkdWx0aG9vZCIsIG5vdGU6ICJUZWVuYWdlcnMgYXJlIGRldmVsb3BtZW50YWxseSBzZXBhcmF0aW5nIGZyb20gQUxMIHBhcmVudHMuIEFkZGluZyBhIG5ldyBvbmUgYXQgdGhpcyBzdGFnZSBpcyBleGNlcHRpb25hbGx5IGNoYWxsZW5naW5nLiBQcm9ncmVzcyBvZnRlbiBvbmx5IGJlY29tZXMgdmlzaWJsZSB3aGVuIHRoZXkncmUgYWR1bHRzLiIgfSwKICB9LAogIGN1c3RvZHk6IHsKICAgIGZ1bGw6ICJMaXZpbmcgdG9nZXRoZXIgZnVsbC10aW1lIGNyZWF0ZXMgbW9yZSBmcmljdGlvbiBidXQgYWxzbyBtb3JlIG9wcG9ydHVuaXRpZXMgZm9yIHNtYWxsIHBvc2l0aXZlIGludGVyYWN0aW9ucy4iLAogICAgIjUwLTUwIjogIlJlZ3VsYXIgdHJhbnNpdGlvbnMgY2FuIHRyaWdnZXIgbG95YWx0eSBjb25mbGljdHMgZWFjaCB0aW1lLiBCdXQgY29uc2lzdGVudCBwcmVzZW5jZSBub3JtYWxpemVzIHRoZSByZWxhdGlvbnNoaXAuIiwKICAgIHdlZWtlbmRzOiAiTGltaXRlZCB0aW1lIG1lYW5zIGVhY2ggaW50ZXJhY3Rpb24gY2FycmllcyBtb3JlIHdlaWdodCDigJQgYm90aCBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUuIFNsb3dlciBvdmVyYWxsIHByb2dyZXNzLiIsCiAgICBvdGhlcjogIklycmVndWxhciBvciBpbmZyZXF1ZW50IGNvbnRhY3QgbWFrZXMgcmVsYXRpb25zaGlwLWJ1aWxkaW5nIHNpZ25pZmljYW50bHkgaGFyZGVyLiIsCiAgfSwKICBsb3lhbHR5OiB7CiAgICBub25lOiAiTm8gdmlzaWJsZSBsb3lhbHR5IGNvbmZsaWN0IGlzIGEgc2lnbmlmaWNhbnQgYWR2YW50YWdlLiBQcm9ncmVzcyBtYXkgYmUgZmFzdGVyIHRoYW4gdHlwaWNhbCBiZW5jaG1hcmtzLiIsCiAgICBtaWxkOiAiU29tZSB0ZW5zaW9uIGlzIG5vcm1hbC4gVGhlIGNoaWxkIG1heSBmZWVsIGNvbmZsaWN0ZWQgYnV0IGlzbid0IGFjdGl2ZWx5IHByZXNzdXJlZCB0byByZWplY3QgeW91LiIsCiAgICBzdHJvbmc6ICJBY3RpdmUgbG95YWx0eSBjb25mbGljdCBpcyB0aGUgc2luZ2xlIGJpZ2dlc3QgcHJlZGljdG9yIG9mIHNsb3dlciBpbnRlZ3JhdGlvbi4gVGhpcyBpcyB0aGUgaGFyZGVzdCB2YXJpYWJsZSwgYW5kIGl0J3Mgbm90IHNvbWV0aGluZyB5b3UgY29udHJvbC4iLAogICAgdW5rbm93bjogIk5vdCBiZWluZyBzdXJlIGlzIGNvbW1vbi4gV2F0Y2ggZm9yIHNpZ25zOiBkb2VzIHRoZSBjaGlsZCBzZWVtIGNvbmZsaWN0ZWQgYWZ0ZXIgdmlzaXRzIHdpdGggdGhlIG90aGVyIHBhcmVudD8iLAogIH0sCiAgb3V0Y29tZXM6IFsKICAgIHsgbDogIldhcm0gYWNjZXB0YW5jZSIsIGQ6ICJHZW51aW5lIGFmZmVjdGlvbiwgc2Vla3MgeW91ciBjb21wYW55LCBpbnRyb2R1Y2VzIHlvdSBhcyBmYW1pbHkuIiwgcDogIjE14oCTMjAlIiwgYzogIiM3RUI4QTIiIH0sCiAgICB7IGw6ICJDb21mb3J0YWJsZSByZWxhdGlvbnNoaXAiLCBkOiAiRWFzeSBjb2V4aXN0ZW5jZSwgc2hhcmVkIGFjdGl2aXRpZXMsIG11dHVhbCByZXNwZWN0LiIsIHA6ICIzMOKAkzM1JSIsIGM6ICIjOEJBRUQ0IiB9LAogICAgeyBsOiAiUmVzcGVjdGZ1bCBkaXN0YW5jZSIsIGQ6ICJQb2xpdGUsIGNvb3BlcmF0aXZlLCBidXQgbm90IGNsb3NlLiBBIHJlYWxpc3RpYyBhbmQgdmFsaWQgc3VjY2VzcyBzdGF0ZS4iLCBwOiAiMjXigJMzMCUiLCBjOiAiIzlEQjhDNyIgfSwKICAgIHsgbDogIkNvcmRpYWwgY29leGlzdGVuY2UiLCBkOiAiRnVuY3Rpb25hbCBob3VzZWhvbGQsIG1pbmltYWwgZnJpY3Rpb24sIGxpbWl0ZWQgZW1vdGlvbmFsIGNvbm5lY3Rpb24uIiwgcDogIjE14oCTMjAlIiwgYzogIiNDOUEwQTAiIH0sCiAgICB7IGw6ICJPbmdvaW5nIGRpZmZpY3VsdHkiLCBkOiAiQ29udGludWVkIHJlc2lzdGFuY2UgdGhhdCBtYXkgc29mdGVuIGluIGFkdWx0aG9vZCDigJQgb3IgbWF5IG5vdC4iLCBwOiAiNeKAkzEwJSIsIGM6ICIjRDQ3OTZCIiB9LAogIF0sCn07Cgpjb25zdCBTTkFQX1EgPSBbCiAgeyBpZDogIm92ZXJhbGwiLCBxOiAiSG93IHdvdWxkIHlvdSBkZXNjcmliZSB0aGUgcmVsYXRpb25zaGlwIHJpZ2h0IG5vdz8iLCBzOiBbIkhvc3RpbGUiLCAiQXZvaWRhbnQiLCAiVGVuc2UiLCAiTmV1dHJhbCIsICJXYXJtaW5nIiwgIkNvbWZvcnRhYmxlIiwgIkNsb3NlIl0gfSwKICB7IGlkOiAicmVqIiwgcTogIkhvdyBvZnRlbiBhcmUgeW91IGV4cGVyaWVuY2luZyBvdmVydCByZWplY3Rpb24/IiwgczogWyJEYWlseSIsICJTZXZlcmFsL3drIiwgIldlZWtseSIsICJGZXcvbW9udGgiLCAiUmFyZWx5IiwgIkFsbW9zdCBuZXZlciJdIH0sCiAgeyBpZDogInBvcyIsIHE6ICJIb3cgb2Z0ZW4gZG8geW91IG5vdGljZSBzbWFsbCBwb3NpdGl2ZSBzaWduYWxzPyIsIHM6IFsiTmV2ZXIiLCAiUmFyZWx5IiwgIlNvbWV0aW1lcyIsICJXZWVrbHkiLCAiU2V2ZXJhbC93ayIsICJEYWlseSJdIH0sCiAgeyBpZDogImZlZWxpbmciLCBxOiAiSG93IGFyZSBZT1UgZmVlbGluZyBhYm91dCB0aGUgcmVsYXRpb25zaGlwPyIsIHM6IFsiSG9wZWxlc3MiLCAiRXhoYXVzdGVkIiwgIkRpc2NvdXJhZ2VkIiwgIk5ldXRyYWwiLCAiQ2F1dGlvdXMgaG9wZSIsICJHb29kIiwgIkNvbmZpZGVudCJdIH0sCiAgeyBpZDogImlkZW50aXR5IiwgcTogIkhvdyBtdWNoIGFyZSB5b3UgZmVlbGluZyBsaWtlIHlvdXJzZWxmPyIsIHM6IFsiTG9zdCIsICJTdHJ1Z2dsaW5nIiwgIkNvcGluZyIsICJNb3N0bHkgT0siLCAiTXlzZWxmIiwgIlN0cm9uZ2VyIl0gfSwKICB7IGlkOiAic3VzdGFpbiIsIHE6ICJIb3cgc3VzdGFpbmFibGUgZG9lcyB5b3VyIGN1cnJlbnQgZWZmb3J0IGZlZWw/IiwgczogWyJCdXJuaW5nIG91dCIsICJVbnN1c3RhaW5hYmxlIiwgIkRpZmZpY3VsdCIsICJNYW5hZ2VhYmxlIiwgIkNvbWZvcnRhYmxlIiwgIk5hdHVyYWwiXSB9LApdOwoKLy8g4pSA4pSAIEhlbHBlcnMg4pSA4pSACmNvbnN0IHVpZCA9ICgpID0+IERhdGUubm93KCkudG9TdHJpbmcoMzYpICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgNyk7CmNvbnN0IGZtdERhdGUgPSAoZCkgPT4gbmV3IERhdGUoZCkudG9Mb2NhbGVEYXRlU3RyaW5nKCJlbi1VUyIsIHsgbW9udGg6ICJzaG9ydCIsIGRheTogIm51bWVyaWMiLCB5ZWFyOiAibnVtZXJpYyIgfSk7CmNvbnN0IGZtdFNob3J0ID0gKGQpID0+IG5ldyBEYXRlKGQpLnRvTG9jYWxlRGF0ZVN0cmluZygiZW4tVVMiLCB7IG1vbnRoOiAic2hvcnQiLCBkYXk6ICJudW1lcmljIiB9KTsKY29uc3QgZm10U2hvcnRZciA9IChkKSA9PiBuZXcgRGF0ZShkKS50b0xvY2FsZURhdGVTdHJpbmcoImVuLVVTIiwgeyBtb250aDogInNob3J0IiwgZGF5OiAibnVtZXJpYyIsIHllYXI6ICIyLWRpZ2l0IiB9KTsKY29uc3QgZGF5c0FnbyA9IChkKSA9PiBNYXRoLnJvdW5kKChEYXRlLm5vdygpIC0gbmV3IERhdGUoZCkuZ2V0VGltZSgpKSAvIDg2NDAwMDAwKTsKCi8vIOKUgOKUgCBQYWxldHRlIOKUgOKUgApjb25zdCBQID0gewogIGJnOiAiIzBmMTExNyIsIGNhcmQ6ICIjMTYxOTIxIiwgY2FyZDI6ICIjMWMyMDI5IiwgYm9yZGVyOiAiIzI1MmEzNSIsCiAgYm9yZGVyMjogIiMyZjM1NDIiLCB3YXJtOiAiI0Q0QTU3NCIsIHdhcm1EaW06ICIjRDRBNTc0NDQiLAogIHRleHQ6ICIjRTVENUM1IiwgbXV0ZWQ6ICIjOUNBM0FGIiwgZGltOiAiIzZCNzI4MCIsIGRpbW1lcjogIiM0QjU1NjMiLAogIGdyZWVuOiAiIzdFQjhBMiIsIGJsdWU6ICIjOEJBRUQ0IiwgcHVycGxlOiAiI0M0QTZEOCIsIHJvc2U6ICIjQzlBMEEwIiwgcmVkOiAiI0Q0Nzk2QiIsCn07CgovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKLy8gIE1BSU4gQVBQCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkApmdW5jdGlvbiBBcHAoKSB7CiAgY29uc3QgW3ZpZXcsIHNldFZpZXddID0gdXNlU3RhdGUoImxvYWRpbmciKTsKICBjb25zdCBbZW50cmllcywgc2V0RW50cmllc10gPSB1c2VTdGF0ZShbXSk7CiAgY29uc3QgW3Byb2ZpbGUsIHNldFByb2ZpbGVdID0gdXNlU3RhdGUobnVsbCk7CiAgY29uc3QgW3NuYXBzLCBzZXRTbmFwc10gPSB1c2VTdGF0ZShbXSk7CiAgY29uc3QgW21vZGFsLCBzZXRNb2RhbF0gPSB1c2VTdGF0ZShudWxsKTsgLy8ge3R5cGUsIGRhdGE/fQogIGNvbnN0IFt0aW1lUmFuZ2UsIHNldFRpbWVSYW5nZV0gPSB1c2VTdGF0ZSgiM20iKTsKICBjb25zdCBbcGF0TW9kZSwgc2V0UGF0TW9kZV0gPSB1c2VTdGF0ZSgiYWN0aW9uIik7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAoYXN5bmMgKCkgPT4gewogICAgICB0cnkgewogICAgICAgIGNvbnN0IFtlLCBwLCBzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtnZXRBbGwoUy5lbnRyaWVzKSwgZ2V0KFMucHJvZmlsZSwgIm1haW4iKSwgZ2V0QWxsKFMuc25hcHNob3RzKV0pOwogICAgICAgIHNldEVudHJpZXMoZS5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLmRhdGUpIC0gbmV3IERhdGUoYS5kYXRlKSkpOwogICAgICAgIHNldFByb2ZpbGUocD8uZGF0YSB8fCBudWxsKTsKICAgICAgICBzZXRTbmFwcyhzLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGEuZGF0ZSkgLSBuZXcgRGF0ZShiLmRhdGUpKSk7CiAgICAgICAgc2V0VmlldyhwPy5kYXRhID8gImhvbWUiIDogIm9uYm9hcmQiKTsKICAgICAgfSBjYXRjaChlKSB7IHNldFZpZXcoIm9uYm9hcmQiKTsgfQogICAgfSkoKTsKICB9LCBbXSk7CgogIGNvbnN0IHNhdmVFbnRyeSA9IGFzeW5jIChlKSA9PiB7IGF3YWl0IHB1dChTLmVudHJpZXMsIGUpOyBzZXRFbnRyaWVzKHByZXYgPT4gW2UsIC4uLnByZXYuZmlsdGVyKHggPT4geC5pZCAhPT0gZS5pZCldLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIuZGF0ZSkgLSBuZXcgRGF0ZShhLmRhdGUpKSk7IH07CiAgY29uc3QgZGVsRW50cnkgPSBhc3luYyAoaWQpID0+IHsgYXdhaXQgZGVsKFMuZW50cmllcywgaWQpOyBzZXRFbnRyaWVzKHByZXYgPT4gcHJldi5maWx0ZXIoeCA9PiB4LmlkICE9PSBpZCkpOyB9OwogIGNvbnN0IHNhdmVQcm9maWxlID0gYXN5bmMgKGQpID0+IHsgYXdhaXQgcHV0KFMucHJvZmlsZSwgeyBrZXk6ICJtYWluIiwgZGF0YTogZCB9KTsgc2V0UHJvZmlsZShkKTsgfTsKICBjb25zdCBzYXZlU25hcCA9IGFzeW5jIChzKSA9PiB7IGF3YWl0IHB1dChTLnNuYXBzaG90cywgcyk7IHNldFNuYXBzKHByZXYgPT4gWy4uLnByZXYuZmlsdGVyKHggPT4geC5pZCAhPT0gcy5pZCksIHNdLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGEuZGF0ZSkgLSBuZXcgRGF0ZShiLmRhdGUpKSk7IH07CiAgY29uc3QgZGVsU25hcCA9IGFzeW5jIChpZCkgPT4geyBhd2FpdCBkZWwoUy5zbmFwc2hvdHMsIGlkKTsgc2V0U25hcHMocHJldiA9PiBwcmV2LmZpbHRlcih4ID0+IHguaWQgIT09IGlkKSk7IH07CgogIGNvbnN0IGV4cG9ydERhdGEgPSAoKSA9PiB7CiAgICBjb25zdCBkID0gSlNPTi5zdHJpbmdpZnkoeyBlbnRyaWVzLCBwcm9maWxlLCBzbmFwc2hvdHM6IHNuYXBzLCBleHBvcnRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0sIG51bGwsIDIpOwogICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgIGEuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2RdLCB7IHR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiB9KSk7CiAgICBhLmRvd25sb2FkID0gYHN0ZWFkZmFzdC1iYWNrdXAtJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApfS5qc29uYDsKICAgIGEuY2xpY2soKTsKICB9OwoKICBjb25zdCBpbXBvcnREYXRhID0gKGV2dCkgPT4gewogICAgY29uc3QgZiA9IGV2dC50YXJnZXQuZmlsZXNbMF07CiAgICBpZiAoIWYpIHJldHVybjsKICAgIGNvbnN0IHIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgci5vbmxvYWQgPSBhc3luYyAoZSkgPT4gewogICAgICB0cnkgewogICAgICAgIGNvbnN0IGQgPSBKU09OLnBhcnNlKGUudGFyZ2V0LnJlc3VsdCk7CiAgICAgICAgaWYgKGQuZW50cmllcykgZm9yIChjb25zdCB4IG9mIGQuZW50cmllcykgYXdhaXQgcHV0KFMuZW50cmllcywgeCk7CiAgICAgICAgaWYgKGQucHJvZmlsZSkgYXdhaXQgcHV0KFMucHJvZmlsZSwgeyBrZXk6ICJtYWluIiwgZGF0YTogZC5wcm9maWxlIH0pOwogICAgICAgIGlmIChkLnNuYXBzaG90cykgZm9yIChjb25zdCB4IG9mIGQuc25hcHNob3RzKSBhd2FpdCBwdXQoUy5zbmFwc2hvdHMsIHgpOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSBjYXRjaChlKSB7IGFsZXJ0KCJJbnZhbGlkIGJhY2t1cCBmaWxlLiIpOyB9CiAgICB9OwogICAgci5yZWFkQXNUZXh0KGYpOwogIH07CgogIGNvbnN0IG9wZW5FbnRyeSA9IChlID0gbnVsbCkgPT4gc2V0TW9kYWwoeyB0eXBlOiAiZW50cnkiLCBkYXRhOiBlIH0pOwogIGNvbnN0IGNsb3NlID0gKCkgPT4gc2V0TW9kYWwobnVsbCk7CgogIGlmICh2aWV3ID09PSAibG9hZGluZyIpIHJldHVybiAoCiAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5yb290LCBkaXNwbGF5OiAiZmxleCIsIGFsaWduSXRlbXM6ICJjZW50ZXIiLCBqdXN0aWZ5Q29udGVudDogImNlbnRlciIsIG1pbkhlaWdodDogIjEwMHZoIiB9fT4KICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250RmFtaWx5OiAiR2VvcmdpYSwgJ1RpbWVzIE5ldyBSb21hbicsIHNlcmlmIiwgZm9udFNpemU6IDE4IH19PkxvYWRpbmcuLi48L3A+CiAgICA8L2Rpdj4KICApOwoKICBpZiAodmlldyA9PT0gIm9uYm9hcmQiKSByZXR1cm4gPE9uYm9hcmRpbmcgb25Eb25lPXsoZCkgPT4geyBzYXZlUHJvZmlsZShkKTsgc2V0VmlldygiaG9tZSIpOyB9fSAvPjsKCiAgcmV0dXJuICgKICAgIDxkaXYgc3R5bGU9e2Nzcy5yb290fT4KICAgICAgPGRpdiBzdHlsZT17Y3NzLnNoZWxsfT4KICAgICAgICB7LyogTW9kYWwgbGF5ZXIgKi99CiAgICAgICAge21vZGFsPy50eXBlID09PSAiZW50cnkiICYmICgKICAgICAgICAgIDxFbnRyeU1vZGFsCiAgICAgICAgICAgIGVudHJ5PXttb2RhbC5kYXRhfQogICAgICAgICAgICBvblNhdmU9eyhlKSA9PiB7CiAgICAgICAgICAgICAgc2F2ZUVudHJ5KGUpOyBjbG9zZSgpOwogICAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlID09PSAicmVqZWN0aW9uIiB8fCBlLnJlc3BvbnNlID09PSAiZXNjYWxhdGlvbiIpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGNzID0gQ0FSRFMuZmlsdGVyKGMgPT4gYy50cmlnZ2Vycy5pbmNsdWRlcyhlLnJlc3BvbnNlKSk7CiAgICAgICAgICAgICAgICBpZiAoY3MubGVuZ3RoKSBzZXRUaW1lb3V0KCgpID0+IHNldE1vZGFsKHsgdHlwZTogImNhcmQiLCBkYXRhOiBjc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjcy5sZW5ndGgpXSB9KSwgMzAwKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH19CiAgICAgICAgICAgIG9uRGVsZXRlPXttb2RhbC5kYXRhID8gKGlkKSA9PiB7IGRlbEVudHJ5KGlkKTsgY2xvc2UoKTsgfSA6IG51bGx9CiAgICAgICAgICAgIG9uQ2xvc2U9e2Nsb3NlfQogICAgICAgICAgLz4KICAgICAgICApfQogICAgICAgIHttb2RhbD8udHlwZSA9PT0gImNhcmQiICYmIDxDYXJkTW9kYWwgY2FyZD17bW9kYWwuZGF0YX0gb25DbG9zZT17Y2xvc2V9IC8+fQogICAgICAgIHttb2RhbD8udHlwZSA9PT0gInNuYXAiICYmIDxTbmFwTW9kYWwgc25hcHM9e3NuYXBzfSBvblNhdmU9eyhzKSA9PiB7IHNhdmVTbmFwKHMpOyBjbG9zZSgpOyB9fSBvbkNsb3NlPXtjbG9zZX0gLz59CiAgICAgICAge21vZGFsPy50eXBlID09PSAic2V0dGluZ3MiICYmIDxTZXR0aW5nc01vZGFsIG9uQ2xvc2U9e2Nsb3NlfSBvbkV4cG9ydD17ZXhwb3J0RGF0YX0gb25JbXBvcnQ9e2ltcG9ydERhdGF9IG9uUmVkbz17KCkgPT4geyBzZXRWaWV3KCJvbmJvYXJkIik7IGNsb3NlKCk7IH19IC8+fQoKICAgICAgICB7LyogSGVhZGVyICovfQogICAgICAgIDxoZWFkZXIgc3R5bGU9e2Nzcy5oZHJ9PgogICAgICAgICAgPGRpdj4KICAgICAgICAgICAgPGgxIHN0eWxlPXtjc3MubG9nb30+U3RlYWRmYXN0PC9oMT4KICAgICAgICAgICAgPHAgc3R5bGU9e2Nzcy5zdWJ9PllvdXIgcHJvZ3Jlc3MgaXMgcmVhbCwgZXZlbiB3aGVuIGl0J3MgaW52aXNpYmxlPC9wPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldE1vZGFsKHsgdHlwZTogInNldHRpbmdzIiB9KX0gc3R5bGU9e2Nzcy5pY29uQnRufSBhcmlhLWxhYmVsPSJTZXR0aW5ncyI+4pqZPC9idXR0b24+CiAgICAgICAgPC9oZWFkZXI+CgogICAgICAgIDxOYXYgdmlldz17dmlld30gZ289e3NldFZpZXd9IC8+CgogICAgICAgIDxtYWluIHN0eWxlPXt7IHBhZGRpbmc6ICI0cHggMTZweCAxMjBweCIgfX0+CiAgICAgICAgICB7dmlldyA9PT0gImhvbWUiICYmIDxIb21lIGVudHJpZXM9e2VudHJpZXN9IHByb2ZpbGU9e3Byb2ZpbGV9IHNuYXBzPXtzbmFwc30gb3BlbkVudHJ5PXtvcGVuRW50cnl9IG9wZW5TbmFwPXsoKSA9PiBzZXRNb2RhbCh7IHR5cGU6ICJzbmFwIiB9KX0gb3BlbkNhcmQ9eygpID0+IHsgY29uc3QgYyA9IENBUkRTW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIENBUkRTLmxlbmd0aCldOyBzZXRNb2RhbCh7IHR5cGU6ICJjYXJkIiwgZGF0YTogYyB9KTsgfX0gLz59CiAgICAgICAgICB7dmlldyA9PT0gInRpbWVsaW5lIiAmJiA8VGltZWxpbmUgZW50cmllcz17ZW50cmllc30gc25hcHM9e3NuYXBzfSByYW5nZT17dGltZVJhbmdlfSBzZXRSYW5nZT17c2V0VGltZVJhbmdlfSBvcGVuRW50cnk9e29wZW5FbnRyeX0gLz59CiAgICAgICAgICB7dmlldyA9PT0gInBhdHRlcm5zIiAmJiA8UGF0dGVybnMgZW50cmllcz17ZW50cmllc30gbW9kZT17cGF0TW9kZX0gc2V0TW9kZT17c2V0UGF0TW9kZX0gcmFuZ2U9e3RpbWVSYW5nZX0gc2V0UmFuZ2U9e3NldFRpbWVSYW5nZX0gLz59CiAgICAgICAgICB7dmlldyA9PT0gInBlcnNwZWN0aXZlIiAmJiA8UGVyc3BlY3RpdmUgZW50cmllcz17ZW50cmllc30gb3BlbkNhcmQ9eyhjKSA9PiBzZXRNb2RhbCh7IHR5cGU6ICJjYXJkIiwgZGF0YTogYyB9KX0gLz59CiAgICAgICAgICB7dmlldyA9PT0gInBhcnRuZXIiICYmIDxQYXJ0bmVyIGVudHJpZXM9e2VudHJpZXN9IHByb2ZpbGU9e3Byb2ZpbGV9IHNuYXBzPXtzbmFwc30gLz59CiAgICAgICAgICB7dmlldyA9PT0gImJlbmNobWFyayIgJiYgPEJlbmNobWFyayBwcm9maWxlPXtwcm9maWxlfSBzbmFwcz17c25hcHN9IGVudHJpZXM9e2VudHJpZXN9IG9wZW5TbmFwPXsoKSA9PiBzZXRNb2RhbCh7IHR5cGU6ICJzbmFwIiB9KX0gb25EZWxldGVTbmFwPXtkZWxTbmFwfSAvPn0KICAgICAgICA8L21haW4+CgogICAgICAgIHsvKiBGQUIgKi99CiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBvcGVuRW50cnkoKX0gc3R5bGU9e2Nzcy5mYWJ9IGFyaWEtbGFiZWw9IkxvZyBpbnRlcmFjdGlvbiI+CiAgICAgICAgICA8c3ZnIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlV2lkdGg9IjIuNSI+PGxpbmUgeDE9IjEyIiB5MT0iNSIgeDI9IjEyIiB5Mj0iMTkiLz48bGluZSB4MT0iNSIgeTE9IjEyIiB4Mj0iMTkiIHkyPSIxMiIvPjwvc3ZnPgogICAgICAgIDwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgTkFWSUdBVElPTgovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKZnVuY3Rpb24gTmF2KHsgdmlldywgZ28gfSkgewogIGNvbnN0IGl0ZW1zID0gWwogICAgeyBpZDogImhvbWUiLCBsYWJlbDogIkhvbWUiLCBpY286ICLiipkiIH0sCiAgICB7IGlkOiAidGltZWxpbmUiLCBsYWJlbDogIlRpbWVsaW5lIiwgaWNvOiAi4pSBIiB9LAogICAgeyBpZDogInBhdHRlcm5zIiwgbGFiZWw6ICJQYXR0ZXJucyIsIGljbzogIuKXqyIgfSwKICAgIHsgaWQ6ICJwZXJzcGVjdGl2ZSIsIGxhYmVsOiAiU2hpZnQiLCBpY286ICLil4ciIH0sCiAgICB7IGlkOiAicGFydG5lciIsIGxhYmVsOiAiUGFydG5lciIsIGljbzogIuKZoSIgfSwKICAgIHsgaWQ6ICJiZW5jaG1hcmsiLCBsYWJlbDogIkJlbmNoIiwgaWNvOiAi4pazIiB9LAogIF07CiAgcmV0dXJuICgKICAgIDxuYXYgc3R5bGU9e2Nzcy5uYXZ9PgogICAgICB7aXRlbXMubWFwKGkgPT4gKAogICAgICAgIDxidXR0b24ga2V5PXtpLmlkfSBvbkNsaWNrPXsoKSA9PiBnbyhpLmlkKX0gc3R5bGU9e3sgLi4uY3NzLm5hdkJ0biwgY29sb3I6IHZpZXcgPT09IGkuaWQgPyBQLndhcm0gOiBQLmRpbSwgYm9yZGVyQm90dG9tOiB2aWV3ID09PSBpLmlkID8gYDJweCBzb2xpZCAke1Aud2FybX1gIDogIjJweCBzb2xpZCB0cmFuc3BhcmVudCIgfX0+CiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTUgfX0+e2kuaWNvfTwvc3Bhbj4KICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAxMCB9fT57aS5sYWJlbH08L3NwYW4+CiAgICAgICAgPC9idXR0b24+CiAgICAgICkpfQogICAgPC9uYXY+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBIT01FCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkApmdW5jdGlvbiBIb21lKHsgZW50cmllcywgcHJvZmlsZSwgc25hcHMsIG9wZW5FbnRyeSwgb3BlblNuYXAsIG9wZW5DYXJkIH0pIHsKICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7CiAgY29uc3QgdG9kYXlOID0gZW50cmllcy5maWx0ZXIoZSA9PiBlLmRhdGUuc2xpY2UoMCwgMTApID09PSB0b2RheSkubGVuZ3RoOwogIGNvbnN0IHdlZWsgPSBlbnRyaWVzLmZpbHRlcihlID0+IGRheXNBZ28oZS5kYXRlKSA8PSA3KTsKICBjb25zdCB3ZWVrUG9zID0gd2Vlay5maWx0ZXIoZSA9PiBlLnJlc3BvbnNlID09PSAicG9zaXRpdmUiIHx8IGUucmVzcG9uc2UgPT09ICJuZXV0cmFsIikubGVuZ3RoOwogIGNvbnN0IGRheXMgPSBwcm9maWxlPy5zdGFydERhdGUgPyBkYXlzQWdvKHByb2ZpbGUuc3RhcnREYXRlKSA6IDA7CiAgY29uc3QgbGFzdFNuYXAgPSBzbmFwcy5sZW5ndGggPyBzbmFwc1tzbmFwcy5sZW5ndGggLSAxXSA6IG51bGw7CiAgY29uc3Qgc25hcER1ZSA9ICFsYXN0U25hcCB8fCBkYXlzQWdvKGxhc3RTbmFwLmRhdGUpID49IDI4OwoKICAvLyBEYWlseSBxdW90ZSAtIGRldGVybWluaXN0aWMgYmFzZWQgb24gZGF5IG51bWJlciBzaW5jZSBlcG9jaAogIGNvbnN0IGRheU51bSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDg2NDAwMDAwKTsKICBjb25zdCBkYWlseVF1b3RlID0gREFJTFlfUVVPVEVTW2RheU51bSAlIERBSUxZX1FVT1RFUy5sZW5ndGhdOwoKICByZXR1cm4gKAogICAgPGRpdj4KICAgICAgey8qIERhaWx5IHF1b3RlICovfQogICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAyMCwgbWFyZ2luQm90dG9tOiAxMiwgYm9yZGVyTGVmdDogYDNweCBzb2xpZCAke1Aud2FybX00NGAsIGJhY2tncm91bmQ6IGBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAke1AuY2FyZH0gMCUsICMxYTE1MjAgMTAwJSlgIH19PgogICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNCwgbGluZUhlaWdodDogMS43LCBmb250U3R5bGU6ICJpdGFsaWMiLCBtYXJnaW46IDAgfX0+IntkYWlseVF1b3RlLnF9IjwvcD4KICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC53YXJtLCBmb250U2l6ZTogMTEsIG1hcmdpbjogIjEwcHggMCAwIiwgb3BhY2l0eTogMC44IH19PuKAlCB7ZGFpbHlRdW90ZS53aG99PC9wPgogICAgICA8L2Rpdj4KICAgICAgey8qIENUQSBjYXJkICovfQogICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHtQLmNhcmR9IDAlLCAke1AuY2FyZDJ9IDEwMCUpYCwgcGFkZGluZzogMjQsIG1hcmdpbkJvdHRvbTogMTIgfX0+CiAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIG1hcmdpbjogIjAgMCAxNHB4IiwgZm9udFNpemU6IDE1IH19PgogICAgICAgICAge3RvZGF5TiA9PT0gMCA/ICJIb3cgZGlkIHRoaW5ncyBnbyB0b2RheT8iIDogYCR7dG9kYXlOfSBpbnRlcmFjdGlvbiR7dG9kYXlOID4gMSA/ICJzIiA6ICIifSBsb2dnZWQgdG9kYXkuYH0KICAgICAgICA8L3A+CiAgICAgICAgPEJ0biBvbkNsaWNrPXsoKSA9PiBvcGVuRW50cnkoKX0+TG9nIGFuIEludGVyYWN0aW9uPC9CdG4+CiAgICAgIDwvZGl2PgoKICAgICAgey8qIFN0YXRzICovfQogICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiA4LCBtYXJnaW5Cb3R0b206IDEyIH19PgogICAgICAgIDxTdGF0IG49e2RheXN9IGw9ImRheXMgdHJhY2tpbmciIC8+CiAgICAgICAgPFN0YXQgbj17ZW50cmllcy5sZW5ndGh9IGw9InRvdGFsIGxvZ2dlZCIgLz4KICAgICAgICA8U3RhdCBuPXt3ZWVrLmxlbmd0aCA+IDAgPyBNYXRoLnJvdW5kKCh3ZWVrUG9zIC8gd2Vlay5sZW5ndGgpICogMTAwKSArICIlIiA6ICLigJQifSBsPSJwb3NpdGl2ZSB0aGlzIHdrIiAvPgogICAgICA8L2Rpdj4KCiAgICAgIHsvKiBTbmFwc2hvdCBwcm9tcHQgKi99CiAgICAgIHtzbmFwRHVlICYmICgKICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29wZW5TbmFwfSBzdHlsZT17Y3NzLnByb21wdH0+CiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTYgfX0+8J+Tijwvc3Bhbj4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSB9fT4KICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTQsIGZvbnRXZWlnaHQ6IDUwMCB9fT5Nb250aGx5IGNoZWNrLWluIHtsYXN0U25hcCA/ICJkdWUiIDogImF2YWlsYWJsZSJ9PC9kaXY+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTIsIG1hcmdpblRvcDogMiB9fT4KICAgICAgICAgICAgICB7bGFzdFNuYXAgPyBgTGFzdCBzbmFwc2hvdCB3YXMgJHtkYXlzQWdvKGxhc3RTbmFwLmRhdGUpfSBkYXlzIGFnby5gIDogIlRha2UgeW91ciBmaXJzdCBzbmFwc2hvdCB0byBzdGFydCB0cmFja2luZyBwcm9ncmVzcy4ifSBDb21wYXJlIHdoZXJlIHRoaW5ncyBzdGFuZCBvdmVyIHRpbWUuCiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9idXR0b24+CiAgICAgICl9CgogICAgICB7LyogUGVyc3BlY3RpdmUgc2hvcnRjdXQgKi99CiAgICAgIDxidXR0b24gb25DbGljaz17b3BlbkNhcmR9IHN0eWxlPXt7IC4uLmNzcy5wcm9tcHQsIGJvcmRlckNvbG9yOiAiIzI5MjMyZSIgfX0+CiAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6IDE2IH19PuKXhzwvc3Bhbj4KICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IDEgfX0+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNCwgZm9udFdlaWdodDogNTAwIH19Pk5lZWQgYSBwZXJzcGVjdGl2ZSBzaGlmdD88L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTIsIG1hcmdpblRvcDogMiB9fT5SZXNlYXJjaC1iYWNrZWQgcmVmcmFtZXMgZm9yIHdoZW4gdGhpbmdzIGZlZWwgaGVhdnkuPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvYnV0dG9uPgoKICAgICAgey8qIFJlY2VudCAqL30KICAgICAge2VudHJpZXMubGVuZ3RoID4gMCAmJiA8U2VjdGlvblRpdGxlPlJlY2VudDwvU2VjdGlvblRpdGxlPn0KICAgICAge2VudHJpZXMuc2xpY2UoMCwgNSkubWFwKGUgPT4gPEVudHJ5Um93IGtleT17ZS5pZH0gZW50cnk9e2V9IG9uQ2xpY2s9eygpID0+IG9wZW5FbnRyeShlKX0gLz4pfQogICAgPC9kaXY+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBUSU1FTElORQovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKZnVuY3Rpb24gVGltZWxpbmUoeyBlbnRyaWVzLCBzbmFwcywgcmFuZ2UsIHNldFJhbmdlLCBvcGVuRW50cnkgfSkgewogIGNvbnN0IHJhbmdlcyA9IHsgIjFtIjogMzAsICIzbSI6IDkwLCAiNm0iOiAxODAsICIxeSI6IDM2NSwgYWxsOiA5OTk5OSB9OwogIGNvbnN0IGN1dCA9IERhdGUubm93KCkgLSByYW5nZXNbcmFuZ2VdICogODY0MDAwMDA7CiAgY29uc3QgZmlsID0gdXNlTWVtbygoKSA9PgogICAgZW50cmllcy5maWx0ZXIoZSA9PiBuZXcgRGF0ZShlLmRhdGUpLmdldFRpbWUoKSA+PSBjdXQpLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGEuZGF0ZSkgLSBuZXcgRGF0ZShiLmRhdGUpKSwKICAgIFtlbnRyaWVzLCBjdXRdCiAgKTsKCiAgLy8gR3JvdXAgYnkgY2FsZW5kYXIgZGF0ZSBzdHJpbmcgKFlZWVktTU0tREQgaW4gbG9jYWwgdGltZSkKICBjb25zdCBncm91cHMgPSB1c2VNZW1vKCgpID0+IHsKICAgIGNvbnN0IG0gPSB7fTsKICAgIGZpbC5mb3JFYWNoKGUgPT4gewogICAgICBjb25zdCBkID0gbmV3IERhdGUoZS5kYXRlKTsKICAgICAgY29uc3QgayA9IGAke2QuZ2V0RnVsbFllYXIoKX0tJHtTdHJpbmcoZC5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgIjAiKX0tJHtTdHJpbmcoZC5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICIwIil9YDsKICAgICAgaWYgKCFtW2tdKSBtW2tdID0gW107CiAgICAgIG1ba10ucHVzaChlKTsKICAgIH0pOwogICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKG0pLnNvcnQoKFthXSwgW2JdKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpLm1hcCgoW2ssIHZdKSA9PiAoeyBrZXk6IGssIGVudHJpZXM6IHYgfSkpOwogIH0sIFtmaWxdKTsKCiAgY29uc3Qgc2NvcmVzID0gZ3JvdXBzLm1hcChnID0+IHsKICAgIGNvbnN0IHMgPSBnLmVudHJpZXMubWFwKGUgPT4gUkVTUE9OU0VTLmZpbmQociA9PiByLmlkID09PSBlLnJlc3BvbnNlKT8uc2NvcmUgPz8gMik7CiAgICByZXR1cm4geyAuLi5nLCBhdmc6IHMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBzLmxlbmd0aCwgY291bnQ6IGcuZW50cmllcy5sZW5ndGggfTsKICB9KTsKCiAgLy8gU21hbGwgbXVsdGlwbGVzOiBwZXIgcmVzcG9uc2UgdHlwZSwgZGFpbHkgY291bnQgb3ZlciB0aW1lCiAgY29uc3QgW3Nlcmllc0ZpbHRlciwgc2V0U2VyaWVzRmlsdGVyXSA9IHVzZVN0YXRlKCJhbGwiKTsKICBjb25zdCBzZXJpZXNEYXRhID0gdXNlTWVtbygoKSA9PiB7CiAgICBjb25zdCBhbGxEYXRlcyA9IGdyb3Vwcy5tYXAoZyA9PiBnLmtleSk7CiAgICByZXR1cm4gUkVTUE9OU0VTLm1hcChyID0+IHsKICAgICAgY29uc3QgY291bnRzID0gZ3JvdXBzLm1hcChnID0+IGcuZW50cmllcy5maWx0ZXIoZSA9PiBlLnJlc3BvbnNlID09PSByLmlkKS5sZW5ndGgpOwogICAgICByZXR1cm4geyAuLi5yLCBjb3VudHMsIGRhdGVzOiBhbGxEYXRlcyB9OwogICAgfSk7CiAgfSwgW2dyb3Vwc10pOwoKICAvLyBTaW1wbGUgbW92aW5nIGF2ZXJhZ2UgdHJlbmRsaW5lICh3aW5kb3c9MykKICBjb25zdCB0cmVuZCA9IChhcnIpID0+IHsKICAgIGlmIChhcnIubGVuZ3RoIDwgMykgcmV0dXJuIGFycjsKICAgIHJldHVybiBhcnIubWFwKChfLCBpKSA9PiB7CiAgICAgIGNvbnN0IHN0YXJ0ID0gTWF0aC5tYXgoMCwgaSAtIDEpOwogICAgICBjb25zdCBlbmQgPSBNYXRoLm1pbihhcnIubGVuZ3RoLCBpICsgMik7CiAgICAgIGNvbnN0IHNsaWNlID0gYXJyLnNsaWNlKHN0YXJ0LCBlbmQpOwogICAgICByZXR1cm4gc2xpY2UucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBzbGljZS5sZW5ndGg7CiAgICB9KTsKICB9OwoKICBjb25zdCBmbXRLZXkgPSAoaykgPT4gewogICAgY29uc3QgW3ksIG0sIGRdID0gay5zcGxpdCgiLSIpOwogICAgY29uc3QgbW9udGhzID0gWyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXTsKICAgIHJldHVybiBgJHttb250aHNbcGFyc2VJbnQobSkgLSAxXX0gJHtwYXJzZUludChkKX0sICcke3kuc2xpY2UoMil9YDsKICB9OwoKICAvLyBBZ2dyZWdhdGUgZGFpbHkgZ3JvdXBzIGludG8gd2Vla2x5IGJ1Y2tldHMgZm9yIGNsZWFuZXIgY2hhcnRzCiAgY29uc3Qgd2Vla2x5U2VyaWVzRGF0YSA9IHVzZU1lbW8oKCkgPT4gewogICAgaWYgKGdyb3Vwcy5sZW5ndGggPD0gMzApIHJldHVybiBudWxsOyAvLyB1c2UgZGFpbHkgZm9yIHNtYWxsIGRhdGFzZXRzCiAgICBjb25zdCB3ZWVrTWFwID0ge307CiAgICBncm91cHMuZm9yRWFjaChnID0+IHsKICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKGcua2V5KTsKICAgICAgLy8gV2VlayBrZXk6IHllYXIgKyBJU08gd2VlayBudW1iZXIKICAgICAgY29uc3QgamFuMSA9IG5ldyBEYXRlKGQuZ2V0RnVsbFllYXIoKSwgMCwgMSk7CiAgICAgIGNvbnN0IHdrID0gTWF0aC5jZWlsKCgoZCAtIGphbjEpIC8gODY0MDAwMDAgKyBqYW4xLmdldERheSgpICsgMSkgLyA3KTsKICAgICAgY29uc3Qgd0tleSA9IGAke2QuZ2V0RnVsbFllYXIoKX0tVyR7U3RyaW5nKHdrKS5wYWRTdGFydCgyLCAiMCIpfWA7CiAgICAgIGlmICghd2Vla01hcFt3S2V5XSkgd2Vla01hcFt3S2V5XSA9IHsga2V5OiB3S2V5LCBlbnRyaWVzOiBbXSwgZmlyc3REYXRlOiBnLmtleSB9OwogICAgICB3ZWVrTWFwW3dLZXldLmVudHJpZXMucHVzaCguLi5nLmVudHJpZXMpOwogICAgfSk7CiAgICBjb25zdCB3ZWVrcyA9IE9iamVjdC52YWx1ZXMod2Vla01hcCkuc29ydCgoYSwgYikgPT4gYS5rZXkubG9jYWxlQ29tcGFyZShiLmtleSkpOwogICAgcmV0dXJuIFJFU1BPTlNFUy5tYXAociA9PiB7CiAgICAgIGNvbnN0IGNvdW50cyA9IHdlZWtzLm1hcCh3ID0+IHcuZW50cmllcy5maWx0ZXIoZSA9PiBlLnJlc3BvbnNlID09PSByLmlkKS5sZW5ndGgpOwogICAgICByZXR1cm4geyAuLi5yLCBjb3VudHMsIGRhdGVzOiB3ZWVrcy5tYXAodyA9PiB3LmZpcnN0RGF0ZSkgfTsKICAgIH0pOwogIH0sIFtncm91cHNdKTsKCiAgY29uc3Qgd2Vla2x5TWF4WSA9IHVzZU1lbW8oKCkgPT4gewogICAgaWYgKCF3ZWVrbHlTZXJpZXNEYXRhKSByZXR1cm4gMDsKICAgIGxldCBteCA9IDA7CiAgICB3ZWVrbHlTZXJpZXNEYXRhLmZvckVhY2gocyA9PiBzLmNvdW50cy5mb3JFYWNoKGMgPT4geyBpZiAoYyA+IG14KSBteCA9IGM7IH0pKTsKICAgIHJldHVybiBteDsKICB9LCBbd2Vla2x5U2VyaWVzRGF0YV0pOwoKICBjb25zdCB1c2VXZWVrbHkgPSB3ZWVrbHlTZXJpZXNEYXRhICYmIGdyb3Vwcy5sZW5ndGggPiAzMDsKCiAgLy8gU1ZHIHNtYWxsIG11bHRpcGxlIGNoYXJ0CiAgY29uc3QgU21hbGxNdWx0aXBsZSA9ICh7IGRhdGEsIG1heFkgfSkgPT4gewogICAgY29uc3QgdyA9IDI4MCwgaCA9IDYwLCBwYWRMID0gMCwgcGFkUiA9IDQ7CiAgICBjb25zdCBuID0gZGF0YS5jb3VudHMubGVuZ3RoOwogICAgaWYgKG4gPT09IDApIHJldHVybiBudWxsOwogICAgY29uc3QgY01heCA9IE1hdGgubWF4KG1heFksIDEpOwogICAgY29uc3QgeFN0ZXAgPSBuID4gMSA/ICh3IC0gcGFkTCAtIHBhZFIpIC8gKG4gLSAxKSA6IDA7CgogICAgY29uc3QgcG9pbnRzID0gZGF0YS5jb3VudHMubWFwKChjLCBpKSA9PiAoeyB4OiBwYWRMICsgaSAqIHhTdGVwLCB5OiBoIC0gNCAtIChjIC8gY01heCkgKiAoaCAtIDgpIH0pKTsKICAgIGNvbnN0IHRyZW5kVmFscyA9IHRyZW5kKGRhdGEuY291bnRzKTsKICAgIGNvbnN0IHRyZW5kUHRzID0gdHJlbmRWYWxzLm1hcCgoYywgaSkgPT4gKHsgeDogcGFkTCArIGkgKiB4U3RlcCwgeTogaCAtIDQgLSAoYyAvIGNNYXgpICogKGggLSA4KSB9KSk7CgogICAgY29uc3QgdHJlbmREID0gdHJlbmRQdHMubWFwKChwLCBpKSA9PiBgJHtpID09PSAwID8gIk0iIDogIkwifSR7cC54fSwke3AueX1gKS5qb2luKCIgIik7CiAgICAvLyBBcmVhIHVuZGVyIHRyZW5kCiAgICBjb25zdCBhcmVhRCA9IHRyZW5kRCArIGAgTCR7dHJlbmRQdHNbdHJlbmRQdHMubGVuZ3RoIC0gMV0ueH0sJHtoIC0gNH0gTCR7dHJlbmRQdHNbMF0ueH0sJHtoIC0gNH0gWmA7CgogICAgcmV0dXJuICgKICAgICAgPHN2ZyB2aWV3Qm94PXtgMCAwICR7d30gJHtofWB9IHN0eWxlPXt7IHdpZHRoOiAiMTAwJSIsIGhlaWdodDogaCwgZGlzcGxheTogImJsb2NrIiB9fT4KICAgICAgICA8bGluZSB4MT17cGFkTH0geTE9e2ggLSA0fSB4Mj17dyAtIHBhZFJ9IHkyPXtoIC0gNH0gc3Ryb2tlPXtQLmJvcmRlcn0gc3Ryb2tlV2lkdGg9IjAuNSIgLz4KICAgICAgICB7LyogQXJlYSBmaWxsIHVuZGVyIHRyZW5kICovfQogICAgICAgIDxwYXRoIGQ9e2FyZWFEfSBmaWxsPXtkYXRhLmMgKyAiMTUifSAvPgogICAgICAgIHsvKiBUcmVuZCBsaW5lIChib2xkKSAqL30KICAgICAgICA8cGF0aCBkPXt0cmVuZER9IGZpbGw9Im5vbmUiIHN0cm9rZT17ZGF0YS5jfSBzdHJva2VXaWR0aD0iMiIgLz4KICAgICAgICB7LyogU2hvdyBkb3RzIG9ubHkgd2hlbiBmZXcgcG9pbnRzICovfQogICAgICAgIHtuIDw9IDMwICYmIHBvaW50cy5tYXAoKHAsIGkpID0+IDxjaXJjbGUga2V5PXtpfSBjeD17cC54fSBjeT17cC55fSByPSIyIiBmaWxsPXtkYXRhLmN9IG9wYWNpdHk9IjAuNSIgLz4pfQogICAgICA8L3N2Zz4KICAgICk7CiAgfTsKCiAgY29uc3QgZ2xvYmFsTWF4RGFpbHkgPSB1c2VNZW1vKCgpID0+IHsKICAgIGxldCBteCA9IDA7CiAgICBncm91cHMuZm9yRWFjaChnID0+IHsKICAgICAgUkVTUE9OU0VTLmZvckVhY2gociA9PiB7CiAgICAgICAgY29uc3QgYyA9IGcuZW50cmllcy5maWx0ZXIoZSA9PiBlLnJlc3BvbnNlID09PSByLmlkKS5sZW5ndGg7CiAgICAgICAgaWYgKGMgPiBteCkgbXggPSBjOwogICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIG14OwogIH0sIFtncm91cHNdKTsKCiAgY29uc3QgZmlsdGVyZWRTZXJpZXMgPSBzZXJpZXNGaWx0ZXIgPT09ICJhbGwiCiAgICA/ICh1c2VXZWVrbHkgPyB3ZWVrbHlTZXJpZXNEYXRhIDogc2VyaWVzRGF0YSkKICAgIDogKHVzZVdlZWtseSA/IHdlZWtseVNlcmllc0RhdGEgOiBzZXJpZXNEYXRhKS5maWx0ZXIocyA9PiBzLmlkID09PSBzZXJpZXNGaWx0ZXIpOwoKICByZXR1cm4gKAogICAgPGRpdj4KICAgICAgPFRhYnMgaXRlbXM9e09iamVjdC5rZXlzKHJhbmdlcykubWFwKHIgPT4gciA9PT0gImFsbCIgPyAiQWxsIiA6IHIpfSBhY3RpdmU9e3JhbmdlID09PSAiYWxsIiA/ICJBbGwiIDogcmFuZ2V9IG9uUGljaz17KHYpID0+IHNldFJhbmdlKHYgPT09ICJBbGwiID8gImFsbCIgOiB2KX0gLz4KCiAgICAgIHtmaWwubGVuZ3RoID09PSAwID8gKAogICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAiY2VudGVyIiwgcGFkZGluZzogIjQ4cHggMjBweCIgfX0+CiAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0gfX0+Tm8gZW50cmllcyBpbiB0aGlzIHJhbmdlIHlldC48L3A+CiAgICAgICAgPC9kaXY+CiAgICAgICkgOiAoCiAgICAgICAgPD4KICAgICAgICAgIHsvKiBEYWlseSB0b25lIGJhciBjaGFydCAqL30KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDEyIH19PgogICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMiwgbWFyZ2luOiAiMCAwIDEwcHgiIH19PkRhaWx5IGVtb3Rpb25hbCB0b25lICh0YWxsZXIgPSBtb3JlIHBvc2l0aXZlKTwvcD4KICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogMiwgYWxpZ25JdGVtczogImZsZXgtZW5kIiwgaGVpZ2h0OiA4MCB9fT4KICAgICAgICAgICAgICB7c2NvcmVzLm1hcCgoZywgaSkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgaFB4ID0gTWF0aC5tYXgoTWF0aC5yb3VuZCgoZy5hdmcgLyA0KSAqIDcwKSwgNCk7CiAgICAgICAgICAgICAgICBjb25zdCBjID0gZy5hdmcgPj0gMyA/IFAuZ3JlZW4gOiBnLmF2ZyA+PSAyID8gUC5ibHVlIDogZy5hdmcgPj0gMSA/IFAucm9zZSA6IFAucmVkOwogICAgICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l9IHN0eWxlPXt7IGZsZXg6IDEsIG1heFdpZHRoOiAyOCB9fT4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiAiMTAwJSIsIGhlaWdodDogaFB4LCBiYWNrZ3JvdW5kOiBjLCBib3JkZXJSYWRpdXM6ICIzcHggM3B4IDAgMCIgfX0gLz4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0pfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogMTAsIG1hcmdpblRvcDogMTAsIGZsZXhXcmFwOiAid3JhcCIgfX0+CiAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6IDEwLCBjb2xvcjogUC5yZWQgfX0+4pePIFZlcnkgaGFyZDwvc3Bhbj4KICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTAsIGNvbG9yOiBQLnJvc2UgfX0+4pePIERpZmZpY3VsdDwvc3Bhbj4KICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTAsIGNvbG9yOiBQLmJsdWUgfX0+4pePIE1peGVkPC9zcGFuPgogICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAxMCwgY29sb3I6IFAuZ3JlZW4gfX0+4pePIFBvc2l0aXZlPC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIHsvKiBTbWFsbCBtdWx0aXBsZXMgdGltZSBzZXJpZXMgKi99CiAgICAgICAgICB7Z3JvdXBzLmxlbmd0aCA+PSAyICYmICgKICAgICAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogMTIgfX0+CiAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTIsIG1hcmdpbjogIjAgMCA4cHgiIH19PlJlc3BvbnNlIGZyZXF1ZW5jeSBvdmVyIHRpbWUge3VzZVdlZWtseSA/ICIod2Vla2x5KSIgOiAiKGRhaWx5KSJ9IOKAlCB0cmVuZCBsaW5lIHNob3dzIGRpcmVjdGlvbjwvcD4KICAgICAgICAgICAgICB7LyogRmlsdGVyICovfQogICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBnYXA6IDQsIG1hcmdpbkJvdHRvbTogMTIsIGZsZXhXcmFwOiAid3JhcCIgfX0+CiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNlcmllc0ZpbHRlcigiYWxsIil9IHN0eWxlPXt7IC4uLmNzc19jaGlwKHNlcmllc0ZpbHRlciA9PT0gImFsbCIsIFAud2FybSkgfX0+QWxsPC9idXR0b24+CiAgICAgICAgICAgICAgICB7UkVTUE9OU0VTLm1hcChyID0+ICgKICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBrZXk9e3IuaWR9IG9uQ2xpY2s9eygpID0+IHNldFNlcmllc0ZpbHRlcihyLmlkKX0gc3R5bGU9e3sgLi4uY3NzX2NoaXAoc2VyaWVzRmlsdGVyID09PSByLmlkLCByLmMpIH19PntyLmljb259IHtyLmxhYmVsfTwvYnV0dG9uPgogICAgICAgICAgICAgICAgKSl9CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAge2ZpbHRlcmVkU2VyaWVzLm1hcChzID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGhhc0RhdGEgPSBzLmNvdW50cy5zb21lKGMgPT4gYyA+IDApOwogICAgICAgICAgICAgICAgaWYgKCFoYXNEYXRhKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtzLmlkfSBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDEwIH19PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBhbGlnbkl0ZW1zOiAiY2VudGVyIiwgZ2FwOiA2LCBtYXJnaW5Cb3R0b206IDIgfX0+CiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTIsIGNvbG9yOiBzLmMgfX0+e3MuaWNvbn08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTEsIGNvbG9yOiBzLmMsIGZvbnRXZWlnaHQ6IDUwMCB9fT57cy5sYWJlbH08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTAsIGNvbG9yOiBQLmRpbSB9fT4oe3MuY291bnRzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApfSB0b3RhbCk8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPFNtYWxsTXVsdGlwbGUgZGF0YT17c30gbWF4WT17dXNlV2Vla2x5ID8gd2Vla2x5TWF4WSA6IGdsb2JhbE1heERhaWx5fSAvPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgfSl9CiAgICAgICAgICAgICAgey8qIFggYXhpcyBsYWJlbHMgKi99CiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGp1c3RpZnlDb250ZW50OiAic3BhY2UtYmV0d2VlbiIsIG1hcmdpblRvcDogMiB9fT4KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLmRpbW1lciwgZm9udFNpemU6IDkgfX0+e2ZtdEtleShncm91cHNbMF0ua2V5KX08L3NwYW4+CiAgICAgICAgICAgICAgICB7Z3JvdXBzLmxlbmd0aCA+IDIgJiYgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltbWVyLCBmb250U2l6ZTogOSB9fT57Zm10S2V5KGdyb3Vwc1tNYXRoLmZsb29yKGdyb3Vwcy5sZW5ndGggLyAyKV0ua2V5KX08L3NwYW4+fQogICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltbWVyLCBmb250U2l6ZTogOSB9fT57Zm10S2V5KGdyb3Vwc1tncm91cHMubGVuZ3RoIC0gMV0ua2V5KX08L3NwYW4+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKX0KCiAgICAgICAgICB7LyogU3RhdHMgKi99CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiA4LCBtYXJnaW5Cb3R0b206IDEyIH19PgogICAgICAgICAgICA8U3RhdCBuPXtmaWwubGVuZ3RofSBsPSJpbnRlcmFjdGlvbnMiIC8+CiAgICAgICAgICAgIDxTdGF0IG49e2ZpbC5maWx0ZXIoZSA9PiBlLnJlc3BvbnNlID09PSAicG9zaXRpdmUiIHx8IGUucmVzcG9uc2UgPT09ICJuZXV0cmFsIikubGVuZ3RofSBsPSJwb3NpdGl2ZSAvIG5ldXRyYWwiIC8+CiAgICAgICAgICAgIDxTdGF0IG49e2ZpbC5maWx0ZXIoZSA9PiBlLnJlc3BvbnNlID09PSAicmVqZWN0aW9uIiB8fCBlLnJlc3BvbnNlID09PSAiZXNjYWxhdGlvbiIpLmxlbmd0aH0gbD0icmVqZWN0aW9ucyIgLz4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIHsvKiBFbnRyaWVzIHdpdGggc25hcHNob3QgbWFya2VycyBpbnRlcmxlYXZlZCAqL30KICAgICAgICAgIHsoKCkgPT4gewogICAgICAgICAgICBjb25zdCBzbmFwc0J5RGF0ZSA9IHt9OwogICAgICAgICAgICBzbmFwcy5mb3JFYWNoKHMgPT4gewogICAgICAgICAgICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShzLmRhdGUpOwogICAgICAgICAgICAgIGNvbnN0IGsgPSBgJHtkLmdldEZ1bGxZZWFyKCl9LSR7U3RyaW5nKGQuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICIwIil9LSR7U3RyaW5nKGQuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAiMCIpfWA7CiAgICAgICAgICAgICAgc25hcHNCeURhdGVba10gPSBzOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBmaWwuc2xpY2UoMCwgNjApLm1hcChlID0+ICh7IHR5cGU6ICJlbnRyeSIsIGRhdGE6IGUsIGRhdGU6IG5ldyBEYXRlKGUuZGF0ZSkgfSkpOwogICAgICAgICAgICAvLyBJbnNlcnQgc25hcCBtYXJrZXJzCiAgICAgICAgICAgIHNuYXBzLmZvckVhY2gocyA9PiB7CiAgICAgICAgICAgICAgY29uc3Qgc2QgPSBuZXcgRGF0ZShzLmRhdGUpOwogICAgICAgICAgICAgIGlmIChzZC5nZXRUaW1lKCkgPj0gY3V0KSBpdGVtcy5wdXNoKHsgdHlwZTogInNuYXAiLCBkYXRhOiBzLCBkYXRlOiBzZCB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGl0ZW1zLnNvcnQoKGEsIGIpID0+IGIuZGF0ZSAtIGEuZGF0ZSk7CiAgICAgICAgICAgIHJldHVybiBpdGVtcy5tYXAoKGl0ZW0sIGkpID0+IHsKICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAiZW50cnkiKSByZXR1cm4gPEVudHJ5Um93IGtleT17aXRlbS5kYXRhLmlkfSBlbnRyeT17aXRlbS5kYXRhfSBvbkNsaWNrPXsoKSA9PiBvcGVuRW50cnkoaXRlbS5kYXRhKX0gLz47CiAgICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgIDxkaXYga2V5PXsic25hcC0iICsgaXRlbS5kYXRhLmlkfSBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGFsaWduSXRlbXM6ICJjZW50ZXIiLCBnYXA6IDgsIHBhZGRpbmc6ICI4cHggMTJweCIsIG1hcmdpbjogIjRweCAwIiwgYm9yZGVyTGVmdDogYDNweCBzb2xpZCAke1AucHVycGxlfWAsIGJhY2tncm91bmQ6IFAuY2FyZDIsIGJvcmRlclJhZGl1czogIjAgOHB4IDhweCAwIiB9fT4KICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6IDEzIH19PvCfk4o8L3NwYW4+CiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSB9fT4KICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5wdXJwbGUsIGZvbnRTaXplOiAxMSwgZm9udFdlaWdodDogNTAwIH19PlByb2dyZXNzIHNuYXBzaG90PC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEwLCBtYXJnaW5MZWZ0OiA2IH19PntmbXRTaG9ydFlyKGl0ZW0uZGF0YS5kYXRlKX08L3NwYW4+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KSgpfQogICAgICAgICAge2ZpbC5sZW5ndGggPiA2MCAmJiA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMiwgdGV4dEFsaWduOiAiY2VudGVyIiwgcGFkZGluZzogMTIgfX0+U2hvd2luZyA2MCBvZiB7ZmlsLmxlbmd0aH08L3A+fQogICAgICAgIDwvPgogICAgICApfQogICAgPC9kaXY+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBQQVRURVJOUwovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKZnVuY3Rpb24gUGF0dGVybnMoeyBlbnRyaWVzLCBtb2RlLCBzZXRNb2RlLCByYW5nZSwgc2V0UmFuZ2UgfSkgewogIGNvbnN0IHJhbmdlcyA9IHsgIjFtIjogMzAsICIzbSI6IDkwLCAiNm0iOiAxODAsICIxeSI6IDM2NSwgYWxsOiA5OTk5OSB9OwogIGNvbnN0IGN1dCA9IERhdGUubm93KCkgLSByYW5nZXNbcmFuZ2VdICogODY0MDAwMDA7CiAgY29uc3QgZmlsID0gdXNlTWVtbygoKSA9PiBlbnRyaWVzLmZpbHRlcihlID0+IG5ldyBEYXRlKGUuZGF0ZSkuZ2V0VGltZSgpID49IGN1dCksIFtlbnRyaWVzLCBjdXRdKTsKCiAgY29uc3QgYVBhdHMgPSB1c2VNZW1vKCgpID0+IHsKICAgIGNvbnN0IG0gPSB7fTsKICAgIEFDVElPTlMuZm9yRWFjaChhID0+IHsgbVthLmlkXSA9IHsgdG90YWw6IDAgfTsgUkVTUE9OU0VTLmZvckVhY2gociA9PiB7IG1bYS5pZF1bci5pZF0gPSAwOyB9KTsgfSk7CiAgICBmaWwuZm9yRWFjaChlID0+IHsgaWYgKG1bZS5hY3Rpb25dKSB7IG1bZS5hY3Rpb25dLnRvdGFsKys7IG1bZS5hY3Rpb25dW2UucmVzcG9uc2VdKys7IH0gfSk7CiAgICByZXR1cm4gbTsKICB9LCBbZmlsXSk7CgogIGNvbnN0IGNQYXRzID0gdXNlTWVtbygoKSA9PiB7CiAgICBjb25zdCBtID0ge307CiAgICBmaWwuZm9yRWFjaChlID0+IHsKICAgICAgKGUuY29udGV4dHMgfHwgW10pLmZvckVhY2goYyA9PiB7CiAgICAgICAgaWYgKCFtW2NdKSB7IG1bY10gPSB7IHRvdGFsOiAwIH07IFJFU1BPTlNFUy5mb3JFYWNoKHIgPT4geyBtW2NdW3IuaWRdID0gMDsgfSk7IH0KICAgICAgICBtW2NdLnRvdGFsKys7IG1bY11bZS5yZXNwb25zZV0rKzsKICAgICAgfSk7CiAgICB9KTsKICAgIHJldHVybiBtOwogIH0sIFtmaWxdKTsKCiAgY29uc3QgcmFua2VkID0gQUNUSU9OUy5tYXAoYSA9PiB7CiAgICBjb25zdCBwID0gYVBhdHNbYS5pZF07IGlmIChwLnRvdGFsIDwgMykgcmV0dXJuIG51bGw7CiAgICBjb25zdCBwb3MgPSAoKHAucG9zaXRpdmUgKyBwLm5ldXRyYWwpIC8gcC50b3RhbCkgKiAxMDA7CiAgICByZXR1cm4geyAuLi5hLCBwb3MsIHRvdGFsOiBwLnRvdGFsIH07CiAgfSkuZmlsdGVyKEJvb2xlYW4pLnNvcnQoKGEsIGIpID0+IGIucG9zIC0gYS5wb3MpOwoKICBpZiAoZmlsLmxlbmd0aCA8IDEwKSByZXR1cm4gKAogICAgPGRpdj4KICAgICAgPFRhYnMgaXRlbXM9e09iamVjdC5rZXlzKHJhbmdlcykubWFwKHIgPT4gciA9PT0gImFsbCIgPyAiQWxsIiA6IHIpfSBhY3RpdmU9e3JhbmdlID09PSAiYWxsIiA/ICJBbGwiIDogcmFuZ2V9IG9uUGljaz17KHYpID0+IHNldFJhbmdlKHYgPT09ICJBbGwiID8gImFsbCIgOiB2KX0gLz4KICAgICAgPGRpdiBzdHlsZT17eyB0ZXh0QWxpZ246ICJjZW50ZXIiLCBwYWRkaW5nOiAiNDhweCAxNnB4IiB9fT4KICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTYsIG1hcmdpbkJvdHRvbTogOCB9fT5CdWlsZGluZyB5b3VyIHBhdHRlcm5z4oCmPC9wPgogICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDE0IH19Pk5lZWQgYXQgbGVhc3QgMTAgaW50ZXJhY3Rpb25zIGluIHRoaXMgcmFuZ2UgKHtmaWwubGVuZ3RofSBmb3VuZCkue3JhbmdlICE9PSAiYWxsIiAmJiAiIFRyeSBhIGxvbmdlciB0aW1lIHJhbmdlLiJ9PC9wPgogICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luOiAiMjBweCBhdXRvIiwgbWF4V2lkdGg6IDI0MCB9fT4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiA2LCBiYWNrZ3JvdW5kOiBQLmJvcmRlciwgYm9yZGVyUmFkaXVzOiAzLCBvdmVyZmxvdzogImhpZGRlbiIgfX0+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiAiMTAwJSIsIHdpZHRoOiBgJHtNYXRoLm1pbigxMDAsIChmaWwubGVuZ3RoIC8gMTApICogMTAwKX0lYCwgYmFja2dyb3VuZDogYGxpbmVhci1ncmFkaWVudCg5MGRlZywgJHtQLndhcm19LCAke1AuZ3JlZW59KWAsIGJvcmRlclJhZGl1czogMyB9fSAvPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMSwgbWFyZ2luVG9wOiA2IH19PntmaWwubGVuZ3RofS8xMDwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICApOwoKCiAgcmV0dXJuICgKICAgIDxkaXY+CiAgICAgIDxUYWJzIGl0ZW1zPXtPYmplY3Qua2V5cyhyYW5nZXMpLm1hcChyID0+IHIgPT09ICJhbGwiID8gIkFsbCIgOiByKX0gYWN0aXZlPXtyYW5nZSA9PT0gImFsbCIgPyAiQWxsIiA6IHJhbmdlfSBvblBpY2s9eyh2KSA9PiBzZXRSYW5nZSh2ID09PSAiQWxsIiA/ICJhbGwiIDogdil9IC8+CiAgICAgIDxUYWJzIGl0ZW1zPXtbIkJ5IEFjdGlvbiIsICJCeSBDb250ZXh0IiwgIkluc2lnaHRzIl19IGFjdGl2ZT17bW9kZSA9PT0gImFjdGlvbiIgPyAiQnkgQWN0aW9uIiA6IG1vZGUgPT09ICJjb250ZXh0IiA/ICJCeSBDb250ZXh0IiA6ICJJbnNpZ2h0cyJ9IG9uUGljaz17diA9PiBzZXRNb2RlKHYgPT09ICJCeSBBY3Rpb24iID8gImFjdGlvbiIgOiB2ID09PSAiQnkgQ29udGV4dCIgPyAiY29udGV4dCIgOiAiaW5zaWdodHMiKX0gLz4KCiAgICAgIHttb2RlID09PSAiYWN0aW9uIiAmJiAoCiAgICAgICAgPGRpdj4KICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEzLCBtYXJnaW5Cb3R0b206IDE0IH19PkhvdyB5b3VyIHN0ZXBjaGlsZCByZXNwb25kcyB0byBlYWNoIHR5cGUgb2YgYWN0aW9uLjwvcD4KICAgICAgICAgIHsvKiBMZWdlbmQgKi99CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiA4LCBtYXJnaW5Cb3R0b206IDEyLCBmbGV4V3JhcDogIndyYXAiIH19PgogICAgICAgICAgICB7Wy4uLlJFU1BPTlNFU10ucmV2ZXJzZSgpLm1hcChyID0+IDxzcGFuIGtleT17ci5pZH0gc3R5bGU9e3sgZm9udFNpemU6IDEwLCBjb2xvcjogci5jIH19PntyLmljb259IHtyLmxhYmVsfTwvc3Bhbj4pfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgICB7QUNUSU9OUy5tYXAoYSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHAgPSBhUGF0c1thLmlkXTsgaWYgKHAudG90YWwgPT09IDApIHJldHVybiBudWxsOwogICAgICAgICAgICBjb25zdCByZXZlcnNlZCA9IFsuLi5SRVNQT05TRVNdLnJldmVyc2UoKTsKICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICA8ZGl2IGtleT17YS5pZH0gc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE0LCBtYXJnaW5Cb3R0b206IDggfX0+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiwgbWFyZ2luQm90dG9tOiA4IH19PgogICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogYS5jLCBmb250U2l6ZTogMTMgfX0+e2EuaWNvbn0ge2EubGFiZWx9PC9zcGFuPgogICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMSB9fT57cC50b3RhbH0gbG9nZ2VkPC9zcGFuPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgaGVpZ2h0OiAyMCwgYm9yZGVyUmFkaXVzOiA1LCBvdmVyZmxvdzogImhpZGRlbiIgfX0+CiAgICAgICAgICAgICAgICAgIHtyZXZlcnNlZC5tYXAociA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGN0ID0gKHBbci5pZF0gLyBwLnRvdGFsKSAqIDEwMDsKICAgICAgICAgICAgICAgICAgICBpZiAocGN0ID09PSAwKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gPGRpdiBrZXk9e3IuaWR9IHN0eWxlPXt7IHdpZHRoOiBgJHtwY3R9JWAsIGJhY2tncm91bmQ6IHIuYyArICI4OCIsIGRpc3BsYXk6ICJmbGV4IiwgYWxpZ25JdGVtczogImNlbnRlciIsIGp1c3RpZnlDb250ZW50OiAiY2VudGVyIiB9fT4KICAgICAgICAgICAgICAgICAgICAgIHtwY3QgPiAxOCAmJiA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogOSwgY29sb3I6ICIjZmZmIiB9fT57TWF0aC5yb3VuZChwY3QpfSU8L3NwYW4+fQogICAgICAgICAgICAgICAgICAgIDwvZGl2PjsKICAgICAgICAgICAgICAgICAgfSl9CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBnYXA6IDgsIG1hcmdpblRvcDogNiwgZmxleFdyYXA6ICJ3cmFwIiB9fT4KICAgICAgICAgICAgICAgICAge3JldmVyc2VkLm1hcChyID0+IHsgY29uc3QgcGN0ID0gKHBbci5pZF0gLyBwLnRvdGFsKSAqIDEwMDsgaWYgKHBjdCA9PT0gMCkgcmV0dXJuIG51bGw7IHJldHVybiA8c3BhbiBrZXk9e3IuaWR9IHN0eWxlPXt7IGNvbG9yOiByLmMsIGZvbnRTaXplOiAxMCB9fT57ci5pY29ufSB7TWF0aC5yb3VuZChwY3QpfSU8L3NwYW4+OyB9KX0KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICApOwogICAgICAgICAgfSl9CiAgICAgICAgPC9kaXY+CiAgICAgICl9CgogICAgICB7bW9kZSA9PT0gImNvbnRleHQiICYmICgKICAgICAgICA8ZGl2PgogICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTMsIG1hcmdpbkJvdHRvbTogMTQgfX0+V2hpY2ggY29udGV4dHMgcHJvZHVjZSB3aGljaCByZXNwb25zZXMuPC9wPgogICAgICAgICAge09iamVjdC5lbnRyaWVzKGNQYXRzKS5maWx0ZXIoKFssIHZdKSA9PiB2LnRvdGFsID49IDIpLnNvcnQoKFssIGFdLCBbLCBiXSkgPT4gYi50b3RhbCAtIGEudG90YWwpLm1hcCgoW2N0eCwgZGF0YV0pID0+ICgKICAgICAgICAgICAgPGRpdiBrZXk9e2N0eH0gc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE0LCBtYXJnaW5Cb3R0b206IDggfX0+CiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGp1c3RpZnlDb250ZW50OiAic3BhY2UtYmV0d2VlbiIsIG1hcmdpbkJvdHRvbTogOCB9fT4KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxMyB9fT57Y3R4fTwvc3Bhbj4KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDExIH19PntkYXRhLnRvdGFsfcOXPC9zcGFuPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBoZWlnaHQ6IDE2LCBib3JkZXJSYWRpdXM6IDUsIG92ZXJmbG93OiAiaGlkZGVuIiB9fT4KICAgICAgICAgICAgICAgIHtbLi4uUkVTUE9OU0VTXS5yZXZlcnNlKCkubWFwKHIgPT4geyBjb25zdCBwY3QgPSAoZGF0YVtyLmlkXSAvIGRhdGEudG90YWwpICogMTAwOyBpZiAocGN0ID09PSAwKSByZXR1cm4gbnVsbDsgcmV0dXJuIDxkaXYga2V5PXtyLmlkfSBzdHlsZT17eyB3aWR0aDogYCR7cGN0fSVgLCBiYWNrZ3JvdW5kOiByLmMgKyAiODgiIH19IC8+OyB9KX0KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICApKX0KICAgICAgICAgIHtPYmplY3Qua2V5cyhjUGF0cykuZmlsdGVyKGsgPT4gY1BhdHNba10udG90YWwgPj0gMikubGVuZ3RoID09PSAwICYmIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEzIH19PlRhZyBjb250ZXh0cyBvbiBlbnRyaWVzIHRvIHNlZSBwYXR0ZXJucyBoZXJlLjwvcD59CiAgICAgICAgPC9kaXY+CiAgICAgICl9CgogICAgICB7bW9kZSA9PT0gImluc2lnaHRzIiAmJiAoCiAgICAgICAgPGRpdj4KICAgICAgICAgIHtyYW5rZWQubGVuZ3RoID4gMCAmJiAoCiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDEwIH19PgogICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuZ3JlZW4sIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDYgfX0+8J+MsSBNb3N0IGVmZmVjdGl2ZSBhcHByb2FjaDwvZGl2PgogICAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNCwgbWFyZ2luOiAwLCBsaW5lSGVpZ2h0OiAxLjYgfX0+CiAgICAgICAgICAgICAgICA8c3Ryb25nPntyYW5rZWRbMF0uaWNvbn0ge3JhbmtlZFswXS5sYWJlbH08L3N0cm9uZz4gcHJvZHVjZXMgYSBwb3NpdGl2ZSBvciBuZXV0cmFsIHJlc3BvbnNlIHtNYXRoLnJvdW5kKHJhbmtlZFswXS5wb3MpfSUgb2YgdGhlIHRpbWUgKHtyYW5rZWRbMF0udG90YWx9IGludGVyYWN0aW9ucykuCiAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICl9CiAgICAgICAgICB7cmFua2VkLmxlbmd0aCA+IDEgJiYgcmFua2VkW3JhbmtlZC5sZW5ndGggLSAxXS5wb3MgPCA0MCAmJiAoCiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDEwIH19PgogICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAucm9zZSwgZm9udFNpemU6IDEzLCBmb250V2VpZ2h0OiA1MDAsIG1hcmdpbkJvdHRvbTogNiB9fT7imqEgTW9zdCBmcmljdGlvbjwvZGl2PgogICAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNCwgbWFyZ2luOiAwLCBsaW5lSGVpZ2h0OiAxLjYgfX0+CiAgICAgICAgICAgICAgICA8c3Ryb25nPntyYW5rZWRbcmFua2VkLmxlbmd0aCAtIDFdLmljb259IHtyYW5rZWRbcmFua2VkLmxlbmd0aCAtIDFdLmxhYmVsfTwvc3Ryb25nPiB0ZW5kcyB0byBwcm9kdWNlIG1vcmUgcmVzaXN0YW5jZSAoe01hdGgucm91bmQoMTAwIC0gcmFua2VkW3JhbmtlZC5sZW5ndGggLSAxXS5wb3MpfSUgbmVnYXRpdmUpLgogICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICApfQogICAgICAgICAge2ZpbC5sZW5ndGggPj0gMjAgJiYgKCgpID0+IHsKICAgICAgICAgICAgY29uc3QgaCA9IE1hdGguZmxvb3IoZmlsLmxlbmd0aCAvIDIpOwogICAgICAgICAgICBjb25zdCByQXZnID0gZmlsLnNsaWNlKDAsIGgpLnJlZHVjZSgocywgZSkgPT4gcyArIChSRVNQT05TRVMuZmluZChyID0+IHIuaWQgPT09IGUucmVzcG9uc2UpPy5zY29yZSA/PyAyKSwgMCkgLyBoOwogICAgICAgICAgICBjb25zdCBvQXZnID0gZmlsLnNsaWNlKGgpLnJlZHVjZSgocywgZSkgPT4gcyArIChSRVNQT05TRVMuZmluZChyID0+IHIuaWQgPT09IGUucmVzcG9uc2UpPy5zY29yZSA/PyAyKSwgMCkgLyAoZmlsLmxlbmd0aCAtIGgpOwogICAgICAgICAgICBjb25zdCBkID0gckF2ZyAtIG9Bdmc7CiAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogMTAgfX0+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBkID4gMC4zID8gUC5ncmVlbiA6IGQgPCAtMC4zID8gUC5yb3NlIDogUC5ibHVlLCBmb250U2l6ZTogMTMsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luQm90dG9tOiA2IH19PgogICAgICAgICAgICAgICAgICB7ZCA+IDAuMyA/ICLwn5OIIFBvc2l0aXZlIHRyZW5kIiA6IGQgPCAtMC4zID8gIvCfk4kgRGlmZmljdWx0IHN0cmV0Y2giIDogIuKUgSBTdGVhZHkgc3RhdGUifQogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTQsIG1hcmdpbjogMCwgbGluZUhlaWdodDogMS42IH19PgogICAgICAgICAgICAgICAgICB7ZCA+IDAuMyA/ICJSZWNlbnQgaW50ZXJhY3Rpb25zIGFyZSB0cmVuZGluZyBtb3JlIHBvc2l0aXZlbHkuIEtlZXAgZ29pbmcg4oCUIHRoaXMgaXMgcmVhbCBwcm9ncmVzcy4iCiAgICAgICAgICAgICAgICAgICA6IGQgPCAtMC4zID8gIlJlY2VudCBpbnRlcmFjdGlvbnMgaGF2ZSBiZWVuIGhhcmRlci4gVGhpcyBpcyBub3JtYWwg4oCUIHN0ZXBmYW1pbHkgcmVsYXRpb25zaGlwcyBhcmVuJ3QgbGluZWFyLiBBIGRpZmZpY3VsdCBzdHJldGNoIGRvZXNuJ3QgZXJhc2UgcHJvZ3Jlc3MuIgogICAgICAgICAgICAgICAgICAgOiAiUmVzcG9uc2VzIGhhdmUgYmVlbiBjb25zaXN0ZW50LiBJbiBzdGVwZmFtaWx5IGR5bmFtaWNzLCBzdGFiaWxpdHkgaXMgaXRzZWxmIGEgZm9ybSBvZiBwcm9ncmVzcy4ifQogICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICApOwogICAgICAgICAgfSkoKX0KICAgICAgICAgIHtmaWwubGVuZ3RoIDwgMjAgJiYgKAogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNiB9fT4KICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLmJsdWUsIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDYgfX0+8J+TiiBNb3JlIGRhdGEgbmVlZGVkPC9kaXY+CiAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMywgbWFyZ2luOiAwIH19PlRyZW5kIGFuYWx5c2lzIG5lZWRzIH4yMCBlbnRyaWVzIGluIHRoaXMgcmFuZ2UuIFlvdSBoYXZlIHtmaWwubGVuZ3RofS48L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKX0KICAgICAgICA8L2Rpdj4KICAgICAgKX0KICAgIDwvZGl2PgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgUEVSU1BFQ1RJVkUKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIFBlcnNwZWN0aXZlKHsgZW50cmllcywgb3BlbkNhcmQgfSkgewogIHJldHVybiAoCiAgICA8ZGl2PgogICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDE0LCBtYXJnaW5Cb3R0b206IDE2IH19PgogICAgICAgIFJlc2VhcmNoLWJhY2tlZCByZWZyYW1lcy4gTm90IHBsYXRpdHVkZXMg4oCUIHJlYWwgcGVyc3BlY3RpdmVzIGZyb20gcmVzZWFyY2ggYW5kIGFkdWx0IHN0ZXBjaGlsZHJlbiBsb29raW5nIGJhY2suCiAgICAgIDwvcD4KICAgICAge0NBUkRTLm1hcCgoYywgaSkgPT4gKAogICAgICAgIDxidXR0b24ga2V5PXtpfSBvbkNsaWNrPXsoKSA9PiBvcGVuQ2FyZChjKX0gc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDgsIHdpZHRoOiAiMTAwJSIsIHRleHRBbGlnbjogImxlZnQiLCBjdXJzb3I6ICJwb2ludGVyIiwgYm9yZGVyOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCwgZm9udEZhbWlseTogImluaGVyaXQiIH19PgogICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250V2VpZ2h0OiA1MDAsIG1hcmdpbkJvdHRvbTogNCwgZm9udFNpemU6IDE0IH19PntjLnRpdGxlfTwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMywgbGluZUhlaWdodDogMS41IH19PntjLmJvZHkuc2xpY2UoMCwgMTEwKX3igKY8L2Rpdj4KICAgICAgICAgIHtjLnF1b3RlICYmIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAud2FybSwgZm9udFNpemU6IDExLCBtYXJnaW5Ub3A6IDYsIGZvbnRTdHlsZTogIml0YWxpYyIgfX0+SW5jbHVkZXMgZmlyc3RoYW5kIGFjY291bnQg4peHPC9kaXY+fQogICAgICAgIDwvYnV0dG9uPgogICAgICApKX0KICAgIDwvZGl2PgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgUEFSVE5FUiDigJQgQ29tbXVuaWNhdGlvbiBUaXBzICYgU2hhcmUKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIFBhcnRuZXIoeyBlbnRyaWVzLCBwcm9maWxlLCBzbmFwcyB9KSB7CiAgY29uc3QgW3RhYiwgc2V0VGFiXSA9IHVzZVN0YXRlKCJ0aXBzIik7CiAgY29uc3QgW2V4cGFuZGVkVGlwLCBzZXRFeHBhbmRlZFRpcF0gPSB1c2VTdGF0ZShudWxsKTsKICBjb25zdCBbY29waWVkLCBzZXRDb3BpZWRdID0gdXNlU3RhdGUoZmFsc2UpOwoKICBjb25zdCBnZW5lcmF0ZVJlcG9ydCA9ICgpID0+IHsKICAgIGNvbnN0IG1vbnRoID0gZW50cmllcy5maWx0ZXIoZSA9PiBkYXlzQWdvKGUuZGF0ZSkgPD0gMzApOwogICAgaWYgKG1vbnRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7CiAgICBjb25zdCB0b3RhbCA9IG1vbnRoLmxlbmd0aDsKICAgIGNvbnN0IHBvcyA9IG1vbnRoLmZpbHRlcihlID0+IGUucmVzcG9uc2UgPT09ICJwb3NpdGl2ZSIgfHwgZS5yZXNwb25zZSA9PT0gIm5ldXRyYWwiKS5sZW5ndGg7CiAgICBjb25zdCByZWogPSBtb250aC5maWx0ZXIoZSA9PiBlLnJlc3BvbnNlID09PSAicmVqZWN0aW9uIiB8fCBlLnJlc3BvbnNlID09PSAiZXNjYWxhdGlvbiIpLmxlbmd0aDsKICAgIGNvbnN0IHBjdCA9IE1hdGgucm91bmQoKHBvcyAvIHRvdGFsKSAqIDEwMCk7CiAgICBjb25zdCBhY3Rpb25Db3VudHMgPSB7fTsKICAgIEFDVElPTlMuZm9yRWFjaChhID0+IHsgYWN0aW9uQ291bnRzW2EuaWRdID0geyBwb3M6IDAsIHRvdGFsOiAwIH07IH0pOwogICAgbW9udGguZm9yRWFjaChlID0+IHsKICAgICAgaWYgKGFjdGlvbkNvdW50c1tlLmFjdGlvbl0pIHsKICAgICAgICBhY3Rpb25Db3VudHNbZS5hY3Rpb25dLnRvdGFsKys7CiAgICAgICAgaWYgKGUucmVzcG9uc2UgPT09ICJwb3NpdGl2ZSIgfHwgZS5yZXNwb25zZSA9PT0gIm5ldXRyYWwiKSBhY3Rpb25Db3VudHNbZS5hY3Rpb25dLnBvcysrOwogICAgICB9CiAgICB9KTsKICAgIGxldCBiZXN0QWN0aW9uID0gbnVsbCwgYmVzdFBjdCA9IDA7CiAgICBPYmplY3QuZW50cmllcyhhY3Rpb25Db3VudHMpLmZvckVhY2goKFtpZCwgZF0pID0+IHsKICAgICAgaWYgKGQudG90YWwgPj0gMykgewogICAgICAgIGNvbnN0IHAgPSBkLnBvcyAvIGQudG90YWw7CiAgICAgICAgaWYgKHAgPiBiZXN0UGN0KSB7IGJlc3RQY3QgPSBwOyBiZXN0QWN0aW9uID0gQUNUSU9OUy5maW5kKGEgPT4gYS5pZCA9PT0gaWQpOyB9CiAgICAgIH0KICAgIH0pOwogICAgY29uc3QgbGluZXMgPSBbCiAgICAgICJNb250aGx5IFVwZGF0ZSBmcm9tIFN0ZWFkZmFzdCIsCiAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoOTQ3MikucmVwZWF0KDI5KSwKICAgICAgIiIsCiAgICAgIGBUaGlzIG1vbnRoLCBJIGxvZ2dlZCAke3RvdGFsfSBpbnRlcmFjdGlvbnMgd2l0aCB5b3VyIGNoaWxkLmAsCiAgICAgICIiLAogICAgICBgJHtwY3R9JSBvZiByZXNwb25zZXMgd2VyZSBwb3NpdGl2ZSBvciBuZXV0cmFsLmAsCiAgICAgIGAke3Jlan0gaW50ZXJhY3Rpb25zIGludm9sdmVkIGFjdGl2ZSByZWplY3Rpb24gb3IgZXNjYWxhdGlvbi5gLAogICAgICAiIiwKICAgIF07CiAgICBpZiAoYmVzdEFjdGlvbikgewogICAgICBsaW5lcy5wdXNoKGBXaGF0IHNlZW1zIHRvIHdvcmsgYmVzdDogIiR7YmVzdEFjdGlvbi5sYWJlbH0iIFx1MjAxNCAke01hdGgucm91bmQoYmVzdFBjdCAqIDEwMCl9JSBwb3NpdGl2ZSByZXNwb25zZSByYXRlLmApOwogICAgICBsaW5lcy5wdXNoKCIiKTsKICAgIH0KICAgIGxpbmVzLnB1c2goIldoYXQgSSBuZWVkIGZyb20geW91OiIpOwogICAgbGluZXMucHVzaCgiXHUyMDIyIEFja25vd2xlZGdlIHdoYXQgeW91IHNlZSBtZSBkb2luZywgZXZlbiBzbWFsbCB0aGluZ3MiKTsKICAgIGxpbmVzLnB1c2goIlx1MjAyMiBCYWNrIG1lIHVwIGluIHRoZSBtb21lbnQsIGV2ZW4gd2l0aCBqdXN0IGEgd29yZCIpOwogICAgbGluZXMucHVzaCgiXHUyMDIyIFJlbWluZCBtZSB0aGF0IG15IGVmZm9ydCBtYXR0ZXJzIHdoZW4gSSBjYW4ndCBzZWUgaXQiKTsKICAgIGxpbmVzLnB1c2goIiIpOwogICAgbGluZXMucHVzaCgiVGhpcyBpc24ndCBhIGNvbXBsYWludC4gSXQncyBtZSBzaG93aW5nIHlvdSB3aGF0IEknbSB0cmFja2luZyBzbyB3ZSBjYW4gYmUgYSB0ZWFtIGluIHRoaXMuIik7CiAgICBsaW5lcy5wdXNoKCIiKTsKICAgIGxpbmVzLnB1c2goIlx1MjAxNCBTZW50IGZyb20gU3RlYWRmYXN0Iik7CiAgICByZXR1cm4gbGluZXMuam9pbigiXG4iKTsKICB9OwoKICBjb25zdCByZXBvcnQgPSBnZW5lcmF0ZVJlcG9ydCgpOwoKICBjb25zdCBjb3B5UmVwb3J0ID0gKCkgPT4gewogICAgaWYgKCFyZXBvcnQpIHJldHVybjsKICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHJlcG9ydCkudGhlbigoKSA9PiB7CiAgICAgIHNldENvcGllZCh0cnVlKTsgc2V0VGltZW91dCgoKSA9PiBzZXRDb3BpZWQoZmFsc2UpLCAyMDAwKTsKICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgY29uc3QgdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpOwogICAgICB0YS52YWx1ZSA9IHJlcG9ydDsgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0YSk7IHRhLnNlbGVjdCgpOwogICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgiY29weSIpOyBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRhKTsKICAgICAgc2V0Q29waWVkKHRydWUpOyBzZXRUaW1lb3V0KCgpID0+IHNldENvcGllZChmYWxzZSksIDIwMDApOwogICAgfSk7CiAgfTsKCiAgcmV0dXJuICgKICAgIDxkaXY+CiAgICAgIDxUYWJzIGl0ZW1zPXtbIlRpcHMiLCAiU2hhcmUiLCAiQWxpZW5hdGlvbiJdfSBhY3RpdmU9e3RhYiA9PT0gInRpcHMiID8gIlRpcHMiIDogdGFiID09PSAic2hhcmUiID8gIlNoYXJlIiA6ICJBbGllbmF0aW9uIn0gb25QaWNrPXt2ID0+IHNldFRhYih2ID09PSAiVGlwcyIgPyAidGlwcyIgOiB2ID09PSAiU2hhcmUiID8gInNoYXJlIiA6ICJhbGllbmF0aW9uIil9IC8+CgogICAgICB7dGFiID09PSAidGlwcyIgJiYgKAogICAgICAgIDxkaXY+CiAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDE0LCBtYXJnaW5Cb3R0b206IDE2LCBsaW5lSGVpZ2h0OiAxLjYgfX0+CiAgICAgICAgICAgIEhvdyB0byB0YWxrIHRvIHlvdXIgcGFydG5lciBhYm91dCB3aGF0IHlvdSdyZSBnb2luZyB0aHJvdWdoIOKAlCB3aXRob3V0IGl0IHR1cm5pbmcgaW50byBhIGZpZ2h0LgogICAgICAgICAgPC9wPgogICAgICAgICAge1BBUlRORVJfVElQUy5tYXAoKHQsIGkpID0+ICgKICAgICAgICAgICAgPGJ1dHRvbiBrZXk9e2l9IG9uQ2xpY2s9eygpID0+IHNldEV4cGFuZGVkVGlwKGV4cGFuZGVkVGlwID09PSBpID8gbnVsbCA6IGkpfSBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogOCwgd2lkdGg6ICIxMDAlIiwgdGV4dEFsaWduOiAibGVmdCIsIGN1cnNvcjogInBvaW50ZXIiLCBib3JkZXI6IGAxcHggc29saWQgJHtleHBhbmRlZFRpcCA9PT0gaSA/IFAud2FybSArICI0NCIgOiBQLmJvcmRlcn1gLCBmb250RmFtaWx5OiAiaW5oZXJpdCIgfX0+CiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGp1c3RpZnlDb250ZW50OiAic3BhY2UtYmV0d2VlbiIsIGFsaWduSXRlbXM6ICJjZW50ZXIiIH19PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250V2VpZ2h0OiA1MDAsIGZvbnRTaXplOiAxNCB9fT57dC50aXRsZX08L2Rpdj4KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEyLCB0cmFuc2Zvcm06IGV4cGFuZGVkVGlwID09PSBpID8gInJvdGF0ZSgxODBkZWcpIiA6ICJub25lIiwgdHJhbnNpdGlvbjogInRyYW5zZm9ybSAuMnMiIH19PnsiXHUyNUJFIn08L3NwYW4+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMiwgbWFyZ2luVG9wOiA0IH19Pnt0LnNpdHVhdGlvbn08L2Rpdj4KICAgICAgICAgICAgICB7ZXhwYW5kZWRUaXAgPT09IGkgJiYgKAogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6IDEyIH19PgogICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6IDE0LCBiYWNrZ3JvdW5kOiBQLmJnLCBib3JkZXJSYWRpdXM6IDEwLCBib3JkZXJMZWZ0OiBgM3B4IHNvbGlkICR7UC5ncmVlbn00NGAsIG1hcmdpbkJvdHRvbTogMTAgfX0+CiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTAsIG1hcmdpbjogIjAgMCA2cHgiLCB0ZXh0VHJhbnNmb3JtOiAidXBwZXJjYXNlIiwgbGV0dGVyU3BhY2luZzogIjAuMDVlbSIgfX0+VHJ5IHNheWluZzwvcD4KICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTMsIG1hcmdpbjogMCwgbGluZUhlaWdodDogMS42LCBmb250U3R5bGU6ICJpdGFsaWMiIH19Pnt0LnRpcH08L3A+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6IDE0LCBiYWNrZ3JvdW5kOiBQLmJnLCBib3JkZXJSYWRpdXM6IDEwLCBib3JkZXJMZWZ0OiBgM3B4IHNvbGlkICR7UC5ibHVlfTQ0YCB9fT4KICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMCwgbWFyZ2luOiAiMCAwIDZweCIsIHRleHRUcmFuc2Zvcm06ICJ1cHBlcmNhc2UiLCBsZXR0ZXJTcGFjaW5nOiAiMC4wNWVtIiB9fT5XaHkgdGhpcyB3b3JrczwvcD4KICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEzLCBtYXJnaW46IDAsIGxpbmVIZWlnaHQ6IDEuNiB9fT57dC53aHl9PC9wPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICl9CiAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgKSl9CiAgICAgICAgPC9kaXY+CiAgICAgICl9CgogICAgICB7dGFiID09PSAic2hhcmUiICYmICgKICAgICAgICA8ZGl2PgogICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxNCwgbWFyZ2luQm90dG9tOiAxNiwgbGluZUhlaWdodDogMS42IH19PgogICAgICAgICAgICBTaGFyZSBhIG1vbnRobHkgc3VtbWFyeSB3aXRoIHlvdXIgcGFydG5lci4gSXQgc2hvd3Mgd2hhdCB5b3UndmUgYmVlbiBkb2luZywgd2hhdCdzIHdvcmtpbmcsIGFuZCB3aGF0IHlvdSBuZWVkIOKAlCBiYWNrZWQgYnkgZGF0YSwgbm90IGp1c3QgZmVlbGluZ3MuCiAgICAgICAgICA8L3A+CiAgICAgICAgICB7cmVwb3J0ID8gKAogICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDEyIH19PgogICAgICAgICAgICAgICAgPHByZSBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDExLCBsaW5lSGVpZ2h0OiAxLjYsIG1hcmdpbjogMCwgd2hpdGVTcGFjZTogInByZS13cmFwIiwgd29yZEJyZWFrOiAiYnJlYWstd29yZCIsIGZvbnRGYW1pbHk6ICJpbmhlcml0IiB9fT57cmVwb3J0fTwvcHJlPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxCdG4gb25DbGljaz17Y29weVJlcG9ydH0gZnVsbD57Y29waWVkID8gIkNvcGllZCEiIDogIkNvcHkgdG8gY2xpcGJvYXJkIn08L0J0bj4KICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMSwgbWFyZ2luVG9wOiAxMCwgdGV4dEFsaWduOiAiY2VudGVyIiB9fT5QYXN0ZSBpbnRvIGEgbWVzc2FnZSwgZW1haWwsIG9yIG5vdGUgdG8gc2hhcmUgd2l0aCB5b3VyIHBhcnRuZXIuPC9wPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICkgOiAoCiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAiY2VudGVyIiwgcGFkZGluZzogIjQwcHggMjBweCIgfX0+CiAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTQgfX0+TG9nIHNvbWUgaW50ZXJhY3Rpb25zIGZpcnN0IHRvIGdlbmVyYXRlIGEgcmVwb3J0LjwvcD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICApfQogICAgICAgIDwvZGl2PgogICAgICApfQoKICAgICAge3RhYiA9PT0gImFsaWVuYXRpb24iICYmICgKICAgICAgICA8ZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMjAsIG1hcmdpbkJvdHRvbTogMTIsIGJvcmRlckxlZnQ6IGAzcHggc29saWQgJHtQLnJvc2V9YCB9fT4KICAgICAgICAgICAgPGgzIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNiwgZm9udEZhbWlseTogIkdlb3JnaWEsICdUaW1lcyBOZXcgUm9tYW4nLCBzZXJpZiIsIG1hcmdpbjogIjAgMCAxMHB4IiB9fT57QUxJRU5BVElPTi50aXRsZX08L2gzPgogICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEzLCBsaW5lSGVpZ2h0OiAxLjcsIG1hcmdpbjogMCB9fT57QUxJRU5BVElPTi5pbnRyb308L3A+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDEyIH19PgogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLnJvc2UsIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDEwIH19Pldhcm5pbmcgc2lnbnM8L2Rpdj4KICAgICAgICAgICAge0FMSUVOQVRJT04uc2lnbnMubWFwKChzLCBpKSA9PiAoCiAgICAgICAgICAgICAgPGRpdiBrZXk9e2l9IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiA4LCBtYXJnaW5Cb3R0b206IDggfX0+CiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5yb3NlLCBmb250U2l6ZTogMTEsIG1hcmdpblRvcDogMiwgZmxleFNocmluazogMCB9fT57Ilx1MjAyMiJ9PC9zcGFuPgogICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMywgbWFyZ2luOiAwLCBsaW5lSGVpZ2h0OiAxLjUgfX0+e3N9PC9wPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICApKX0KICAgICAgICAgIDwvZGl2PgogICAgICAgICAge0FMSUVOQVRJT04uZ3VpZGFuY2UubWFwKChnLCBpKSA9PiAoCiAgICAgICAgICAgIDxkaXYga2V5PXtpfSBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogOCB9fT4KICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNCwgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDYgfX0+e2cudGl0bGV9PC9kaXY+CiAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMywgbGluZUhlaWdodDogMS42LCBtYXJnaW46IDAgfX0+e2cudGV4dH08L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKSl9CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNiwgbWFyZ2luVG9wOiA0LCBiYWNrZ3JvdW5kOiBgJHtQLmNhcmQyfTg4YCwgYm9yZGVyTGVmdDogYDNweCBzb2xpZCAke1AuYmx1ZX00NGAgfX0+CiAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEyLCBtYXJnaW46IDAsIGxpbmVIZWlnaHQ6IDEuNiB9fT57QUxJRU5BVElPTi5ub3RlfTwvcD4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICApfQogICAgPC9kaXY+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBCRU5DSE1BUksKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIEJlbmNobWFyayh7IHByb2ZpbGUsIHNuYXBzLCBlbnRyaWVzLCBvcGVuU25hcCwgb25EZWxldGVTbmFwIH0pIHsKICBpZiAoIXByb2ZpbGUpIHJldHVybiBudWxsOwogIGNvbnN0IGFnZSA9IEJFTkNILmFnZXNbcHJvZmlsZS5jaGlsZEFnZV07CiAgY29uc3QgY3VzdCA9IEJFTkNILmN1c3RvZHlbcHJvZmlsZS5jdXN0b2R5XTsKICBjb25zdCBsb3kgPSBCRU5DSC5sb3lhbHR5W3Byb2ZpbGUubG95YWx0eUNvbmZsaWN0XTsKCiAgcmV0dXJuICgKICAgIDxkaXY+CiAgICAgIDxTZWN0aW9uVGl0bGU+WW91ciBTaXR1YXRpb248L1NlY3Rpb25UaXRsZT4KICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZ3JpZCIsIGdyaWRUZW1wbGF0ZUNvbHVtbnM6ICIxZnIgMWZyIiwgZ2FwOiA4LCBtYXJnaW5Cb3R0b206IDE2IH19PgogICAgICAgIDxCZW5jaEl0ZW0gbGFiZWw9IkNoaWxkJ3MgYWdlIiB2YWx1ZT17cHJvZmlsZS5jaGlsZEFnZSArICIgeXJzIn0gLz4KICAgICAgICA8QmVuY2hJdGVtIGxhYmVsPSJDdXN0b2R5IiB2YWx1ZT17cHJvZmlsZS5jdXN0b2R5fSAvPgogICAgICAgIDxCZW5jaEl0ZW0gbGFiZWw9IkxveWFsdHkgY29uZmxpY3QiIHZhbHVlPXtwcm9maWxlLmxveWFsdHlDb25mbGljdH0gLz4KICAgICAgICA8QmVuY2hJdGVtIGxhYmVsPSJUaW1lIGluIHJvbGUiIHZhbHVlPXtwcm9maWxlLnllYXJzSW5Sb2xlICsgIiB5ciIgKyAocHJvZmlsZS55ZWFyc0luUm9sZSAhPT0gIjEiID8gInMiIDogIiIpfSAvPgogICAgICA8L2Rpdj4KCiAgICAgIHthZ2UgJiYgKAogICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDEwIH19PgogICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC53YXJtLCBmb250U2l6ZTogMTMsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luQm90dG9tOiA2IH19PlR5cGljYWwgaW50ZWdyYXRpb24gdGltZWxpbmU8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDIwLCBmb250RmFtaWx5OiAiR2VvcmdpYSwgJ1RpbWVzIE5ldyBSb21hbicsIHNlcmlmIiwgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDggfX0+e2FnZS50fTwvZGl2PgogICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMywgbWFyZ2luOiAwLCBsaW5lSGVpZ2h0OiAxLjYgfX0+e2FnZS5ub3RlfTwvcD4KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAxMiwgcGFkZGluZzogMTIsIGJhY2tncm91bmQ6IFAuYmcsIGJvcmRlclJhZGl1czogOCB9fT4KICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuYmx1ZSwgZm9udFNpemU6IDEyLCBtYXJnaW46IDAgfX0+CiAgICAgICAgICAgICAgWW91J3JlIH57cHJvZmlsZS55ZWFyc0luUm9sZX0geWVhcntwcm9maWxlLnllYXJzSW5Sb2xlICE9PSAiMSIgPyAicyIgOiAiIn0gaW4uCiAgICAgICAgICAgICAge3BhcnNlSW50KHByb2ZpbGUueWVhcnNJblJvbGUpIDwgNCA/ICIgU3RpbGwgZWFybHkg4oCUIGZhc3Rlc3QgZG9jdW1lbnRlZCBmdWxsIGludGVncmF0aW9uIHdhcyA0IHllYXJzLiIgOiAiIn0KICAgICAgICAgICAgICB7cGFyc2VJbnQocHJvZmlsZS55ZWFyc0luUm9sZSkgPj0gNyA/ICIgWW91ciBzdXN0YWluZWQgcHJlc2VuY2UgbWF0dGVycywgcmVnYXJkbGVzcyBvZiB3aGVyZSB0aGUgcmVsYXRpb25zaGlwIGhhcyBzZXR0bGVkLiIgOiAiIn0KICAgICAgICAgICAgPC9wPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICl9CgogICAgICB7Y3VzdCAmJiA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNiwgbWFyZ2luQm90dG9tOiAxMCB9fT48ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLndhcm0sIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDYgfX0+Q3VzdG9keSBpbXBhY3Q8L2Rpdj48cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEzLCBtYXJnaW46IDAsIGxpbmVIZWlnaHQ6IDEuNiB9fT57Y3VzdH08L3A+PC9kaXY+fQogICAgICB7bG95ICYmIDxkaXYgc3R5bGU9e3sgLi4uY3NzLmNhcmQsIHBhZGRpbmc6IDE2LCBtYXJnaW5Cb3R0b206IDEwIH19PjxkaXYgc3R5bGU9e3sgY29sb3I6IFAud2FybSwgZm9udFNpemU6IDEzLCBmb250V2VpZ2h0OiA1MDAsIG1hcmdpbkJvdHRvbTogNiB9fT5Mb3lhbHR5IGR5bmFtaWNzPC9kaXY+PHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMywgbWFyZ2luOiAwLCBsaW5lSGVpZ2h0OiAxLjYgfX0+e2xveX08L3A+PC9kaXY+fQoKICAgICAgey8qIE91dGNvbWVzICovfQogICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxNiwgbWFyZ2luQm90dG9tOiAxMCB9fT4KICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLndhcm0sIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDEwIH19PlJlYWxpc3RpYyBvdXRjb21lIHNwZWN0cnVtPC9kaXY+CiAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTIsIG1hcmdpbkJvdHRvbTogMTAgfX0+QWxsIG9mIHRoZXNlIGFyZSB2YWxpZCBzdWNjZXNzIHN0YXRlcy48L3A+CiAgICAgICAge0JFTkNILm91dGNvbWVzLm1hcCgobywgaSkgPT4gKAogICAgICAgICAgPGRpdiBrZXk9e2l9IHN0eWxlPXt7IHBhZGRpbmc6ICIxMHB4IDEycHgiLCBib3JkZXJMZWZ0OiBgM3B4IHNvbGlkICR7by5jfWAsIG1hcmdpbkJvdHRvbTogNiwgYmFja2dyb3VuZDogUC5iZywgYm9yZGVyUmFkaXVzOiAiMCA4cHggOHB4IDAiIH19PgogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiB9fT4KICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTMsIGZvbnRXZWlnaHQ6IDUwMCB9fT57by5sfTwvc3Bhbj4KICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMSB9fT57by5wfTwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEyLCBtYXJnaW46ICIzcHggMCAwIiB9fT57by5kfTwvcD4KICAgICAgICAgIDwvZGl2PgogICAgICAgICkpfQogICAgICA8L2Rpdj4KCiAgICAgIHsvKiBGaXJzdCB2cyBMYXRlc3Qgc3VtbWFyeSAqL30KICAgICAge3NuYXBzLmxlbmd0aCA+PSAyICYmICgoKSA9PiB7CiAgICAgICAgY29uc3QgZmlyc3QgPSBzbmFwc1swXTsKICAgICAgICBjb25zdCBsYXN0ID0gc25hcHNbc25hcHMubGVuZ3RoIC0gMV07CiAgICAgICAgY29uc3QgaW1wcm92ZWQgPSBTTkFQX1EuZmlsdGVyKHEgPT4gKGxhc3QuYW5zd2Vycz8uW3EuaWRdID8/IDApID4gKGZpcnN0LmFuc3dlcnM/LltxLmlkXSA/PyAwKSkubGVuZ3RoOwogICAgICAgIGNvbnN0IGRlY2xpbmVkID0gU05BUF9RLmZpbHRlcihxID0+IChsYXN0LmFuc3dlcnM/LltxLmlkXSA/PyAwKSA8IChmaXJzdC5hbnN3ZXJzPy5bcS5pZF0gPz8gMCkpLmxlbmd0aDsKICAgICAgICBjb25zdCBzYW1lID0gU05BUF9RLmxlbmd0aCAtIGltcHJvdmVkIC0gZGVjbGluZWQ7CiAgICAgICAgY29uc3QgZGF5c0JldHdlZW4gPSBNYXRoLnJvdW5kKChuZXcgRGF0ZShsYXN0LmRhdGUpIC0gbmV3IERhdGUoZmlyc3QuZGF0ZSkpIC8gODY0MDAwMDApOwogICAgICAgIHJldHVybiAoCiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxOCwgbWFyZ2luQm90dG9tOiAxMCwgYm9yZGVyTGVmdDogYDNweCBzb2xpZCAke2ltcHJvdmVkID4gZGVjbGluZWQgPyBQLmdyZWVuIDogaW1wcm92ZWQgPCBkZWNsaW5lZCA/IFAucm9zZSA6IFAuYmx1ZX1gIH19PgogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNSwgZm9udEZhbWlseTogIkdlb3JnaWEsICdUaW1lcyBOZXcgUm9tYW4nLCBzZXJpZiIsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luQm90dG9tOiA4IH19PgogICAgICAgICAgICAgIHtpbXByb3ZlZCA+IGRlY2xpbmVkID8gIlRoaW5ncyBhcmUgbW92aW5nIiA6IGltcHJvdmVkIDwgZGVjbGluZWQgPyAiQSBoYXJkZXIgc3RyZXRjaCIgOiAiSG9sZGluZyBzdGVhZHkifQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMywgbWFyZ2luOiAiMCAwIDEwcHgiLCBsaW5lSGVpZ2h0OiAxLjUgfX0+CiAgICAgICAgICAgICAgT3ZlciB7ZGF5c0JldHdlZW59IGRheXMgYW5kIHtzbmFwcy5sZW5ndGh9IHNuYXBzaG90czoKICAgICAgICAgICAgPC9wPgogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiAxMiB9fT4KICAgICAgICAgICAgICB7aW1wcm92ZWQgPiAwICYmIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgcGFkZGluZzogMTAsIGJhY2tncm91bmQ6IFAuYmcsIGJvcmRlclJhZGl1czogOCwgdGV4dEFsaWduOiAiY2VudGVyIiB9fT4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuZ3JlZW4sIGZvbnRTaXplOiAyMCwgZm9udFdlaWdodDogNjAwIH19PntpbXByb3ZlZH08L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTAgfX0+aW1wcm92ZWQ8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj59CiAgICAgICAgICAgICAge3NhbWUgPiAwICYmIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgcGFkZGluZzogMTAsIGJhY2tncm91bmQ6IFAuYmcsIGJvcmRlclJhZGl1czogOCwgdGV4dEFsaWduOiAiY2VudGVyIiB9fT4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuYmx1ZSwgZm9udFNpemU6IDIwLCBmb250V2VpZ2h0OiA2MDAgfX0+e3NhbWV9PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEwIH19PnN0ZWFkeTwvZGl2PgogICAgICAgICAgICAgIDwvZGl2Pn0KICAgICAgICAgICAgICB7ZGVjbGluZWQgPiAwICYmIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgcGFkZGluZzogMTAsIGJhY2tncm91bmQ6IFAuYmcsIGJvcmRlclJhZGl1czogOCwgdGV4dEFsaWduOiAiY2VudGVyIiB9fT4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAucm9zZSwgZm9udFNpemU6IDIwLCBmb250V2VpZ2h0OiA2MDAgfX0+e2RlY2xpbmVkfTwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMCB9fT5oYXJkZXI8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj59CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgKTsKICAgICAgfSkoKX0KCiAgICAgIHsvKiBTbmFwc2hvdCB0cmVuZCBjaGFydHMg4oCUIG9uZSBwZXIgcXVlc3Rpb24gKi99CiAgICAgIHtzbmFwcy5sZW5ndGggPj0gMiAmJiAoCiAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogMTAgfX0+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLndhcm0sIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDEyIH19PlByb2dyZXNzIG92ZXIgdGltZTwvZGl2PgogICAgICAgICAge1NOQVBfUS5tYXAocSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGRhdGFQb2ludHMgPSBzbmFwcy5tYXAocyA9PiAoeyB2YWw6IHMuYW5zd2Vycz8uW3EuaWRdID8/IG51bGwsIGRhdGU6IHMuZGF0ZSB9KSkuZmlsdGVyKGQgPT4gZC52YWwgIT09IG51bGwpOwogICAgICAgICAgICBpZiAoZGF0YVBvaW50cy5sZW5ndGggPCAyKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgY29uc3QgdmFscyA9IGRhdGFQb2ludHMubWFwKGQgPT4gZC52YWwpOwogICAgICAgICAgICBjb25zdCBtYXggPSBxLnMubGVuZ3RoIC0gMTsKICAgICAgICAgICAgY29uc3QgZmlyc3QgPSB2YWxzWzBdOwogICAgICAgICAgICBjb25zdCBsYXRlc3QgPSB2YWxzW3ZhbHMubGVuZ3RoIC0gMV07CiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gbGF0ZXN0IC0gZmlyc3Q7CiAgICAgICAgICAgIGNvbnN0IGRlbHRhQ29sb3IgPSBkZWx0YSA+IDAgPyBQLmdyZWVuIDogZGVsdGEgPCAwID8gUC5yZWQgOiBQLmRpbTsKICAgICAgICAgICAgY29uc3QgdyA9IDI2MCwgaCA9IDUwOwogICAgICAgICAgICBjb25zdCB4U3RlcCA9ICh3IC0gOCkgLyAodmFscy5sZW5ndGggLSAxKTsKICAgICAgICAgICAgY29uc3QgcHRzID0gdmFscy5tYXAoKHYsIGkpID0+ICh7IHg6IDQgKyBpICogeFN0ZXAsIHk6IGggLSA2IC0gKHYgLyBtYXgpICogKGggLSAxMikgfSkpOwogICAgICAgICAgICBjb25zdCBwYXRoRCA9IHB0cy5tYXAoKHAsIGkpID0+IGAke2kgPT09IDAgPyAiTSIgOiAiTCJ9JHtwLnh9LCR7cC55fWApLmpvaW4oIiAiKTsKICAgICAgICAgICAgLy8gQXJlYSBmaWxsCiAgICAgICAgICAgIGNvbnN0IGFyZWFEID0gcGF0aEQgKyBgIEwke3B0c1twdHMubGVuZ3RoIC0gMV0ueH0sJHtoIC0gNn0gTCR7cHRzWzBdLnh9LCR7aCAtIDZ9IFpgOwogICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgIDxkaXYga2V5PXtxLmlkfSBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDE2IH19PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEyLCBtYXJnaW5Cb3R0b206IDIsIGxpbmVIZWlnaHQ6IDEuNCB9fT57cS5xfTwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGp1c3RpZnlDb250ZW50OiAic3BhY2UtYmV0d2VlbiIsIGFsaWduSXRlbXM6ICJjZW50ZXIiLCBtYXJnaW5Cb3R0b206IDQgfX0+CiAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEwIH19PntxLnNbZmlyc3RdfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IGRlbHRhQ29sb3IsIGZvbnRTaXplOiAxMSwgZm9udFdlaWdodDogNTAwIH19PgogICAgICAgICAgICAgICAgICAgIHtkZWx0YSA+IDAgPyAiXHUyMTkyICIgOiBkZWx0YSA8IDAgPyAiXHUyMTkyICIgOiAiIn17cS5zW2xhdGVzdF19IHtkZWx0YSA+IDAgPyAiXHUyMTkxIiA6IGRlbHRhIDwgMCA/ICJcdTIxOTMiIDogIj0ifQogICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD17YDAgMCAke3d9ICR7aH1gfSBzdHlsZT17eyB3aWR0aDogIjEwMCUiLCBoZWlnaHQ6IGgsIGRpc3BsYXk6ICJibG9jayIgfX0+CiAgICAgICAgICAgICAgICAgIDxsaW5lIHgxPSI0IiB5MT17aCAtIDZ9IHgyPXt3IC0gNH0geTI9e2ggLSA2fSBzdHJva2U9e1AuYm9yZGVyfSBzdHJva2VXaWR0aD0iMC41IiAvPgogICAgICAgICAgICAgICAgICA8cGF0aCBkPXthcmVhRH0gZmlsbD17UC53YXJtICsgIjExIn0gLz4KICAgICAgICAgICAgICAgICAgPHBhdGggZD17cGF0aER9IGZpbGw9Im5vbmUiIHN0cm9rZT17UC53YXJtfSBzdHJva2VXaWR0aD0iMiIgLz4KICAgICAgICAgICAgICAgICAge3B0cy5tYXAoKHAsIGkpID0+ICgKICAgICAgICAgICAgICAgICAgICA8ZyBrZXk9e2l9PgogICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD17cC54fSBjeT17cC55fSByPXtpID09PSAwIHx8IGkgPT09IHB0cy5sZW5ndGggLSAxID8gNCA6IDIuNX0gZmlsbD17aSA9PT0gcHRzLmxlbmd0aCAtIDEgPyBQLndhcm0gOiBpID09PSAwID8gUC5kaW0gOiBQLmRpbX0gLz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICkpfQogICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiB9fT4KICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltbWVyLCBmb250U2l6ZTogOCB9fT57Zm10U2hvcnRZcihkYXRhUG9pbnRzWzBdLmRhdGUpfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltbWVyLCBmb250U2l6ZTogOCB9fT57Zm10U2hvcnRZcihkYXRhUG9pbnRzW2RhdGFQb2ludHMubGVuZ3RoIC0gMV0uZGF0ZSl9PC9zcGFuPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICk7CiAgICAgICAgICB9KX0KICAgICAgICA8L2Rpdj4KICAgICAgKX0KCiAgICAgIHsvKiBJbmRpdmlkdWFsIHNuYXBzaG90cyDigJQgY29tcGFjdCBsaXN0ICovfQogICAgICB7c25hcHMubGVuZ3RoID4gMCAmJiAoCiAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MuY2FyZCwgcGFkZGluZzogMTYsIG1hcmdpbkJvdHRvbTogMTAgfX0+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBQLndhcm0sIGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNTAwLCBtYXJnaW5Cb3R0b206IDEwIH19PkFsbCBzbmFwc2hvdHMgKHtzbmFwcy5sZW5ndGh9KTwvZGl2PgogICAgICAgICAge1suLi5zbmFwc10ucmV2ZXJzZSgpLm1hcChzID0+ICgKICAgICAgICAgICAgPGRpdiBrZXk9e3MuaWR9IHN0eWxlPXt7IHBhZGRpbmc6ICI4cHggMCIsIGJvcmRlckJvdHRvbTogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAsIGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiwgYWxpZ25JdGVtczogImNlbnRlciIgfX0+CiAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxMiB9fT57Zm10RGF0ZShzLmRhdGUpfTwvc3Bhbj4KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEwLCBtYXJnaW5MZWZ0OiA4IH19PgogICAgICAgICAgICAgICAgICB7U05BUF9RLnNsaWNlKDAsIDIpLm1hcChxID0+IHMuYW5zd2Vycz8uW3EuaWRdICE9PSB1bmRlZmluZWQgPyBxLnNbcy5hbnN3ZXJzW3EuaWRdXSA6ICIiKS5maWx0ZXIoQm9vbGVhbikuam9pbigiIFx1MDBCNyAiKX0KICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IG9uRGVsZXRlU25hcChzLmlkKX0gc3R5bGU9e3sgYmFja2dyb3VuZDogIm5vbmUiLCBib3JkZXI6ICJub25lIiwgY29sb3I6IFAuZGltLCBjdXJzb3I6ICJwb2ludGVyIiwgZm9udFNpemU6IDExLCBwYWRkaW5nOiAiNHB4IDhweCIgfX0+eyJcdTI3MTUifTwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICkpfQogICAgICAgIDwvZGl2PgogICAgICApfQoKICAgICAgPEJ0biBvbkNsaWNrPXtvcGVuU25hcH0gZnVsbD5UYWtlIGEgUHJvZ3Jlc3MgU25hcHNob3Q8L0J0bj4KICAgIDwvZGl2PgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgRU5UUlkgTU9EQUwKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIEVudHJ5TW9kYWwoeyBlbnRyeSwgb25TYXZlLCBvbkRlbGV0ZSwgb25DbG9zZSB9KSB7CiAgY29uc3QgaXNFZGl0ID0gISFlbnRyeTsKICBjb25zdCBbYWN0aW9uLCBzZXRBY3Rpb25dID0gdXNlU3RhdGUoZW50cnk/LmFjdGlvbiB8fCAiIik7CiAgY29uc3QgW3Jlc3BvbnNlLCBzZXRSZXNwb25zZV0gPSB1c2VTdGF0ZShlbnRyeT8ucmVzcG9uc2UgfHwgIiIpOwogIGNvbnN0IFtub3RlLCBzZXROb3RlXSA9IHVzZVN0YXRlKGVudHJ5Py5ub3RlIHx8ICIiKTsKICBjb25zdCBbY3R4cywgc2V0Q3R4c10gPSB1c2VTdGF0ZShlbnRyeT8uY29udGV4dHMgfHwgW10pOwogIGNvbnN0IFtkYXRlLCBzZXREYXRlXSA9IHVzZVN0YXRlKGVudHJ5Py5kYXRlPy5zbGljZSgwLCAxMCkgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSk7CiAgY29uc3QgW2NvbmZpcm1EZWwsIHNldENvbmZpcm1EZWxdID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IFtwaG90bywgc2V0UGhvdG9dID0gdXNlU3RhdGUoZW50cnk/LnBob3RvIHx8IG51bGwpOwogIGNvbnN0IGZpbGVSZWYgPSB1c2VSZWYobnVsbCk7CgogIGNvbnN0IHRvZ2dsZSA9IChjKSA9PiBzZXRDdHhzKHAgPT4gcC5pbmNsdWRlcyhjKSA/IHAuZmlsdGVyKHggPT4geCAhPT0gYykgOiBbLi4ucCwgY10pOwogIGNvbnN0IHZhbGlkID0gYWN0aW9uICYmIHJlc3BvbnNlOwoKICBjb25zdCBoYW5kbGVQaG90byA9IChlKSA9PiB7CiAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICBpZiAoIWZpbGUpIHJldHVybjsKICAgIC8vIFJlc2l6ZSB0byBtYXggODAwcHggdG8ga2VlcCBJbmRleGVkREIgbWFuYWdlYWJsZQogICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgIHJlYWRlci5vbmxvYWQgPSAoZXYpID0+IHsKICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7CiAgICAgICAgY29uc3QgbWF4ID0gODAwOwogICAgICAgIGxldCB3ID0gaW1nLndpZHRoLCBoID0gaW1nLmhlaWdodDsKICAgICAgICBpZiAodyA+IG1heCB8fCBoID4gbWF4KSB7CiAgICAgICAgICBpZiAodyA+IGgpIHsgaCA9IE1hdGgucm91bmQoaCAqIG1heCAvIHcpOyB3ID0gbWF4OyB9CiAgICAgICAgICBlbHNlIHsgdyA9IE1hdGgucm91bmQodyAqIG1heCAvIGgpOyBoID0gbWF4OyB9CiAgICAgICAgfQogICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwogICAgICAgIGNhbnZhcy53aWR0aCA9IHc7IGNhbnZhcy5oZWlnaHQgPSBoOwogICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpLmRyYXdJbWFnZShpbWcsIDAsIDAsIHcsIGgpOwogICAgICAgIHNldFBob3RvKGNhbnZhcy50b0RhdGFVUkwoImltYWdlL2pwZWciLCAwLjcpKTsKICAgICAgfTsKICAgICAgaW1nLnNyYyA9IGV2LnRhcmdldC5yZXN1bHQ7CiAgICB9OwogICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgfTsKCiAgcmV0dXJuICgKICAgIDxNb2RhbCBvbkNsb3NlPXtvbkNsb3NlfSB0aXRsZT17aXNFZGl0ID8gIkVkaXQgSW50ZXJhY3Rpb24iIDogIkxvZyBhbiBJbnRlcmFjdGlvbiJ9PgogICAgICA8bGFiZWwgc3R5bGU9e2Nzcy5sYWJlbH0+RGF0ZTwvbGFiZWw+CiAgICAgIDxpbnB1dCB0eXBlPSJkYXRlIiB2YWx1ZT17ZGF0ZX0gb25DaGFuZ2U9e2UgPT4gc2V0RGF0ZShlLnRhcmdldC52YWx1ZSl9IHN0eWxlPXtjc3MuZGF0ZUlufSAvPgoKICAgICAgPGxhYmVsIHN0eWxlPXtjc3MubGFiZWx9PldoYXQgZGlkIHlvdSBkbz88L2xhYmVsPgogICAgICA8ZGl2IHN0eWxlPXtjc3MuY2hpcHN9PgogICAgICAgIHtBQ1RJT05TLm1hcChhID0+IDxDaGlwIGtleT17YS5pZH0gYWN0aXZlPXthY3Rpb24gPT09IGEuaWR9IGNvbG9yPXthLmN9IG9uQ2xpY2s9eygpID0+IHNldEFjdGlvbihhLmlkKX0+e2EuaWNvbn0ge2EubGFiZWx9PC9DaGlwPil9CiAgICAgIDwvZGl2PgoKICAgICAgPGxhYmVsIHN0eWxlPXtjc3MubGFiZWx9PkhvdyBkaWQgdGhleSByZXNwb25kPzwvbGFiZWw+CiAgICAgIDxkaXYgc3R5bGU9e2Nzcy5jaGlwc30+CiAgICAgICAge1JFU1BPTlNFUy5tYXAociA9PiA8Q2hpcCBrZXk9e3IuaWR9IGFjdGl2ZT17cmVzcG9uc2UgPT09IHIuaWR9IGNvbG9yPXtyLmN9IG9uQ2xpY2s9eygpID0+IHNldFJlc3BvbnNlKHIuaWQpfT57ci5pY29ufSB7ci5sYWJlbH08L0NoaXA+KX0KICAgICAgPC9kaXY+CgogICAgICA8bGFiZWwgc3R5bGU9e2Nzcy5sYWJlbH0+Q29udGV4dCA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRXZWlnaHQ6IDQwMCB9fT4ob3B0aW9uYWwpPC9zcGFuPjwvbGFiZWw+CiAgICAgIDxkaXYgc3R5bGU9e2Nzcy5jaGlwc30+CiAgICAgICAge0NPTlRFWFRTLm1hcChjID0+IDxDaGlwIGtleT17Y30gc21hbGwgYWN0aXZlPXtjdHhzLmluY2x1ZGVzKGMpfSBjb2xvcj17UC53YXJtfSBvbkNsaWNrPXsoKSA9PiB0b2dnbGUoYyl9PntjfTwvQ2hpcD4pfQogICAgICA8L2Rpdj4KCiAgICAgIDxsYWJlbCBzdHlsZT17Y3NzLmxhYmVsfT5QaG90byA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRXZWlnaHQ6IDQwMCB9fT4ob3B0aW9uYWwpPC9zcGFuPjwvbGFiZWw+CiAgICAgIHtwaG90byA/ICgKICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogMTQsIHBvc2l0aW9uOiAicmVsYXRpdmUiLCBkaXNwbGF5OiAiaW5saW5lLWJsb2NrIiB9fT4KICAgICAgICAgIDxpbWcgc3JjPXtwaG90b30gYWx0PSJBdHRhY2hlZCIgc3R5bGU9e3sgd2lkdGg6ICIxMDAlIiwgbWF4V2lkdGg6IDIyMCwgYm9yZGVyUmFkaXVzOiAxMCwgZGlzcGxheTogImJsb2NrIiwgYm9yZGVyOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCB9fSAvPgogICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IHNldFBob3RvKG51bGwpOyBpZiAoZmlsZVJlZi5jdXJyZW50KSBmaWxlUmVmLmN1cnJlbnQudmFsdWUgPSAiIjsgfX0gc3R5bGU9e3sgcG9zaXRpb246ICJhYnNvbHV0ZSIsIHRvcDogNiwgcmlnaHQ6IDYsIGJhY2tncm91bmQ6ICJyZ2JhKDAsMCwwLDAuNykiLCBib3JkZXI6ICJub25lIiwgY29sb3I6ICIjZmZmIiwgYm9yZGVyUmFkaXVzOiAiNTAlIiwgd2lkdGg6IDI0LCBoZWlnaHQ6IDI0LCBmb250U2l6ZTogMTMsIGN1cnNvcjogInBvaW50ZXIiLCBkaXNwbGF5OiAiZmxleCIsIGFsaWduSXRlbXM6ICJjZW50ZXIiLCBqdXN0aWZ5Q29udGVudDogImNlbnRlciIgfX0+4pyVPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICkgOiAoCiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBmaWxlUmVmLmN1cnJlbnQ/LmNsaWNrKCl9IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgYWxpZ25JdGVtczogImNlbnRlciIsIGdhcDogOCwgcGFkZGluZzogIjEwcHggMTRweCIsIGJvcmRlclJhZGl1czogOSwgYm9yZGVyOiBgMXB4IGRhc2hlZCAke1AuYm9yZGVyMn1gLCBiYWNrZ3JvdW5kOiAidHJhbnNwYXJlbnQiLCBjb2xvcjogUC5kaW0sIGN1cnNvcjogInBvaW50ZXIiLCBmb250U2l6ZTogMTMsIGZvbnRGYW1pbHk6ICJpbmhlcml0IiwgbWFyZ2luQm90dG9tOiAxNCwgd2lkdGg6ICIxMDAlIiB9fT4KICAgICAgICAgIDxzdmcgd2lkdGg9IjE4IiBoZWlnaHQ9IjE4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2VXaWR0aD0iMS41Ij48cmVjdCB4PSIzIiB5PSIzIiB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHJ4PSIzIi8+PGNpcmNsZSBjeD0iOC41IiBjeT0iOC41IiByPSIxLjUiLz48cGF0aCBkPSJNMjEgMTVsLTUtNUw1IDIxIi8+PC9zdmc+CiAgICAgICAgICBBZGQgYSBwaG90bwogICAgICAgIDwvYnV0dG9uPgogICAgICApfQogICAgICA8aW5wdXQgcmVmPXtmaWxlUmVmfSB0eXBlPSJmaWxlIiBhY2NlcHQ9ImltYWdlLyoiIG9uQ2hhbmdlPXtoYW5kbGVQaG90b30gc3R5bGU9e3sgZGlzcGxheTogIm5vbmUiIH19IC8+CgogICAgICA8bGFiZWwgc3R5bGU9e2Nzcy5sYWJlbH0+Tm90ZXMgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250V2VpZ2h0OiA0MDAgfX0+KG9wdGlvbmFsKTwvc3Bhbj48L2xhYmVsPgogICAgICA8dGV4dGFyZWEgdmFsdWU9e25vdGV9IG9uQ2hhbmdlPXtlID0+IHNldE5vdGUoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj0iV2hhdCBoYXBwZW5lZD8gSG93IGRpZCBpdCBmZWVsPyIgc3R5bGU9e2Nzcy50ZXh0YXJlYX0gcm93cz17M30gLz4KCiAgICAgIDxCdG4gb25DbGljaz17KCkgPT4geyBpZiAodmFsaWQpIG9uU2F2ZSh7IGlkOiBlbnRyeT8uaWQgfHwgdWlkKCksIGRhdGU6IG5ldyBEYXRlKGRhdGUgKyAiVDEyOjAwOjAwIikudG9JU09TdHJpbmcoKSwgYWN0aW9uLCByZXNwb25zZSwgbm90ZSwgY29udGV4dHM6IGN0eHMsIHBob3RvOiBwaG90byB8fCB1bmRlZmluZWQgfSk7IH19IGZ1bGwgZGlzYWJsZWQ9eyF2YWxpZH0gc3R5bGU9e3sgbWFyZ2luVG9wOiAxNiB9fT57aXNFZGl0ID8gIlVwZGF0ZSIgOiAiU2F2ZSJ9PC9CdG4+CgogICAgICB7aXNFZGl0ICYmIG9uRGVsZXRlICYmICgKICAgICAgICAhY29uZmlybURlbAogICAgICAgICAgPyA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldENvbmZpcm1EZWwodHJ1ZSl9IHN0eWxlPXt7IC4uLmNzcy50ZXh0QnRuLCBjb2xvcjogUC5kaW0sIG1hcmdpblRvcDogOCB9fT5EZWxldGUgdGhpcyBlbnRyeTwvYnV0dG9uPgogICAgICAgICAgOiA8ZGl2IHN0eWxlPXt7IHRleHRBbGlnbjogImNlbnRlciIsIG1hcmdpblRvcDogOCB9fT4KICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5yZWQsIGZvbnRTaXplOiAxMiwgbWFyZ2luOiAiMCAwIDZweCIgfX0+QXJlIHlvdSBzdXJlPzwvcD4KICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IG9uRGVsZXRlKGVudHJ5LmlkKX0gc3R5bGU9e3sgLi4uY3NzLnRleHRCdG4sIGNvbG9yOiBQLnJlZCB9fT5ZZXMsIGRlbGV0ZTwvYnV0dG9uPgogICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0Q29uZmlybURlbChmYWxzZSl9IHN0eWxlPXt7IC4uLmNzcy50ZXh0QnRuLCBjb2xvcjogUC5kaW0sIG1hcmdpbkxlZnQ6IDEyIH19PkNhbmNlbDwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgKX0KICAgIDwvTW9kYWw+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBDQVJEIChQRVJTUEVDVElWRSkgTU9EQUwKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIENhcmRNb2RhbCh7IGNhcmQsIG9uQ2xvc2UgfSkgewogIHJldHVybiAoCiAgICA8TW9kYWwgb25DbG9zZT17b25DbG9zZX0gdGl0bGU9e2Dil4cgJHtjYXJkLnRpdGxlfWB9IHRpdGxlQ29sb3I9e1Aud2FybX0+CiAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiAiI0QxRDVEQiIsIGZvbnRTaXplOiAxNSwgbGluZUhlaWdodDogMS43IH19PntjYXJkLmJvZHl9PC9wPgogICAgICB7Y2FyZC5zcmMgJiYgPHAgc3R5bGU9e3sgY29sb3I6IFAuYmx1ZSwgZm9udFNpemU6IDEyLCBmb250U3R5bGU6ICJpdGFsaWMiLCBtYXJnaW5Ub3A6IDEyIH19PlNvdXJjZToge2NhcmQuc3JjfTwvcD59CiAgICAgIHtjYXJkLnF1b3RlICYmICgKICAgICAgICA8ZGl2IHN0eWxlPXt7IGJhY2tncm91bmQ6IFAuYmcsIGJvcmRlclJhZGl1czogMTIsIHBhZGRpbmc6IDE2LCBtYXJnaW5Ub3A6IDE2LCBib3JkZXJMZWZ0OiBgM3B4IHNvbGlkICR7UC53YXJtfTQ0YCB9fT4KICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAxNCwgbGluZUhlaWdodDogMS43LCBmb250U3R5bGU6ICJpdGFsaWMiLCBtYXJnaW46IDAgfX0+e2NhcmQucXVvdGV9PC9wPgogICAgICAgICAge2NhcmQud2hvICYmIDxwIHN0eWxlPXt7IGNvbG9yOiBQLndhcm0sIGZvbnRTaXplOiAxMiwgbWFyZ2luVG9wOiA4LCBtYXJnaW5Cb3R0b206IDAgfX0+4oCUIHtjYXJkLndob308L3A+fQogICAgICAgIDwvZGl2PgogICAgICApfQogICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogMjAsIHBhZGRpbmc6IDE0LCBiYWNrZ3JvdW5kOiBgJHtQLmNhcmQyfTg4YCwgYm9yZGVyUmFkaXVzOiAxMCwgYm9yZGVyTGVmdDogYDNweCBzb2xpZCAke1AuZ3JlZW59MzNgIH19PgogICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEyLCBtYXJnaW46IDAsIGxpbmVIZWlnaHQ6IDEuNiB9fT4KICAgICAgICAgIFRoaXMgcGVyc3BlY3RpdmUgaXNuJ3QgYWJvdXQgZGlzbWlzc2luZyB5b3VyIHBhaW4uIFdoYXQgeW91J3JlIGZlZWxpbmcgaXMgcmVhbC4gVGhpcyBpcyBhYm91dCBzZXBhcmF0aW5nIHdoYXQncyBoYXBwZW5pbmcgZnJvbSB3aGF0IGl0IG1lYW5zIOKAlCBiZWNhdXNlIGluIHN0ZXBmYW1pbHkgZHluYW1pY3MsIHRob3NlIGFyZSBvZnRlbiB2ZXJ5IGRpZmZlcmVudCB0aGluZ3MuCiAgICAgICAgPC9wPgogICAgICA8L2Rpdj4KICAgIDwvTW9kYWw+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBTTkFQU0hPVCBNT0RBTAovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKZnVuY3Rpb24gU25hcE1vZGFsKHsgc25hcHMsIG9uU2F2ZSwgb25DbG9zZSB9KSB7CiAgY29uc3QgW2Fucywgc2V0QW5zXSA9IHVzZVN0YXRlKHt9KTsKICBjb25zdCBkb25lID0gU05BUF9RLmV2ZXJ5KHEgPT4gYW5zW3EuaWRdICE9PSB1bmRlZmluZWQpOwoKICByZXR1cm4gKAogICAgPE1vZGFsIG9uQ2xvc2U9e29uQ2xvc2V9IHRpdGxlPSJNb250aGx5IENoZWNrLWluIj4KICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTMsIG1hcmdpbkJvdHRvbTogMTYgfX0+QW5zd2VyIGhvbmVzdGx5IOKAlCB0aGlzIGlzIGZvciB5b3UuIFRoZXNlIHNuYXBzaG90cyBiZWNvbWUgdmFsdWFibGUgd2hlbiB5b3UgY29tcGFyZSB0aGVtIG92ZXIgdGltZS48L3A+CiAgICAgIHtTTkFQX1EubWFwKHEgPT4gKAogICAgICAgIDxkaXYga2V5PXtxLmlkfSBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDE4IH19PgogICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IC4uLmNzcy5sYWJlbCwgZm9udFNpemU6IDEzIH19PntxLnF9PC9sYWJlbD4KICAgICAgICAgIDxkaXYgc3R5bGU9e2Nzcy5jaGlwc30+CiAgICAgICAgICAgIHtxLnMubWFwKChzLCBpKSA9PiA8Q2hpcCBrZXk9e2l9IHNtYWxsIGFjdGl2ZT17YW5zW3EuaWRdID09PSBpfSBjb2xvcj17UC53YXJtfSBvbkNsaWNrPXsoKSA9PiBzZXRBbnMocCA9PiAoeyAuLi5wLCBbcS5pZF06IGkgfSkpfT57c308L0NoaXA+KX0KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICApKX0KICAgICAgPEJ0biBvbkNsaWNrPXsoKSA9PiB7IGlmIChkb25lKSBvblNhdmUoeyBpZDogdWlkKCksIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwgYW5zd2VyczogYW5zIH0pOyB9fSBmdWxsIGRpc2FibGVkPXshZG9uZX0+U2F2ZSBTbmFwc2hvdDwvQnRuPgogICAgPC9Nb2RhbD4KICApOwp9CgovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKLy8gIFNFVFRJTkdTIE1PREFMCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkApmdW5jdGlvbiBTZXR0aW5nc01vZGFsKHsgb25DbG9zZSwgb25FeHBvcnQsIG9uSW1wb3J0LCBvblJlZG8gfSkgewogIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTsKICBjb25zdCBbc2hvd1ByaXZhY3ksIHNldFNob3dQcml2YWN5XSA9IHVzZVN0YXRlKGZhbHNlKTsKICByZXR1cm4gKAogICAgPE1vZGFsIG9uQ2xvc2U9e29uQ2xvc2V9IHRpdGxlPSJTZXR0aW5ncyIgc21hbGw+CiAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDEzLCBtYXJnaW5Cb3R0b206IDE0IH19PllvdXIgZGF0YSBsaXZlcyBvbiB0aGlzIGRldmljZSBvbmx5LiBCYWNrIGl0IHVwIHRvIGtlZXAgaXQgc2FmZS48L3A+CiAgICAgIDxCdG4gb25DbGljaz17b25FeHBvcnR9IGZ1bGw+RXhwb3J0IERhdGEgQmFja3VwPC9CdG4+CiAgICAgIDxCdG4gb25DbGljaz17KCkgPT4gcmVmLmN1cnJlbnQ/LmNsaWNrKCl9IGZ1bGwgc2Vjb25kYXJ5IHN0eWxlPXt7IG1hcmdpblRvcDogOCB9fT5JbXBvcnQgRGF0YSBCYWNrdXA8L0J0bj4KICAgICAgPGlucHV0IHJlZj17cmVmfSB0eXBlPSJmaWxlIiBhY2NlcHQ9Ii5qc29uIiBvbkNoYW5nZT17b25JbXBvcnR9IHN0eWxlPXt7IGRpc3BsYXk6ICJub25lIiB9fSAvPgogICAgICA8aHIgc3R5bGU9e3sgYm9yZGVyOiAibm9uZSIsIGJvcmRlclRvcDogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAsIG1hcmdpbjogIjIwcHggMCAxNHB4IiB9fSAvPgogICAgICA8QnRuIG9uQ2xpY2s9e29uUmVkb30gZnVsbCBzZWNvbmRhcnk+UmVkbyBPbmJvYXJkaW5nPC9CdG4+CiAgICAgIDxociBzdHlsZT17eyBib3JkZXI6ICJub25lIiwgYm9yZGVyVG9wOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCwgbWFyZ2luOiAiMjBweCAwIDE0cHgiIH19IC8+CiAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd1ByaXZhY3kocCA9PiAhcCl9IHN0eWxlPXt7IC4uLmNzcy50ZXh0QnRuLCBjb2xvcjogUC5kaW0sIHdpZHRoOiAiMTAwJSIsIHRleHRBbGlnbjogImNlbnRlciIsIGZvbnRTaXplOiAxMiB9fT4KICAgICAgICB7c2hvd1ByaXZhY3kgPyAiSGlkZSIgOiAiU2hvdyJ9IFByaXZhY3kgUG9saWN5CiAgICAgIDwvYnV0dG9uPgogICAgICB7c2hvd1ByaXZhY3kgJiYgKAogICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAxMCwgcGFkZGluZzogMTQsIGJhY2tncm91bmQ6IFAuYmcsIGJvcmRlclJhZGl1czogMTAsIGZvbnRTaXplOiAxMSwgY29sb3I6IFAubXV0ZWQsIGxpbmVIZWlnaHQ6IDEuNyB9fT4KICAgICAgICAgIDxwIHN0eWxlPXt7IGZvbnRXZWlnaHQ6IDYwMCwgY29sb3I6IFAudGV4dCwgbWFyZ2luQm90dG9tOiA4LCBmb250U2l6ZTogMTIgfX0+UHJpdmFjeSBQb2xpY3k8L3A+CiAgICAgICAgICA8cCBzdHlsZT17eyBtYXJnaW46ICIwIDAgOHB4IiB9fT5TdGVhZGZhc3Qgc3RvcmVzIGFsbCBkYXRhIGxvY2FsbHkgb24geW91ciBkZXZpY2UgdXNpbmcgSW5kZXhlZERCLiBUaGlzIGluY2x1ZGVzIGludGVyYWN0aW9uIGxvZ3MsIHByb2ZpbGUgc2V0dGluZ3MsIHByb2dyZXNzIHNuYXBzaG90cywgYW5kIGFueSBwaG90b3MgeW91IGF0dGFjaC48L3A+CiAgICAgICAgICA8cCBzdHlsZT17eyBtYXJnaW46ICIwIDAgOHB4IiB9fT48c3Ryb25nIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQgfX0+Tm8gZGF0YSBpcyBjb2xsZWN0ZWQsIHRyYW5zbWl0dGVkLCBvciBzdG9yZWQgb24gYW55IHNlcnZlci48L3N0cm9uZz4gV2UgaGF2ZSBubyBhY2Nlc3MgdG8geW91ciBkYXRhLiBUaGVyZSBpcyBubyBhY2NvdW50LCBubyBsb2dpbiwgbm8gYW5hbHl0aWNzLCBubyB0cmFja2luZywgYW5kIG5vIGNvb2tpZXMuPC9wPgogICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luOiAiMCAwIDhweCIgfX0+Tm8gZXh0ZXJuYWwgbmV0d29yayByZXF1ZXN0cyBhcmUgbWFkZS4gVGhlIGFwcCB1c2VzIG9ubHkgc3lzdGVtIGZvbnRzIGFuZCBydW5zIGVudGlyZWx5IG9mZmxpbmUgYWZ0ZXIgZmlyc3QgbG9hZC48L3A+CiAgICAgICAgICA8cCBzdHlsZT17eyBtYXJnaW46ICIwIDAgOHB4IiB9fT5Zb3UgY2FuIGV4cG9ydCB5b3VyIGRhdGEgYXMgYSBKU09OIGZpbGUgYXQgYW55IHRpbWUgdXNpbmcgdGhlIEV4cG9ydCBidXR0b24gYWJvdmUuIFlvdSBjYW4gZGVsZXRlIGFsbCBkYXRhIGJ5IGNsZWFyaW5nIHlvdXIgYnJvd3NlcidzIHNpdGUgZGF0YSBmb3IgdGhpcyBhcHAuPC9wPgogICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luOiAiMCAwIDhweCIgfX0+UGhvdG9zIHlvdSBhdHRhY2ggYXJlIHJlc2l6ZWQgYW5kIHN0b3JlZCBsb2NhbGx5IGFzIHBhcnQgb2YgeW91ciBlbnRyeSBkYXRhLiBUaGV5IGFyZSBuZXZlciB1cGxvYWRlZCBhbnl3aGVyZS48L3A+CiAgICAgICAgICA8cCBzdHlsZT17eyBtYXJnaW46IDAgfX0+Q29udGFjdDogW3lvdXIgZW1haWwgaGVyZV08L3A+CiAgICAgICAgPC9kaXY+CiAgICAgICl9CiAgICA8L01vZGFsPgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgT05CT0FSRElORwovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKZnVuY3Rpb24gT25ib2FyZGluZyh7IG9uRG9uZSB9KSB7CiAgY29uc3QgW3N0ZXAsIHNldFN0ZXBdID0gdXNlU3RhdGUoMCk7CiAgY29uc3QgW2QsIHNldERdID0gdXNlU3RhdGUoeyBjaGlsZEFnZTogIiIsIGN1c3RvZHk6ICIiLCBsb3lhbHR5Q29uZmxpY3Q6ICIiLCB5ZWFyc0luUm9sZTogIiIsIGN1cnJlbnRTdGF0ZTogIiIsIHN0YXJ0RGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pOwogIGNvbnN0IHVwZCA9IChrLCB2KSA9PiBzZXREKHAgPT4gKHsgLi4ucCwgW2tdOiB2IH0pKTsKCiAgY29uc3Qgc3RlcHMgPSBbCiAgICB7IHRpdGxlOiAiQmVmb3JlIHdlIHN0YXJ0Iiwgc3ViOiAiVGhpcyBuZWVkcyB0byBiZSBzYWlkIHVwZnJvbnQuIiwgY29udGVudDogKAogICAgICA8ZGl2PgogICAgICAgIDxwIHN0eWxlPXtjc3Mub2JUZXh0fT5UaGUgcGF0aCB0byBhIGZ1bmN0aW9uYWwgcmVsYXRpb25zaGlwIHdpdGggYSByZXNpc3RhbnQgc3RlcGNoaWxkIHR5cGljYWxseSB0YWtlcyA8c3Ryb25nIHN0eWxlPXt7IGNvbG9yOiBQLndhcm0gfX0+NyB0byAxMiB5ZWFyczwvc3Ryb25nPi4gVGhlIGZhc3Rlc3QgZG9jdW1lbnRlZCBmdWxsIGludGVncmF0aW9uIHdhcyA0IHllYXJzLiBTb21lIGZhbWlsaWVzIG5ldmVyIGdldCB0aGVyZSDigJQgYW5kIGEgc3RhYmxlLCByZXNwZWN0ZnVsIGRpc3RhbmNlIGlzIGEgdmFsaWQgb3V0Y29tZS48L3A+CiAgICAgICAgPHAgc3R5bGU9e2Nzcy5vYlRleHR9Pk5vIGFwcCB3aWxsIGNoYW5nZSB0aGF0IHRpbWVsaW5lLiBXaGF0IHRoaXMgdG9vbCBkb2VzIGlzIG1ha2UgdGhlIGludmlzaWJsZSB2aXNpYmxlIOKAlCBzbyB5b3UgY2FuIHNlZSB3aGV0aGVyIHlvdXIgZWZmb3J0cyBhcmUgcHJvZHVjaW5nIGNoYW5nZSwgZXZlbiB3aGVuIGl0IGRvZXNuJ3QgZmVlbCBsaWtlIGl0LjwvcD4KICAgICAgICA8cCBzdHlsZT17Y3NzLm9iVGV4dH0+WW91J3JlIG5vdCBoZXJlIGJlY2F1c2UgeW91IGZhaWxlZC4gWW91J3JlIGhlcmUgYmVjYXVzZSB5b3UgY2FyZSBlbm91Z2ggdG8gdHJhY2sgd2hhdCdzIGFjdHVhbGx5IGhhcHBlbmluZy48L3A+CiAgICAgIDwvZGl2PgogICAgKX0sCiAgICB7IHRpdGxlOiAiSG93IG9sZCBpcyB0aGUgY2hpbGQ/Iiwgc3ViOiAiQXQgdGhlIHRpbWUgeW91ciBmYW1pbHkgZm9ybWVkIiwgY29udGVudDogKAogICAgICA8ZGl2IHN0eWxlPXtjc3MuY2hpcHN9PntPYmplY3Qua2V5cyhCRU5DSC5hZ2VzKS5tYXAoYSA9PiA8T2JCdG4ga2V5PXthfSBhY3RpdmU9e2QuY2hpbGRBZ2UgPT09IGF9IG9uQ2xpY2s9eygpID0+IHVwZCgiY2hpbGRBZ2UiLCBhKX0+e2F9IHllYXJzPC9PYkJ0bj4pfTwvZGl2PgogICAgKX0sCiAgICB7IHRpdGxlOiAiQ3VzdG9keSBhcnJhbmdlbWVudCIsIGNvbnRlbnQ6ICgKICAgICAgPGRpdiBzdHlsZT17Y3NzLmNoaXBzfT57WyJmdWxsIiwgIjUwLTUwIiwgIndlZWtlbmRzIiwgIm90aGVyIl0ubWFwKGMgPT4gPE9iQnRuIGtleT17Y30gYWN0aXZlPXtkLmN1c3RvZHkgPT09IGN9IG9uQ2xpY2s9eygpID0+IHVwZCgiY3VzdG9keSIsIGMpfT57YyA9PT0gImZ1bGwiID8gIkZ1bGwtdGltZSIgOiBjID09PSAiNTAtNTAiID8gIjUwLzUwIiA6IGMgPT09ICJ3ZWVrZW5kcyIgPyAiV2Vla2VuZHMiIDogIk90aGVyIn08L09iQnRuPil9PC9kaXY+CiAgICApfSwKICAgIHsgdGl0bGU6ICJMb3lhbHR5IGNvbmZsaWN0PyIsIHN1YjogIkRvZXMgdGhlIGNoaWxkIHNlZW0gdG9ybiBiZXR3ZWVuIGFjY2VwdGluZyB5b3UgYW5kIHN0YXlpbmcgbG95YWwgdG8gdGhlaXIgYmlvbG9naWNhbCBwYXJlbnQ/IiwgY29udGVudDogKAogICAgICA8ZGl2IHN0eWxlPXtjc3MuY2hpcHN9PntbIm5vbmUiLCAibWlsZCIsICJzdHJvbmciLCAidW5rbm93biJdLm1hcChsID0+IDxPYkJ0biBrZXk9e2x9IGFjdGl2ZT17ZC5sb3lhbHR5Q29uZmxpY3QgPT09IGx9IG9uQ2xpY2s9eygpID0+IHVwZCgibG95YWx0eUNvbmZsaWN0IiwgbCl9PntsID09PSAibm9uZSIgPyAiTm8gdmlzaWJsZSBjb25mbGljdCIgOiBsID09PSAibWlsZCIgPyAiU29tZSB0ZW5zaW9uIiA6IGwgPT09ICJzdHJvbmciID8gIlN0cm9uZyAvIGFjdGl2ZSIgOiAiSSdtIG5vdCBzdXJlIn08L09iQnRuPil9PC9kaXY+CiAgICApfSwKICAgIHsgdGl0bGU6ICJIb3cgbG9uZyBpbiB0aGlzIHJvbGU/IiwgY29udGVudDogKAogICAgICA8ZGl2IHN0eWxlPXtjc3MuY2hpcHN9PntbIjwgMSIsICIxIiwgIjItMyIsICI0LTYiLCAiNysiXS5tYXAoeSA9PiA8T2JCdG4ga2V5PXt5fSBhY3RpdmU9e2QueWVhcnNJblJvbGUgPT09IHl9IG9uQ2xpY2s9eygpID0+IHVwZCgieWVhcnNJblJvbGUiLCB5KX0+e3l9IHlye3kgIT09ICIxIiAmJiB5ICE9PSAiPCAxIiA/ICJzIiA6ICIifTwvT2JCdG4+KX08L2Rpdj4KICAgICl9LAogICAgeyB0aXRsZTogIkN1cnJlbnQgcmVsYXRpb25zaGlwIHN0YXRlIiwgY29udGVudDogKAogICAgICA8ZGl2IHN0eWxlPXtjc3MuY2hpcHN9PntbImhvc3RpbGUiLCAiYXZvaWRhbnQiLCAidGVuc2UiLCAibmV1dHJhbCIsICJ3YXJtaW5nIl0ubWFwKHMgPT4gPE9iQnRuIGtleT17c30gYWN0aXZlPXtkLmN1cnJlbnRTdGF0ZSA9PT0gc30gb25DbGljaz17KCkgPT4gdXBkKCJjdXJyZW50U3RhdGUiLCBzKX0+e3MuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzLnNsaWNlKDEpfTwvT2JCdG4+KX08L2Rpdj4KICAgICl9LAogICAgeyB0aXRsZTogIllvdXIgcmVhbGlzdGljIGJlbmNobWFyayIsIGNvbnRlbnQ6ICgoKSA9PiB7CiAgICAgIGNvbnN0IGFnZSA9IEJFTkNILmFnZXNbZC5jaGlsZEFnZV07CiAgICAgIHJldHVybiAoCiAgICAgICAgPGRpdj4KICAgICAgICAgIHthZ2UgJiYgPD4KICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTMgfX0+QmFzZWQgb24gd2hhdCB5b3UndmUgc2hhcmVkLCByZXNlYXJjaCBzdWdnZXN0czo8L3A+CiAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBQLnRleHQsIGZvbnRTaXplOiAyMiwgZm9udEZhbWlseTogIkdlb3JnaWEsICdUaW1lcyBOZXcgUm9tYW4nLCBzZXJpZiIsIGZvbnRXZWlnaHQ6IDUwMCwgbWFyZ2luOiAiMTJweCAwIiB9fT5UeXBpY2FsIHRpbWVsaW5lOiB7YWdlLnR9PC9wPgogICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEzLCBsaW5lSGVpZ2h0OiAxLjYgfX0+e2FnZS5ub3RlfTwvcD4KICAgICAgICAgIDwvPn0KICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAxNiwgcGFkZGluZzogMTQsIGJhY2tncm91bmQ6IGAke1AuY2FyZDJ9ODhgLCBib3JkZXJSYWRpdXM6IDEwLCBib3JkZXJMZWZ0OiBgM3B4IHNvbGlkICR7UC53YXJtfTQ0YCB9fT4KICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDEzLCBsaW5lSGVpZ2h0OiAxLjYsIG1hcmdpbjogMCB9fT4KICAgICAgICAgICAgICBUaGlzIHRvb2wgd29uJ3Qgc2hvcnRlbiB0aGF0IHRpbWVsaW5lLiBJdCB3aWxsIG1ha2UgdGhlIHByb2dyZXNzIHdpdGhpbiBpdCB2aXNpYmxlIOKAlCBzbyB5b3UgZG9uJ3QgYWJhbmRvbiB3aGF0J3Mgd29ya2luZywgYW5kIHlvdSBkb24ndCBidXJuIG91dCBmcm9tIGVmZm9ydCB0aGF0IGZlZWxzIGludmlzaWJsZS4KICAgICAgICAgICAgPC9wPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICk7CiAgICB9KSgpfSwKICBdOwoKICBjb25zdCBjYW5HbyA9IHN0ZXAgPT09IDAgfHwgc3RlcCA9PT0gNgogICAgfHwgKHN0ZXAgPT09IDEgJiYgZC5jaGlsZEFnZSkgfHwgKHN0ZXAgPT09IDIgJiYgZC5jdXN0b2R5KQogICAgfHwgKHN0ZXAgPT09IDMgJiYgZC5sb3lhbHR5Q29uZmxpY3QpIHx8IChzdGVwID09PSA0ICYmIGQueWVhcnNJblJvbGUpCiAgICB8fCAoc3RlcCA9PT0gNSAmJiBkLmN1cnJlbnRTdGF0ZSk7CgogIHJldHVybiAoCiAgICA8ZGl2IHN0eWxlPXtjc3Mucm9vdH0+CiAgICAgIDxkaXYgc3R5bGU9e3sgbWF4V2lkdGg6IDUwMCwgbWFyZ2luOiAiMCBhdXRvIiwgcGFkZGluZzogIjQwcHggMjBweCIgfX0+CiAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogNCwgbWFyZ2luQm90dG9tOiAyOCB9fT4KICAgICAgICAgIHtzdGVwcy5tYXAoKF8sIGkpID0+IDxkaXYga2V5PXtpfSBzdHlsZT17eyBmbGV4OiAxLCBoZWlnaHQ6IDMsIGJvcmRlclJhZGl1czogMiwgYmFja2dyb3VuZDogaSA8PSBzdGVwID8gUC53YXJtIDogUC5ib3JkZXIsIHRyYW5zaXRpb246ICJiYWNrZ3JvdW5kIC4zcyIgfX0gLz4pfQogICAgICAgIDwvZGl2PgogICAgICAgIDxoMiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMjIsIGZvbnRGYW1pbHk6ICJHZW9yZ2lhLCAnVGltZXMgTmV3IFJvbWFuJywgc2VyaWYiLCBtYXJnaW46ICIwIDAgNnB4IiB9fT57c3RlcHNbc3RlcF0udGl0bGV9PC9oMj4KICAgICAgICB7c3RlcHNbc3RlcF0uc3ViICYmIDxwIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDE0LCBtYXJnaW46ICIwIDAgMTZweCIgfX0+e3N0ZXBzW3N0ZXBdLnN1Yn08L3A+fQogICAgICAgIHtzdGVwc1tzdGVwXS5jb250ZW50fQogICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogImZsZXgiLCBnYXA6IDEwLCBtYXJnaW5Ub3A6IDI4IH19PgogICAgICAgICAge3N0ZXAgPiAwICYmIDxCdG4gb25DbGljaz17KCkgPT4gc2V0U3RlcChzID0+IHMgLSAxKX0gc2Vjb25kYXJ5PkJhY2s8L0J0bj59CiAgICAgICAgICA8QnRuIG9uQ2xpY2s9eygpID0+IHN0ZXAgPCBzdGVwcy5sZW5ndGggLSAxID8gc2V0U3RlcChzID0+IHMgKyAxKSA6IG9uRG9uZShkKX0gZGlzYWJsZWQ9eyFjYW5Hb30gc3R5bGU9e3sgZmxleDogMSB9fT4KICAgICAgICAgICAge3N0ZXAgPT09IHN0ZXBzLmxlbmd0aCAtIDEgPyAiR2V0IFN0YXJ0ZWQiIDogIkNvbnRpbnVlIn0KICAgICAgICAgIDwvQnRuPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyAgU0hBUkVEIFVJIENPTVBPTkVOVFMKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmZ1bmN0aW9uIE1vZGFsKHsgY2hpbGRyZW4sIG9uQ2xvc2UsIHRpdGxlLCB0aXRsZUNvbG9yLCBzbWFsbCB9KSB7CiAgcmV0dXJuICgKICAgIDxkaXYgc3R5bGU9e2Nzcy5vdmVybGF5fSBvbkNsaWNrPXtvbkNsb3NlfT4KICAgICAgPGRpdiBzdHlsZT17eyAuLi5jc3MubW9kYWwsIG1heFdpZHRoOiBzbWFsbCA/IDQwMCA6IDYwMCB9fSBvbkNsaWNrPXtlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9PgogICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uY3NzLm1vZGFsSGRyLCBmbGV4U2hyaW5rOiAwLCBwb3NpdGlvbjogInN0aWNreSIsIHRvcDogMCwgYmFja2dyb3VuZDogUC5jYXJkLCB6SW5kZXg6IDIsIGJvcmRlckJvdHRvbTogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAgfX0+CiAgICAgICAgICA8aDIgc3R5bGU9e3sgLi4uY3NzLm1vZGFsVGl0bGUsIGNvbG9yOiB0aXRsZUNvbG9yIHx8IFAudGV4dCB9fT57dGl0bGV9PC9oMj4KICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25DbG9zZX0gc3R5bGU9e2Nzcy5jbG9zZUJ0bn0+eyJcdTI3MTUifTwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogIjE2cHggMjBweCAyNHB4Iiwgb3ZlcmZsb3dZOiAiYXV0byIsIGZsZXg6IDEsIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAidG91Y2giIH19PntjaGlsZHJlbn08L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICApOwp9CgpmdW5jdGlvbiBCdG4oeyBjaGlsZHJlbiwgb25DbGljaywgZnVsbCwgc2Vjb25kYXJ5LCBkaXNhYmxlZCwgc3R5bGUgfSkgewogIHJldHVybiAoCiAgICA8YnV0dG9uCiAgICAgIG9uQ2xpY2s9e2Rpc2FibGVkID8gdW5kZWZpbmVkIDogb25DbGlja30KICAgICAgc3R5bGU9e3sKICAgICAgICBiYWNrZ3JvdW5kOiBzZWNvbmRhcnkgPyBQLmNhcmQyIDogYGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICR7UC53YXJtfSwgI0M0OTU2QSlgLAogICAgICAgIGNvbG9yOiBzZWNvbmRhcnkgPyBQLm11dGVkIDogUC5iZywKICAgICAgICBib3JkZXI6IHNlY29uZGFyeSA/IGAxcHggc29saWQgJHtQLmJvcmRlcn1gIDogIm5vbmUiLAogICAgICAgIGJvcmRlclJhZGl1czogMTEsCiAgICAgICAgcGFkZGluZzogIjEycHggMjJweCIsCiAgICAgICAgZm9udFNpemU6IDE0LAogICAgICAgIGZvbnRXZWlnaHQ6IHNlY29uZGFyeSA/IDQwMCA6IDYwMCwKICAgICAgICBjdXJzb3I6IGRpc2FibGVkID8gImRlZmF1bHQiIDogInBvaW50ZXIiLAogICAgICAgIGZvbnRGYW1pbHk6ICJpbmhlcml0IiwKICAgICAgICB3aWR0aDogZnVsbCA/ICIxMDAlIiA6ICJhdXRvIiwKICAgICAgICBvcGFjaXR5OiBkaXNhYmxlZCA/IDAuNCA6IDEsCiAgICAgICAgdHJhbnNpdGlvbjogIm9wYWNpdHkgLjJzIiwKICAgICAgICAuLi5zdHlsZSwKICAgICAgfX0KICAgID4KICAgICAge2NoaWxkcmVufQogICAgPC9idXR0b24+CiAgKTsKfQoKZnVuY3Rpb24gQ2hpcCh7IGNoaWxkcmVuLCBhY3RpdmUsIGNvbG9yLCBvbkNsaWNrLCBzbWFsbCB9KSB7CiAgcmV0dXJuICgKICAgIDxidXR0b24gb25DbGljaz17b25DbGlja30gc3R5bGU9e3sKICAgICAgcGFkZGluZzogc21hbGwgPyAiNXB4IDEwcHgiIDogIjhweCAxNHB4IiwKICAgICAgYm9yZGVyUmFkaXVzOiBzbWFsbCA/IDcgOiA5LAogICAgICBib3JkZXI6IGAxcHggc29saWQgJHthY3RpdmUgPyBjb2xvciA6IFAuYm9yZGVyfWAsCiAgICAgIGJhY2tncm91bmQ6IGFjdGl2ZSA/IGNvbG9yICsgIjIyIiA6ICJ0cmFuc3BhcmVudCIsCiAgICAgIGNvbG9yOiBhY3RpdmUgPyBjb2xvciA6IFAuZGltLAogICAgICBjdXJzb3I6ICJwb2ludGVyIiwKICAgICAgZm9udFNpemU6IHNtYWxsID8gMTIgOiAxMywKICAgICAgZm9udEZhbWlseTogImluaGVyaXQiLAogICAgICB0cmFuc2l0aW9uOiAiYWxsIC4xNXMiLAogICAgICB3aGl0ZVNwYWNlOiAibm93cmFwIiwKICAgIH19PgogICAgICB7Y2hpbGRyZW59CiAgICA8L2J1dHRvbj4KICApOwp9CgpmdW5jdGlvbiBPYkJ0bih7IGNoaWxkcmVuLCBhY3RpdmUsIG9uQ2xpY2sgfSkgewogIHJldHVybiAoCiAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xpY2t9IHN0eWxlPXt7CiAgICAgIHBhZGRpbmc6ICIxMnB4IDIwcHgiLAogICAgICBib3JkZXJSYWRpdXM6IDExLAogICAgICBib3JkZXI6IGAxcHggc29saWQgJHthY3RpdmUgPyBQLndhcm0gOiBQLmJvcmRlcn1gLAogICAgICBiYWNrZ3JvdW5kOiBhY3RpdmUgPyBQLndhcm0gKyAiMTgiIDogInRyYW5zcGFyZW50IiwKICAgICAgY29sb3I6IGFjdGl2ZSA/IFAud2FybSA6IFAubXV0ZWQsCiAgICAgIGN1cnNvcjogInBvaW50ZXIiLAogICAgICBmb250U2l6ZTogMTQsCiAgICAgIGZvbnRGYW1pbHk6ICJpbmhlcml0IiwKICAgICAgdHJhbnNpdGlvbjogImFsbCAuMTVzIiwKICAgIH19PgogICAgICB7Y2hpbGRyZW59CiAgICA8L2J1dHRvbj4KICApOwp9CgpmdW5jdGlvbiBTdGF0KHsgbiwgbCB9KSB7CiAgcmV0dXJuICgKICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgYmFja2dyb3VuZDogUC5jYXJkLCBib3JkZXJSYWRpdXM6IDExLCBwYWRkaW5nOiAiMTJweCAxMHB4IiwgdGV4dEFsaWduOiAiY2VudGVyIiwgYm9yZGVyOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCB9fT4KICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTgsIGZvbnRGYW1pbHk6ICJHZW9yZ2lhLCAnVGltZXMgTmV3IFJvbWFuJywgc2VyaWYiLCBmb250V2VpZ2h0OiA2MDAgfX0+e259PC9kaXY+CiAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTAsIG1hcmdpblRvcDogMiB9fT57bH08L2Rpdj4KICAgIDwvZGl2PgogICk7Cn0KCmZ1bmN0aW9uIFNlY3Rpb25UaXRsZSh7IGNoaWxkcmVuIH0pIHsKICByZXR1cm4gPGRpdiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMSwgdGV4dFRyYW5zZm9ybTogInVwcGVyY2FzZSIsIGxldHRlclNwYWNpbmc6ICIwLjA4ZW0iLCBtYXJnaW46ICIxNnB4IDAgOHB4IiwgZm9udFdlaWdodDogNTAwIH19PntjaGlsZHJlbn08L2Rpdj47Cn0KCmZ1bmN0aW9uIFRhYnMoeyBpdGVtcywgYWN0aXZlLCBvblBpY2sgfSkgewogIHJldHVybiAoCiAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiAzLCBtYXJnaW5Cb3R0b206IDE0LCBiYWNrZ3JvdW5kOiBQLmNhcmQsIGJvcmRlclJhZGl1czogOSwgcGFkZGluZzogMyB9fT4KICAgICAge2l0ZW1zLm1hcChpID0+ICgKICAgICAgICA8YnV0dG9uIGtleT17aX0gb25DbGljaz17KCkgPT4gb25QaWNrKGkpfSBzdHlsZT17ewogICAgICAgICAgZmxleDogMSwgcGFkZGluZzogIjhweCAxMHB4IiwgYm9yZGVyUmFkaXVzOiA3LCBib3JkZXI6ICJub25lIiwgY3Vyc29yOiAicG9pbnRlciIsCiAgICAgICAgICBmb250U2l6ZTogMTIsIGZvbnRGYW1pbHk6ICJpbmhlcml0IiwgZm9udFdlaWdodDogNTAwLAogICAgICAgICAgYmFja2dyb3VuZDogYWN0aXZlID09PSBpID8gUC53YXJtICsgIjI4IiA6ICJ0cmFuc3BhcmVudCIsCiAgICAgICAgICBjb2xvcjogYWN0aXZlID09PSBpID8gUC53YXJtIDogUC5kaW0sCiAgICAgICAgICB0cmFuc2l0aW9uOiAiYWxsIC4xNXMiLAogICAgICAgIH19PgogICAgICAgICAge2l9CiAgICAgICAgPC9idXR0b24+CiAgICAgICkpfQogICAgPC9kaXY+CiAgKTsKfQoKZnVuY3Rpb24gRW50cnlSb3coeyBlbnRyeSwgb25DbGljayB9KSB7CiAgY29uc3QgYSA9IEFDVElPTlMuZmluZCh4ID0+IHguaWQgPT09IGVudHJ5LmFjdGlvbik7CiAgY29uc3QgciA9IFJFU1BPTlNFUy5maW5kKHggPT4geC5pZCA9PT0gZW50cnkucmVzcG9uc2UpOwogIHJldHVybiAoCiAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xpY2t9IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCB3aWR0aDogIjEwMCUiLCBwYWRkaW5nOiAxMiwgbWFyZ2luQm90dG9tOiA2LCB0ZXh0QWxpZ246ICJsZWZ0IiwgY3Vyc29yOiAicG9pbnRlciIsIGZvbnRGYW1pbHk6ICJpbmhlcml0IiwgYm9yZGVyOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCB9fT4KICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogMTAgfX0+CiAgICAgICAge2VudHJ5LnBob3RvICYmICgKICAgICAgICAgIDxpbWcgc3JjPXtlbnRyeS5waG90b30gYWx0PSIiIHN0eWxlPXt7IHdpZHRoOiA0NCwgaGVpZ2h0OiA0NCwgYm9yZGVyUmFkaXVzOiA3LCBvYmplY3RGaXQ6ICJjb3ZlciIsIGZsZXhTaHJpbms6IDAsIGJvcmRlcjogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAgfX0gLz4KICAgICAgICApfQogICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgbWluV2lkdGg6IDAgfX0+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiwgYWxpZ25JdGVtczogImNlbnRlciIsIG1hcmdpbkJvdHRvbTogZW50cnkubm90ZSA/IDQgOiAwLCBmbGV4V3JhcDogIndyYXAiLCBnYXA6IDQgfX0+CiAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBQLmRpbSwgZm9udFNpemU6IDExIH19PntmbXRTaG9ydFlyKGVudHJ5LmRhdGUpfTwvc3Bhbj4KICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAiZmxleCIsIGdhcDogNSwgYWxpZ25JdGVtczogImNlbnRlciIgfX0+CiAgICAgICAgICAgICAge2EgJiYgPHNwYW4gc3R5bGU9e3sgcGFkZGluZzogIjJweCA3cHgiLCBib3JkZXJSYWRpdXM6IDUsIGZvbnRTaXplOiAxMSwgYmFja2dyb3VuZDogYS5jICsgIjFhIiwgY29sb3I6IGEuYyB9fT57YS5pY29ufSB7YS5sYWJlbH08L3NwYW4+fQogICAgICAgICAgICAgIHtyICYmIDxzcGFuIHN0eWxlPXt7IHBhZGRpbmc6ICIycHggN3B4IiwgYm9yZGVyUmFkaXVzOiA1LCBmb250U2l6ZTogMTEsIGJhY2tncm91bmQ6IHIuYyArICIxYSIsIGNvbG9yOiByLmMgfX0+e3IuaWNvbn08L3NwYW4+fQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAge2VudHJ5Lm5vdGUgJiYgPHAgc3R5bGU9e3sgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMiwgbWFyZ2luOiAwLCBsaW5lSGVpZ2h0OiAxLjQgfX0+e2VudHJ5Lm5vdGUuc2xpY2UoMCwgMTAwKX17ZW50cnkubm90ZS5sZW5ndGggPiAxMDAgPyAi4oCmIiA6ICIifTwvcD59CiAgICAgICAgICB7ZW50cnkuY29udGV4dHM/Lmxlbmd0aCA+IDAgJiYgKAogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICJmbGV4IiwgZ2FwOiAzLCBmbGV4V3JhcDogIndyYXAiLCBtYXJnaW5Ub3A6IDQgfX0+CiAgICAgICAgICAgICAge2VudHJ5LmNvbnRleHRzLm1hcChjID0+IDxzcGFuIGtleT17Y30gc3R5bGU9e3sgcGFkZGluZzogIjFweCA1cHgiLCBib3JkZXJSYWRpdXM6IDMsIGZvbnRTaXplOiA5LCBjb2xvcjogUC5kaW0sIGJhY2tncm91bmQ6IFAuY2FyZDIgfX0+e2N9PC9zcGFuPil9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKX0KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2J1dHRvbj4KICApOwp9CgpmdW5jdGlvbiBCZW5jaEl0ZW0oeyBsYWJlbCwgdmFsdWUgfSkgewogIHJldHVybiAoCiAgICA8ZGl2IHN0eWxlPXt7IC4uLmNzcy5jYXJkLCBwYWRkaW5nOiAxMSwgZGlzcGxheTogImZsZXgiLCBmbGV4RGlyZWN0aW9uOiAiY29sdW1uIiwgZ2FwOiAzIH19PgogICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxMSB9fT57bGFiZWx9PC9zcGFuPgogICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogUC50ZXh0LCBmb250U2l6ZTogMTMsIHRleHRUcmFuc2Zvcm06ICJjYXBpdGFsaXplIiB9fT57dmFsdWV9PC9zcGFuPgogICAgPC9kaXY+CiAgKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vICBTVFlMRVMKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmNvbnN0IGNzc19jaGlwID0gKGFjdGl2ZSwgY29sb3IpID0+ICh7CiAgcGFkZGluZzogIjRweCA5cHgiLAogIGJvcmRlclJhZGl1czogNywKICBib3JkZXI6IGAxcHggc29saWQgJHthY3RpdmUgPyBjb2xvciA6IFAuYm9yZGVyfWAsCiAgYmFja2dyb3VuZDogYWN0aXZlID8gY29sb3IgKyAiMjIiIDogInRyYW5zcGFyZW50IiwKICBjb2xvcjogYWN0aXZlID8gY29sb3IgOiBQLmRpbSwKICBjdXJzb3I6ICJwb2ludGVyIiwKICBmb250U2l6ZTogMTEsCiAgZm9udEZhbWlseTogImluaGVyaXQiLAogIHdoaXRlU3BhY2U6ICJub3dyYXAiLAp9KTsKCmNvbnN0IGNzcyA9IHsKICByb290OiB7IGJhY2tncm91bmQ6IFAuYmcsIG1pbkhlaWdodDogIjEwMHZoIiwgZm9udEZhbWlseTogIi1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgUm9ib3RvLCBzYW5zLXNlcmlmIiwgY29sb3I6ICIjRDFENURCIiwgV2Via2l0Rm9udFNtb290aGluZzogImFudGlhbGlhc2VkIiB9LAogIHNoZWxsOiB7IG1heFdpZHRoOiA2MDAsIG1hcmdpbjogIjAgYXV0byIsIHBvc2l0aW9uOiAicmVsYXRpdmUiIH0sCiAgaGRyOiB7IHBhZGRpbmc6ICIyMnB4IDE2cHggMTBweCIsIGRpc3BsYXk6ICJmbGV4IiwganVzdGlmeUNvbnRlbnQ6ICJzcGFjZS1iZXR3ZWVuIiwgYWxpZ25JdGVtczogImZsZXgtc3RhcnQiIH0sCiAgbG9nbzogeyBmb250U2l6ZTogMjYsIGZvbnRGYW1pbHk6ICJHZW9yZ2lhLCAnVGltZXMgTmV3IFJvbWFuJywgc2VyaWYiLCBjb2xvcjogUC50ZXh0LCBtYXJnaW46IDAsIGZvbnRXZWlnaHQ6IDUwMCwgbGV0dGVyU3BhY2luZzogIi0wLjAyZW0iIH0sCiAgc3ViOiB7IGZvbnRTaXplOiAxMSwgY29sb3I6IFAuZGltLCBtYXJnaW46ICIycHggMCAwIiwgZm9udFN0eWxlOiAiaXRhbGljIiB9LAogIGljb25CdG46IHsgYmFja2dyb3VuZDogIm5vbmUiLCBib3JkZXI6ICJub25lIiwgY29sb3I6IFAuZGltLCBjdXJzb3I6ICJwb2ludGVyIiwgcGFkZGluZzogOCwgZm9udFNpemU6IDE2IH0sCiAgbmF2OiB7IGRpc3BsYXk6ICJmbGV4IiwgYm9yZGVyQm90dG9tOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCwgcGFkZGluZzogIjAgOHB4Iiwgb3ZlcmZsb3dYOiAiYXV0byIgfSwKICBuYXZCdG46IHsgZmxleDogMSwgYmFja2dyb3VuZDogIm5vbmUiLCBib3JkZXI6ICJub25lIiwgY3Vyc29yOiAicG9pbnRlciIsIHBhZGRpbmc6ICIxMXB4IDZweCA5cHgiLCBkaXNwbGF5OiAiZmxleCIsIGZsZXhEaXJlY3Rpb246ICJjb2x1bW4iLCBhbGlnbkl0ZW1zOiAiY2VudGVyIiwgZ2FwOiAyLCBmb250RmFtaWx5OiAiaW5oZXJpdCIsIHRyYW5zaXRpb246ICJjb2xvciAuMnMiIH0sCiAgZmFiOiB7IHBvc2l0aW9uOiAiZml4ZWQiLCBib3R0b206IDIyLCByaWdodDogMjIsIHdpZHRoOiA1NCwgaGVpZ2h0OiA1NCwgYm9yZGVyUmFkaXVzOiAyNywgYmFja2dyb3VuZDogYGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICR7UC53YXJtfSwgI0M0OTU2QSlgLCBjb2xvcjogUC5iZywgYm9yZGVyOiAibm9uZSIsIGN1cnNvcjogInBvaW50ZXIiLCBkaXNwbGF5OiAiZmxleCIsIGFsaWduSXRlbXM6ICJjZW50ZXIiLCBqdXN0aWZ5Q29udGVudDogImNlbnRlciIsIGJveFNoYWRvdzogYDAgNHB4IDIwcHggJHtQLndhcm19NDRgLCB6SW5kZXg6IDUwIH0sCiAgY2FyZDogeyBiYWNrZ3JvdW5kOiBQLmNhcmQsIGJvcmRlclJhZGl1czogMTIsIGJvcmRlcjogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAgfSwKICBwcm9tcHQ6IHsgd2lkdGg6ICIxMDAlIiwgYmFja2dyb3VuZDogUC5jYXJkLCBib3JkZXI6IGAxcHggc29saWQgJHtQLmJvcmRlcn1gLCBib3JkZXJSYWRpdXM6IDEyLCBwYWRkaW5nOiAxNCwgZGlzcGxheTogImZsZXgiLCBnYXA6IDEwLCBhbGlnbkl0ZW1zOiAiZmxleC1zdGFydCIsIGN1cnNvcjogInBvaW50ZXIiLCB0ZXh0QWxpZ246ICJsZWZ0IiwgbWFyZ2luQm90dG9tOiAxMCwgZm9udEZhbWlseTogImluaGVyaXQiIH0sCiAgb3ZlcmxheTogeyBwb3NpdGlvbjogImZpeGVkIiwgaW5zZXQ6IDAsIGJhY2tncm91bmQ6ICJyZ2JhKDAsMCwwLC43MikiLCBiYWNrZHJvcEZpbHRlcjogImJsdXIoNHB4KSIsIHpJbmRleDogMTAwLCBkaXNwbGF5OiAiZmxleCIsIGFsaWduSXRlbXM6ICJmbGV4LWVuZCIsIGp1c3RpZnlDb250ZW50OiAiY2VudGVyIiB9LAogIG1vZGFsOiB7IGJhY2tncm91bmQ6IFAuY2FyZCwgYm9yZGVyUmFkaXVzOiAiMThweCAxOHB4IDAgMCIsIHdpZHRoOiAiMTAwJSIsIG1heEhlaWdodDogIjg1dmgiLCBvdmVyZmxvdzogImhpZGRlbiIsIGJvcmRlcjogYDFweCBzb2xpZCAke1AuYm9yZGVyfWAsIGJvcmRlckJvdHRvbTogIm5vbmUiLCBkaXNwbGF5OiAiZmxleCIsIGZsZXhEaXJlY3Rpb246ICJjb2x1bW4iIH0sCiAgbW9kYWxIZHI6IHsgZGlzcGxheTogImZsZXgiLCBqdXN0aWZ5Q29udGVudDogInNwYWNlLWJldHdlZW4iLCBhbGlnbkl0ZW1zOiAiY2VudGVyIiwgcGFkZGluZzogIjE4cHggMjBweCAwIiwgcG9zaXRpb246ICJzdGlja3kiLCB0b3A6IDAsIGJhY2tncm91bmQ6IFAuY2FyZCwgekluZGV4OiAxMCB9LAogIG1vZGFsVGl0bGU6IHsgY29sb3I6IFAudGV4dCwgZm9udFNpemU6IDE3LCBmb250RmFtaWx5OiAiR2VvcmdpYSwgJ1RpbWVzIE5ldyBSb21hbicsIHNlcmlmIiwgbWFyZ2luOiAwLCBmb250V2VpZ2h0OiA1MDAgfSwKICBjbG9zZUJ0bjogeyBiYWNrZ3JvdW5kOiAibm9uZSIsIGJvcmRlcjogIm5vbmUiLCBjb2xvcjogUC5kaW0sIGZvbnRTaXplOiAxNywgY3Vyc29yOiAicG9pbnRlciIsIHBhZGRpbmc6IDggfSwKICBsYWJlbDogeyBkaXNwbGF5OiAiYmxvY2siLCBjb2xvcjogUC5tdXRlZCwgZm9udFNpemU6IDEyLCBtYXJnaW5Cb3R0b206IDcsIGZvbnRXZWlnaHQ6IDUwMCB9LAogIGRhdGVJbjogeyBiYWNrZ3JvdW5kOiBQLmJnLCBib3JkZXI6IGAxcHggc29saWQgJHtQLmJvcmRlcn1gLCBib3JkZXJSYWRpdXM6IDgsIHBhZGRpbmc6ICI5cHggMTFweCIsIGNvbG9yOiAiI0QxRDVEQiIsIGZvbnRTaXplOiAxNCwgZm9udEZhbWlseTogImluaGVyaXQiLCBtYXJnaW5Cb3R0b206IDE0LCB3aWR0aDogIjEwMCUiLCBib3hTaXppbmc6ICJib3JkZXItYm94IiwgY29sb3JTY2hlbWU6ICJkYXJrIiB9LAogIGNoaXBzOiB7IGRpc3BsYXk6ICJmbGV4IiwgZmxleFdyYXA6ICJ3cmFwIiwgZ2FwOiA3LCBtYXJnaW5Cb3R0b206IDE0IH0sCiAgdGV4dGFyZWE6IHsgd2lkdGg6ICIxMDAlIiwgYmFja2dyb3VuZDogUC5iZywgYm9yZGVyOiBgMXB4IHNvbGlkICR7UC5ib3JkZXJ9YCwgYm9yZGVyUmFkaXVzOiA5LCBwYWRkaW5nOiAxMSwgY29sb3I6ICIjRDFENURCIiwgZm9udFNpemU6IDE0LCBmb250RmFtaWx5OiAiaW5oZXJpdCIsIHJlc2l6ZTogInZlcnRpY2FsIiwgYm94U2l6aW5nOiAiYm9yZGVyLWJveCIsIGxpbmVIZWlnaHQ6IDEuNSB9LAogIHRleHRCdG46IHsgYmFja2dyb3VuZDogIm5vbmUiLCBib3JkZXI6ICJub25lIiwgY3Vyc29yOiAicG9pbnRlciIsIGZvbnRTaXplOiAxMywgZm9udEZhbWlseTogImluaGVyaXQiLCBwYWRkaW5nOiAiNnB4IDE0cHgiIH0sCiAgb2JUZXh0OiB7IGNvbG9yOiBQLm11dGVkLCBmb250U2l6ZTogMTUsIGxpbmVIZWlnaHQ6IDEuNywgbWFyZ2luOiAiMCAwIDEycHgiIH0sCiAgdGg6IHsgY29sb3I6IFAuZGltLCBmb250U2l6ZTogMTAsIGZvbnRXZWlnaHQ6IDUwMCwgcGFkZGluZzogIjZweCA0cHgiLCBib3JkZXJCb3R0b206IGAxcHggc29saWQgJHtQLmJvcmRlcn1gLCB0ZXh0QWxpZ246ICJjZW50ZXIiIH0sCiAgdGQ6IHsgY29sb3I6IFAubXV0ZWQsIGZvbnRTaXplOiAxMSwgcGFkZGluZzogIjhweCA0cHgiLCBib3JkZXJCb3R0b206IGAxcHggc29saWQgJHtQLmJvcmRlcn1gLCB2ZXJ0aWNhbEFsaWduOiAidG9wIiB9LAp9OwpSZWFjdERPTS5jcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyb290IikpLnJlbmRlcihSZWFjdC5jcmVhdGVFbGVtZW50KEFwcCkpOw=="),function(c){return c.charCodeAt(0)});
var c=new TextDecoder("utf-8").decode(b);
var t=Babel.transform(c,{presets:["react","env"]}).code;
var s=document.createElement("script");
s.textContent=t;
document.body.appendChild(s);
</script>
</body>
</html>
